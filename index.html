<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net data:; img-src 'self' data: blob:; connect-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://*.sakhraihospital.go.th https://localhost:3000 https://127.0.0.1:3000; base-uri 'self'; form-action 'self'">
    <meta name="opduer-api-base" content="../api/opduer_profile.php">
    <link rel="manifest" href="manifest.webmanifest">
    <meta name="description" content="‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå (VMS) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á">
    <meta name="robots" content="index,follow">
    <meta name="theme-color" content="#00858A">
    <meta property="og:title" content="‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå - ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£">
    <meta property="og:description" content="‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="th_TH">
    <meta property="og:image" content="assets/images/LogaSakrai2022_0.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="VMS">
    <link rel="apple-touch-icon" href="assets/images/LogaSakrai2022_0.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/LogaSakrai2022_0.png">
    <link rel="icon" type="image/png" sizes="192x192" href="assets/images/LogaSakrai2022_0.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <!-- jsPDF for PDF Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js" defer></script>
    <!-- SheetJS for Excel Export -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js" defer></script>
    <!-- Avatar Error Suppression (‡∏ã‡πà‡∏≠‡∏ô 404 errors ‡∏à‡∏≤‡∏Å avatar ‡πÉ‡∏ô console) -->
    <script src="assets/js/avatar-error-suppression.js"></script>
    
    <!-- üîí Authentication Guard - ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Login -->
    <script src="js/auth-guard.js"></script>
    
    <style>
        /* Reset ‡πÅ‡∏•‡∏∞ Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Notification Bar */
        .notification-bar {
            position: fixed;
            top: 64px; /* ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ï‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß */
            right: 16px;
            left: auto;
            max-width: 420px;
            z-index: 1100;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-radius: 10px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            transform: translateY(-8px);
            opacity: 0;
            pointer-events: none;
            transition: transform 0.2s ease, opacity 0.2s ease;
        }

        .notification-bar.show {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }

        .notification-bar.success {
            background: linear-gradient(135deg, #28a745, #1e7e34);
            color: white;
        }

        .notification-bar.warning {
            background: linear-gradient(135deg, #ffc107, #e0a800);
            color: #212529;
        }

        .notification-bar.danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
        }

        /* ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°: ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ notification bar ‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ô */
        .notification-bar + .notification-bar {
            top: calc(64px + 60px); /* ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏°‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏±‡∏ô */
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification-close {
            background: none;
            border: none;
            color: inherit;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: background-color 0.2s;
        }

        .notification-close:hover {
            background-color: rgba(255,255,255,0.2);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #00858A, #006B70);
            color: white;
            padding: 0.5rem 0.75rem; /* ‡∏•‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏ã‡πâ‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏ä‡∏¥‡∏î‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô */
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            overflow: visible; /* ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ dropdown ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏î‡πâ */
        }

        .notification-bar.show + .header { margin-top: 0; }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: none; /* ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á */
            margin: 0; /* ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á */
            width: 100%;
            overflow: visible; /* ‚úÖ ‡πÉ‡∏´‡πâ dropdown ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏î‡πâ */
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 0.6rem; /* ‡∏•‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° */
        }

        .logo {
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            overflow: hidden;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Allow text block to shrink for ellipsis */
        .logo-section > div { min-width: 0; }

        .logo-hospital {
            width: 44px; /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏•‡πÇ‡∏Å‡πâ */
            height: 44px;
            background: transparent;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .logo-ministry {
            width: 44px; /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏•‡πÇ‡∏Å‡πâ */
            height: 44px;
            background: transparent;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .logo-hospital img,
        .logo-ministry img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .header h1 {
            font-size: 1.2rem; /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° */
            font-weight: 600;
            margin: 0;
            line-height: 1.2;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            overflow: visible; /* ‚úÖ ‡πÉ‡∏´‡πâ dropdown ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏î‡πâ */
        }

        /* User Menu Wrapper - ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î position ‡∏Ç‡∏≠‡∏á dropdown */
        .user-menu-wrapper {
            position: relative;
            display: inline-block;
        }

        /* ============================================
           üîî NOTIFICATION BADGE & DROPDOWN
        ============================================ */
        .notification-badge {
            position: relative;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: background-color 0.2s;
            color: white;
        }

        .notification-badge:hover {
            background-color: rgba(255,255,255,0.15);
        }
        /* ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç CSS ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å (‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏ä‡πâ // ‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏∏‡∏î selector) */
        .notification-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        .notification-item {
            border-bottom: 1px solid #f8f9fa;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            gap: 0.75rem;
            position: relative;
        }

        .notification-item:hover {
            background: #f8f9fa;
        }

        .notification-item.unread {
            background: #e6f5f6;
        }

        .notification-item.unread::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: #00858A;
        }

        .notification-icon-wrapper {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            color: white;
            flex-shrink: 0;
        }

        .notification-icon-wrapper.urgent { background: linear-gradient(135deg, #dc3545, #c82333); }
        .notification-icon-wrapper.warning { background: linear-gradient(135deg, #ffc107, #e0a800); }
        .notification-icon-wrapper.info { background: linear-gradient(135deg, #17a2b8, #138496); }
        .notification-icon-wrapper.success { background: linear-gradient(135deg, #28a745, #1e7e34); }

        .notification-content {
            flex: 1;
            min-width: 0;
        }

        .notification-title {
            font-weight: 600;
            color: #495057;
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .notification-message {
            color: #6c757d;
            font-size: 0.85rem;
            line-height: 1.4;
            margin-bottom: 0.25rem;
        }

        .notification-time {
            color: #adb5bd;
            font-size: 0.75rem;
        }

        .notification-footer-btn {
            flex: 1;
            padding: 0.5rem;
            border: none;
            background: white;
            color: #00858A;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .notification-footer-btn:hover {
            background: #e6f5f6;
        }

        .empty-notifications {
            padding: 3rem 1rem;
            text-align: center;
            color: #6c757d;
        }

        .empty-notifications i {
            font-size: 3rem;
            color: #dee2e6;
            margin-bottom: 1rem;
        }

        @media (max-width: 576px) {
            .notification-dropdown {
                width: calc(100vw - 20px);
                right: -100px;
            }
        }

        /* ============================================
           üë§ USER MENU & DROPDOWN (‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢)
        ============================================ */
        .user-menu-wrapper {
            position: relative;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            padding: 8px 14px;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .user-menu:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .user-menu.active {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: #00858A;
            font-size: 1rem;
            border: 2px solid rgba(255, 255, 255, 0.5);
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .user-menu-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
            line-height: 1.3;
        }

        .user-menu-name {
            font-weight: 600;
            font-size: 0.95rem;
            color: white;
            max-width: 140px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .user-menu-role {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.85);
            font-weight: 400;
        }

        .user-menu-arrow {
            font-size: 0.7rem;
            transition: transform 0.3s ease;
            color: rgba(255, 255, 255, 0.9);
            margin-left: auto;
        }

        .user-menu.active .user-menu-arrow {
            transform: rotate(180deg);
        }

        .user-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
            min-width: 280px;
            max-width: 320px;
            z-index: 1050;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-12px) scale(0.95);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }

        .user-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1);
            pointer-events: auto;
        }

        .dropdown-header {
            padding: 1.25rem 1rem;
            background: linear-gradient(135deg, #00858A 0%, #006B70 100%);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .dropdown-avatar {
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #00858A;
            font-size: 1.3rem;
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.9);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            flex-shrink: 0;
        }

        .dropdown-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .dropdown-user-info {
            flex: 1;
            min-width: 0;
        }

        .dropdown-user-info h4 {
            margin: 0 0 0.25rem 0;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .dropdown-user-info p {
            margin: 0;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 400;
        }

        .dropdown-menu {
            padding: 0.5rem 0;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.875rem 1rem;
            color: #2c3e50;
            background: white;
            border: none;
            width: 100%;
            text-align: left;
            font-size: 0.95rem;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s ease;
            cursor: pointer;
            position: relative;
        }

        .dropdown-item:hover {
            background: linear-gradient(90deg, #e8f5e9 0%, #f1f8f4 100%);
            color: #00695c;
            padding-left: 1.25rem;
        }

        .dropdown-item i {
            width: 20px;
            text-align: center;
            font-size: 1.05rem;
            flex-shrink: 0;
            opacity: 0.85;
        }

        .dropdown-item span {
            flex: 1;
        }

        .dropdown-item .badge {
            font-size: 0.7rem;
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-weight: 600;
        }

        .dropdown-item .notification-count {
            background: linear-gradient(135deg, #ff4444, #cc0000);
            color: white;
            border-radius: 12px;
            padding: 0.15rem 0.45rem;
            font-size: 0.75rem;
            font-weight: 700;
            min-width: 20px;
            text-align: center;
        }

        .dropdown-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, #e0e0e0, transparent);
            margin: 0.5rem 0;
        }

        .dropdown-item.logout-item {
            color: #d32f2f;
        }

        .dropdown-item.logout-item:hover {
            background: linear-gradient(90deg, #ffebee 0%, #fce4ec 100%);
            color: #c62828;
        }

        .dropdown-item.admin-only {
            display: none;
        }

        .dropdown-item.admin-only.show {
            display: flex;
        }
        
        /* üîî Notification Badge in User Menu */
        #userMenuNotificationCount {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            border-radius: 12px;
            padding: 0.2rem 0.5rem;
            font-size: 0.75rem;
            font-weight: 700;
            min-width: 20px;
            text-align: center;
            animation: pulse 2s infinite;
        }
        
        /* üåô Dark Mode Icon Animation */
        #darkModeIcon {
            transition: transform 0.3s ease, color 0.3s ease;
        }
        
        .dropdown-item:hover #darkModeIcon {
            transform: rotate(180deg);
        }

        /* Notification Styles */
        .user-menu-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #dc3545;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        .user-menu-badge.pulse {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .notification-item.unread {
            background-color: #f8f9fa;
            border-left: 3px solid #007bff;
        }

        .notification-item.read {
            opacity: 0.7;
        }

        .notification-dot {
            width: 8px;
            height: 8px;
            background: #007bff;
            border-radius: 50%;
            margin-top: 5px;
        }

        .notification-icon {
            width: 24px;
            text-align: center;
        }

        /* Enhanced Dropdown Notification List */
        .dropdown-notification-list {
            max-height: 320px;
            overflow-y: auto;
            padding: 0;
        }

        .dropdown-notification-list::-webkit-scrollbar {
            width: 5px;
        }

        .dropdown-notification-list::-webkit-scrollbar-thumb {
            background: #dee2e6;
            border-radius: 3px;
        }

        .dropdown-notification-empty {
            padding: 2.5rem 1rem;
            text-align: center;
            color: #6c757d;
        }

        .dropdown-notification-empty i {
            font-size: 3rem;
            margin-bottom: 0.75rem;
            opacity: 0.25;
            display: block;
        }

        .dropdown-notification-empty p {
            margin: 0;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .dropdown-notification-item {
            padding: 0.85rem 1rem;
            border-bottom: 1px solid #e9ecef;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
        }

        .dropdown-notification-item:hover {
            background-color: #f8f9fa;
            transform: translateX(2px);
        }

        /* ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°: ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô */
        .dropdown-notification-item.unread {
            background-color: rgba(0, 133, 138, 0.06);
            border-left: 3px solid #00858A;
            margin-bottom: 2px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ */
        }

        .dropdown-notification-item.unread::before {
            content: '‚óè';
            position: absolute;
            left: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: #00858A;
            font-size: 0.6rem;
        }

        .dropdown-notification-item .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.35rem;
        }

        .dropdown-notification-item .notification-title {
            font-weight: 600;
            font-size: 0.85rem;
            color: #212529;
            line-height: 1.3;
        }

        .dropdown-notification-item .notification-time {
            font-size: 0.75rem;
            color: #868e96;
            white-space: nowrap;
            margin-left: 0.5rem;
        }

        .dropdown-notification-item .notification-message {
            font-size: 0.8rem;
            color: #495057;
            line-height: 1.5;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .dropdown-notification-footer {
            border-top: 1px solid #e9ecef;
            padding: 0.65rem 0.5rem 0.5rem 0.5rem;
            background-color: #fafbfc;
        }

        /* Enhanced Section Actions */
        .dropdown-section-actions {
            display: flex;
            gap: 0.5rem;
            margin-left: auto;
        }

        .section-action {
            background: transparent;
            border: 1px solid #e9ecef;
            color: #6c757d;
            font-size: 0.8rem;
            padding: 0.35rem 0.75rem;
            border-radius: 6px;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            font-weight: 500;
        }

        .section-action:hover {
            background-color: #00858A;
            border-color: #00858A;
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0, 133, 138, 0.2);
        }

        .section-action.full {
            width: 100%;
            justify-content: center;
            padding: 0.7rem 1rem;
            font-weight: 600;
            background-color: white;
            border-color: #dee2e6;
        }

        .section-action.full:hover {
            background-color: #00858A;
            border-color: #00858A;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 133, 138, 0.25);
        }

        .section-action i {
            font-size: 0.85rem;
        }

        /* Responsive Design */
        /* üì± Responsive Design ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö User Dropdown */
        @media (max-width: 768px) {
            .user-dropdown {
                right: -10px;
                left: auto;
                min-width: 280px;
                max-width: calc(100vw - 40px);
            }
            
            .user-menu-name {
                max-width: 120px;
                font-size: 0.9rem;
            }
            
            .user-menu-role {
                font-size: 0.75rem;
            }
        }

        @media (max-width: 576px) {
            .user-menu-info {
                display: none;
            }

            .user-menu {
                padding: 8px;
                gap: 0.5rem;
            }
            
            .user-avatar {
                width: 32px;
                height: 32px;
                font-size: 0.9rem;
            }

            .user-dropdown {
                position: fixed;
                top: 60px;
                right: 10px;
                left: 10px;
                width: auto;
                max-width: none;
                max-width: none;
            }
        }





        /* Navigation */
        .nav-container {
            display: none; /* ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡πÉ‡∏ä‡πâ Sidebar */
        }

        .nav-menu {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .nav-item {
            flex-shrink: 0;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            text-decoration: none;
            color: #6c757d;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            white-space: nowrap;
            cursor: pointer;
        }

        .nav-link:hover {
            color: #00858A;
            background-color: #f8f9fa;
        }

        .nav-link.active {
            color: #00858A;
            border-bottom-color: #00858A;
            background-color: #f8f9fa;
        }

        .nav-link i {
            font-size: 1.1rem;
        }

        /* Sidebar Layout */
        .sidebar-toggle {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: #ffffff;
            color: #00858A;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 8px 12px;
            cursor: pointer;
            margin-right: 12px;
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 270px;
            background: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%);
            border-right: 1px solid #e9ecef;
            box-shadow: 0 8px 24px rgba(0,0,0,0.08);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: 900; /* ‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ header (1000) */
            padding-top: 64px; /* ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡πÉ‡∏´‡∏°‡πà */
            overflow-y: auto;
        }

        .sidebar.open { transform: translateX(0); }

        .sidebar .menu {
            display: flex;
            flex-direction: column;
            gap: 4px;
            padding: 12px 8px 24px 8px;
        }

        .sidebar .menu a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: 10px;
            color: #2b2f33;
            text-decoration: none;
            transition: background 0.2s, color 0.2s;
        }

        .sidebar .menu a:hover { background: #eef3f4; color: #00858A; }
        .sidebar .menu a.active { background: #e6f5f6; color: #006B70; box-shadow: inset 3px 0 0 #00858A; }

        .sidebar .menu a i { width: 20px; text-align: center; }
        .menu-badge {
            background: linear-gradient(135deg,#dc3545,#c82333);
            color:#fff;
            border-radius:12px;
            padding:2px 6px;
            font-size:0.65rem;
            font-weight:600;
            margin-left:6px;
            box-shadow:0 2px 4px rgba(0,0,0,0.15);
            letter-spacing:.5px;
            display:inline-flex;
            align-items:center;
            gap:4px;
        }
        .menu-badge.approve {
            background:linear-gradient(135deg,#ffc107,#e0a800);
            color:#212529;
        }
        .menu-badge.ack {
            background:linear-gradient(135deg,#17a2b8,#138496);
        }
        .menu-badge.zero { display:none !important; }

        .sidebar-section-title {
            font-size: 0.75rem;
            color: #868e96;
            text-transform: uppercase;
            letter-spacing: .04em;
            padding: 14px 14px 6px 14px;
        }

        .sidebar-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.35);
            z-index: 880; /* ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ header */
            opacity: 0;
            visibility: hidden;
            transition: opacity .2s ease;
        }

        .sidebar-overlay.show { opacity: 1; visibility: visible; }

        /* ‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡∏ï‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≠‡πÉ‡∏´‡∏ç‡πà ‡πÉ‡∏´‡πâ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà Sidebar */
        @media (min-width: 992px) {
            .sidebar { transform: translateX(0); }
            .sidebar-toggle { display: none; }
            .main-content { padding-left: 300px; }
        }

        /* Mobile tweaks: bigger hamburger, smaller header text and paddings */
        @media (max-width: 576px) {
            .header { padding: 0.4rem 0.5rem; }
            .logo-section { gap: 0.5rem; }
            .logo-hospital { width: 36px; height: 36px; }
            .header h1 { font-size: clamp(0.9rem, 4.2vw, 1rem); line-height: 1.15; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
            .logo-section p { font-size: clamp(0.7rem, 3.6vw, 0.85rem); opacity: 0.85; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
            .header-content { gap: 0.4rem; }
            .sidebar-toggle { padding: 10px 14px; font-size: 1.1rem; }
            .sidebar-toggle i { font-size: 1.25rem; }
            .notification-badge { padding: 6px; }
            .notification-bar { top: 56px; right: 10px; max-width: 90vw; }
            /* Dashboard subtitle: keep single line on small screens */
            .section-header p { font-size: clamp(0.74rem, 3.5vw, 0.88rem); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        }

        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            min-height: calc(100vh - 200px);
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-header {
            margin-bottom: 2rem;
        }

        .section-header h2 {
            color: #00858A;
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-header p {
            color: #6c757d;
            font-size: 1.1rem;
        }

        /* Statistics Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .stat-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .stat-icon.vehicles { background: linear-gradient(135deg, #00858A, #006B70); }
        .stat-icon.available { background: linear-gradient(135deg, #28a745, #1e7e34); }
        .stat-icon.in-use { background: linear-gradient(135deg, #ffc107, #e0a800); }
        .stat-icon.maintenance { background: linear-gradient(135deg, #dc3545, #c82333); }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #00858A;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #6c757d;
            font-weight: 500;
        }

        /* Dashboard Filters */
        .dashboard-filters {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-top: 1rem;
        }

        .filter-select {
            padding: 0.5rem 1rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            color: #495057;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-select:focus {
            outline: none;
            border-color: #00858A;
            box-shadow: 0 0 0 3px rgba(0,133,138,0.1);
        }

        .refresh-btn {
            background: linear-gradient(135deg, #00858A, #006B70);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .refresh-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,133,138,0.3);
        }

        .filter-btn, .export-btn {
            background: #f8f9fa;
            color: #495057;
            border: 1px solid #e9ecef;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .filter-btn:hover, .export-btn:hover {
            background: #e9ecef;
            transform: translateY(-1px);
        }
        /* Advanced Filters Panel */
        .advanced-filters-panel {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin: 1rem 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .advanced-filters-panel.active {
            max-height: 600px;
            padding: 1.5rem;
        }

        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e9ecef;
        }

        .filters-header h4 {
            color: #00858A;
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0;
        }

        .close-filters {
            background: none;
            border: none;
            color: #6c757d;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.2s;
        }

        .close-filters:hover {
            background: #f8f9fa;
            color: #495057;
        }

        .filters-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .filter-group label {
            font-weight: 600;
            color: #495057;
            font-size: 0.95rem;
        }

        .filter-checkboxes {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            cursor: pointer;
            padding: 0.3rem 0;
            font-size: 0.9rem;
            color: #495057;
            transition: color 0.2s;
        }

        .checkbox-item:hover {
            color: #00858A;
        }

        .checkbox-item input[type="checkbox"] {
            display: none;
        }

        .checkmark {
            width: 18px;
            height: 18px;
            border: 2px solid #e9ecef;
            border-radius: 4px;
            position: relative;
            transition: all 0.2s;
        }

        .checkbox-item input[type="checkbox"]:checked + .checkmark {
            background: #00858A;
            border-color: #00858A;
        }

        .checkbox-item input[type="checkbox"]:checked + .checkmark::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .date-range {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .date-input {
            padding: 0.5rem;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 0.9rem;
            color: #495057;
            transition: border-color 0.2s;
        }

        .date-input:focus {
            outline: none;
            border-color: #00858A;
        }

        .filter-actions {
            grid-column: 1 / -1;
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #e9ecef;
        }

        .apply-filters-btn {
            background: linear-gradient(135deg, #00858A, #006B70);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .apply-filters-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,133,138,0.3);
        }

        .reset-filters-btn {
            background: #f8f9fa;
            color: #6c757d;
            border: 1px solid #e9ecef;
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .reset-filters-btn:hover {
            background: #e9ecef;
            color: #495057;
        }

        /* Search Section */
        .search-section {
            display: flex;
            gap: 1.5rem;
            align-items: flex-start;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }

        .search-container {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-input-group {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            color: #6c757d;
            z-index: 2;
        }

        .search-input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            color: #495057;
            background: white;
            transition: all 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: #00858A;
            box-shadow: 0 0 0 3px rgba(0,133,138,0.1);
        }

        .search-clear {
            position: absolute;
            right: 1rem;
            background: none;
            border: none;
            color: #6c757d;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 50%;
            transition: all 0.2s;
            display: none;
        }

        .search-clear:hover {
            background: #f8f9fa;
            color: #495057;
        }

        .search-input:not(:placeholder-shown) + .search-clear {
            display: block;
        }

        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .search-suggestions.active {
            display: block;
        }

        .suggestion-item {
            padding: 0.8rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid #f8f9fa;
            transition: background 0.2s;
        }

        .suggestion-item:hover {
            background: #f8f9fa;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .quick-actions {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
        }

        .quick-action-btn {
            background: white;
            color: #00858A;
            border: 2px solid #00858A;
            padding: 0.6rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .quick-action-btn:hover {
            background: #00858A;
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,133,138,0.3);
        }

        /* KPI Section */
        .kpi-section {
            margin-bottom: 2rem;
        }

        .kpi-section h3 {
            color: #00858A;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .kpi-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            border-left: 4px solid;
        }

        .kpi-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .kpi-card.primary { border-left-color: #00858A; }
        .kpi-card.success { border-left-color: #28a745; }
        .kpi-card.warning { border-left-color: #ffc107; }
        .kpi-card.info { border-left-color: #17a2b8; }
        .kpi-card.danger { border-left-color: #dc3545; }
        .kpi-card.secondary { border-left-color: #6c757d; }

        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .kpi-icon {
            width: 45px;
            height: 45px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            color: white;
        }

        .kpi-card.primary .kpi-icon { background: linear-gradient(135deg, #00858A, #006B70); }
        .kpi-card.success .kpi-icon { background: linear-gradient(135deg, #28a745, #1e7e34); }
        .kpi-card.warning .kpi-icon { background: linear-gradient(135deg, #ffc107, #e0a800); }
        .kpi-card.info .kpi-icon { background: linear-gradient(135deg, #17a2b8, #138496); }
        .kpi-card.danger .kpi-icon { background: linear-gradient(135deg, #dc3545, #c82333); }
        .kpi-card.secondary .kpi-icon { background: linear-gradient(135deg, #6c757d, #545b62); }

        .kpi-trend {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.85rem;
            font-weight: 600;
            padding: 0.3rem 0.6rem;
            border-radius: 20px;
        }

        .kpi-trend.up {
            background: rgba(40, 167, 69, 0.1);
            color: #28a745;
        }

        .kpi-trend.down {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }

        .kpi-trend.stable {
            background: rgba(108, 117, 125, 0.1);
            color: #6c757d;
        }

        .kpi-content {
            text-align: left;
        }

        .kpi-number {
            font-size: 2.2rem;
            font-weight: 700;
            color: #00858A;
            margin-bottom: 0.3rem;
            line-height: 1;
        }

        .kpi-label {
            color: #495057;
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 0.2rem;
        }

        .kpi-sublabel {
            color: #6c757d;
            font-size: 0.85rem;
        }

        /* Status Section */
        .status-section {
            margin-bottom: 2rem;
        }

        .status-section h3 {
            color: #00858A;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .status-card {
            background: white;
            padding: 1.2rem;
            border-radius: 10px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: transform 0.2s;
        }

        .status-card:hover {
            transform: translateY(-1px);
        }

        .status-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
        }

        .status-card.available .status-icon { background: linear-gradient(135deg, #28a745, #1e7e34); }
        .status-card.in-use .status-icon { background: linear-gradient(135deg, #ffc107, #e0a800); }
        .status-card.maintenance .status-icon { background: linear-gradient(135deg, #dc3545, #c82333); }
        .status-card.inspection .status-icon { background: linear-gradient(135deg, #17a2b8, #138496); }

        .status-content {
            flex: 1;
        }

        .status-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: #00858A;
            line-height: 1;
        }

        .status-label {
            color: #495057;
            font-weight: 500;
            font-size: 0.9rem;
            margin: 0.2rem 0;
        }

        .status-percentage {
            color: #6c757d;
            font-size: 0.8rem;
        }

        /* Performance Section */
        .performance-section {
            margin-bottom: 2rem;
        }

        .performance-section h3 {
            color: #00858A;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .performance-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .performance-card:hover {
            transform: translateY(-2px);
        }

        .performance-header h4 {
            color: #495057;
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .performance-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #00858A;
            margin-bottom: 0.5rem;
        }

        .performance-comparison {
            font-size: 0.9rem;
            color: #6c757d;
        }

        .trend-up {
            color: #28a745;
            font-weight: 600;
        }

        .trend-down {
            color: #dc3545;
            font-weight: 600;
        }

        .trend-stable {
            color: #6c757d;
            font-weight: 600;
        }

        /* Alerts Section */
        .alerts-section {
            margin-bottom: 2rem;
        }

        .alerts-section h3 {
            color: #00858A;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .alerts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .alert-card {
            background: white;
            padding: 1.2rem;
            border-radius: 10px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.08);
            display: flex;
            gap: 1rem;
            border-left: 4px solid;
            transition: transform 0.2s;
        }

        .alert-card:hover {
            transform: translateY(-1px);
        }

        .alert-card.urgent { border-left-color: #dc3545; }
        .alert-card.warning { border-left-color: #ffc107; }
        .alert-card.info { border-left-color: #17a2b8; }
        .alert-card.success { border-left-color: #28a745; }

        .alert-icon {
            width: 35px;
            height: 35px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: white;
            flex-shrink: 0;
        }

        .alert-card.urgent .alert-icon { background: linear-gradient(135deg, #dc3545, #c82333); }
        .alert-card.warning .alert-icon { background: linear-gradient(135deg, #ffc107, #e0a800); }
        .alert-card.info .alert-icon { background: linear-gradient(135deg, #17a2b8, #138496); }
        .alert-card.success .alert-icon { background: linear-gradient(135deg, #28a745, #1e7e34); }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.3rem;
        }
        .alert-message {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
            line-height: 1.4;
        }

        .alert-time {
            color: #adb5bd;
            font-size: 0.8rem;
        }

        /* Activities Section */
        .activities-section {
            margin-bottom: 2rem;
        }

        .activities-section h3 {
            color: #00858A;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .activities-container {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #e9ecef;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            color: white;
            flex-shrink: 0;
        }

        .activity-icon.add { background: linear-gradient(135deg, #28a745, #1e7e34); }
        .activity-icon.user { background: linear-gradient(135deg, #17a2b8, #138496); }
        .activity-icon.maintenance { background: linear-gradient(135deg, #ffc107, #e0a800); }
        .activity-icon.request { background: linear-gradient(135deg, #00858A, #006B70); }
        .activity-icon.fuel { background: linear-gradient(135deg, #6f42c1, #5a32a3); }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.2rem;
        }

        .activity-description {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 0.2rem;
        }

        .activity-time {
            color: #adb5bd;
            font-size: 0.8rem;
        }

        .activity-status {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            color: white;
            flex-shrink: 0;
        }

        .activity-status.success { background: #28a745; }
        .activity-status.warning { background: #ffc107; }
        .activity-status.info { background: #17a2b8; }

        /* Charts Section */
        .charts-section {
            margin-bottom: 2rem;
        }

        .charts-section h3 {
            color: #00858A;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .charts-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .chart-container {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .chart-container:hover {
            transform: translateY(-2px);
        }

        .chart-container.full-width {
            grid-column: 1 / -1;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e9ecef;
        }

        .chart-header h4 {
            color: #495057;
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0;
        }

        .chart-controls {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .chart-filter {
            padding: 0.4rem 0.8rem;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            background: white;
            color: #495057;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chart-filter:focus {
            outline: none;
            border-color: #00858A;
            box-shadow: 0 0 0 2px rgba(0,133,138,0.1);
        }

        .chart-legend {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: #6c757d;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }

        .chart-content {
            position: relative;
            height: 300px;
        }

        .chart-content canvas {
            max-height: 100%;
        }

        /* Heatmap Styles */
        .heatmap-section {
            margin-bottom: 2rem;
        }

        .heatmap-btn {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            color: #495057;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .heatmap-btn:hover {
            background: #e9ecef;
        }

        .heatmap-btn.active {
            background: #00858A;
            color: white;
            border-color: #00858A;
        }

        .heatmap-container {
            padding: 1rem 0;
        }

        .heatmap-grid {
            display: flex;
            gap: 1rem;
        }

        .heatmap-labels {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .time-labels {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .time-label {
            width: 50px;
            text-align: center;
            font-size: 0.8rem;
            color: #6c757d;
            font-weight: 500;
        }

        .day-labels {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .day-label {
            height: 20px;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            color: #495057;
            font-weight: 500;
            width: 80px;
        }

        .heatmap-cells {
            display: grid;
            grid-template-columns: repeat(7, 20px);
            grid-template-rows: repeat(7, 20px);
            gap: 2px;
            margin-top: 1.5rem;
        }

        .heatmap-cell {
            width: 20px;
            height: 20px;
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .heatmap-cell:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .heatmap-legend {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #6c757d;
        }

        .legend-scale {
            display: flex;
            gap: 2px;
        }

        .scale-item {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .charts-row {
                grid-template-columns: 1fr;
            }
            
            .kpi-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
            
            .performance-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .dashboard-filters {
                flex-direction: column;
                gap: 0.8rem;
                align-items: stretch;
            }
            
            .search-section {
                flex-direction: column;
                gap: 1rem;
            }
            
            .quick-actions {
                justify-content: center;
            }
            
            .filters-content {
                grid-template-columns: 1fr;
            }
            
            .filter-actions {
                flex-direction: column;
            }
            
            .kpi-grid {
                grid-template-columns: 1fr;
            }
            
            .status-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .performance-grid {
                grid-template-columns: 1fr;
            }
            
            .alerts-grid {
                grid-template-columns: 1fr;
            }
            
            .chart-content {
                height: 250px;
            }
            
            .heatmap-grid {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .time-labels {
                flex-direction: column;
                gap: 0.2rem;
            }
            
            .day-labels {
                flex-direction: row;
                gap: 0.5rem;
            }
            
            .day-label {
                width: auto;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .status-grid {
                grid-template-columns: 1fr;
            }
            
            .quick-action-btn {
                font-size: 0.9rem;
                padding: 0.5rem 0.8rem;
            }
            
            .search-input {
                font-size: 0.9rem;
                padding: 0.7rem 1rem 0.7rem 2.3rem;
            }
        }

        /* Modern UI Enhancements */
        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .gradient-bg {
            background: linear-gradient(135deg, #00858A 0%, #006B70 50%, #004D52 100%);
        }

        .floating-card {
            transform: translateY(0);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .floating-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 133, 138, 0.15);
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(0, 133, 138, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(0, 133, 138, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(0, 133, 138, 0);
            }
        }

        .shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }

        .slide-in-left {
            animation: slideInLeft 0.6s ease-out;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-in-right {
            animation: slideInRight 0.6s ease-out;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Enhanced Button Styles */
        .btn-primary {
            background: linear-gradient(135deg, #00858A, #006B70);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 133, 138, 0.3);
        }

        .btn-secondary {
            background: white;
            color: #00858A;
            border: 2px solid #00858A;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #00858A;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 133, 138, 0.3);
        }

        /* Enhanced Card Styles */
        .modern-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 133, 138, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .modern-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00858A, #006B70, #004D52);
        }

        .modern-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 133, 138, 0.15);
        }

        /* Loading States */
        .loading-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
        }

        @keyframes loading {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }

        /* Tooltip Styles */
        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(-5px);
        }

        /* Progress Bars */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00858A, #006B70);
            border-radius: 4px;
            transition: width 0.8s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: progress-shine 2s infinite;
        }

        @keyframes progress-shine {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100%);
            }
        }

        /* Activities */
        .activities-container {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .activities-container h3 {
            color: #00858A;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #e9ecef;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            background: #f8f9fa;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #00858A;
        }

        .activity-content p {
            margin: 0;
            font-weight: 500;
        }

        .activity-time {
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 0.25rem;
        }

        /* Tables */
        .table-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .table-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #00858A;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-add {
            background: linear-gradient(135deg, #00858A, #006B70);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .btn-add:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,133,138,0.3);
        }

        .table-content {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
            white-space: nowrap;
        }

        td {
            color: #495057;
        }

        .text-center {
            text-align: center;
        }

        /* Badges */
        .badge {
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge.success {
            background: #d4edda;
            color: #155724;
        }

        .badge.warning {
            background: #fff3cd;
            color: #856404;
        }

        .badge.danger {
            background: #f8d7da;
            color: #721c24;
        }

        .badge.secondary {
            background: #e2e3e5;
            color: #383d41;
        }

        .badge.info {
            background: #d1ecf1;
            color: #0c5460;
        }

        /* Action Buttons */
        .btn-action {
            background: none;
            border: none;
            padding: 0.5rem;
            border-radius: 6px;
            cursor: pointer;
            margin: 0 0.25rem;
            transition: all 0.2s;
        }

        .btn-action.edit {
            color: #00858A;
        }

        .btn-action.edit:hover {
            background: rgba(0,133,138,0.1);
        }

        .btn-action.delete {
            color: #dc3545;
        }

        .btn-action.delete:hover {
            background: rgba(220,53,69,0.1);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e9ecef;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #00858A;
        }

        .close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6c757d;
        }

        .close:hover {
            color: #dc3545;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #495057;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #00858A;
            box-shadow: 0 0 0 2px rgba(0,133,138,0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #00858A, #006B70);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,133,138,0.3);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            margin-left: 0.5rem;
            transition: all 0.2s;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header {
                padding: 1rem;
            }
            
            .header-content {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .nav-menu {
                padding: 0 1rem;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .nav-link {
                padding: 1rem;
                font-size: 0.9rem;
            }
            
            .nav-link span {
                display: none;
            }
            
            .main-content {
                padding: 1rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
            
            .stat-card {
                padding: 1rem;
            }
            
            .stat-number {
                font-size: 2rem;
            }
            
            .table-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }
            
            .table-content {
                font-size: 0.9rem;
            }
            
            th, td {
                padding: 0.75rem 0.5rem;
            }
            
            .notification-bar {
                padding: 10px 15px;
                font-size: 0.9rem;
            }

            .modal-content {
                margin: 10% auto;
                width: 95%;
                padding: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.3rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-container {
                top: 120px;
            }
            
            .notification-bar.show + .header {
                margin-top: 50px;
            }
            
            .section-header h2 {
                font-size: 1.5rem;
            }
            
            .activity-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .activity-icon {
                align-self: flex-start;
            }
        }

        /* ========================================
           üé® Enhanced Dashboard Styles 
        ======================================== */
        
        /* Dashboard Dropdown Controls */
        .dashboard-controls {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .controls-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f8f9fa;
        }

        .controls-header h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .controls-header h3 i { 
            color: #00858A; 
        }

        .dashboard-toggle {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .toggle-all {
            background: linear-gradient(135deg, #00858A, #00B4D8);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .toggle-all:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,133,138,0.3);
        }

        .section-toggles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .section-toggle {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .section-toggle:hover {
            border-color: #00858A;
            box-shadow: 0 2px 8px rgba(0,133,138,0.1);
        }
        
        .section-toggle.active {
            border-color: #00858A;
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
        }

        .toggle-content {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .toggle-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
        }
        
        .toggle-icon.stats { background: linear-gradient(135deg, #FF6B6B, #FF8E8E); }
        .toggle-icon.analytics { background: linear-gradient(135deg, #4ECDC4, #6EE7DF); }
        .toggle-icon.actions { background: linear-gradient(135deg, #45B7D1, #6BC5E3); }
        .toggle-icon.activities { background: linear-gradient(135deg, #96CEB4, #B8E6B8); }
        .toggle-icon.metrics { background: linear-gradient(135deg, #FFEAA7, #FFD93D); }
        .toggle-icon.monitoring { background: linear-gradient(135deg, #DDA0DD, #E6B3E6); }
        .toggle-icon.advanced { background: linear-gradient(135deg, #FFA07A, #FFB366); }

        .toggle-text {
            display: flex;
            flex-direction: column;
        }
        
        .toggle-title {
            font-weight: 600;
            color: #333;
            font-size: 0.875rem;
        }
        
        .toggle-description {
            font-size: 0.75rem;
            color: #6c757d;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
            background: #e9ecef;
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        
        .toggle-switch.active { 
            background: #00858A; 
        }
        
        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .toggle-switch.active::after { 
            transform: translateX(26px); 
        }

        /* Dashboard Sections with Toggle */
        .dashboard-section {
            transition: all 0.5s ease;
            overflow: hidden;
            margin: 2rem 0;
        }
        
        .dashboard-section.hidden {
            max-height: 0;
            opacity: 0;
            margin: 0;
            padding: 0;
            pointer-events: none;
        }
        
        .dashboard-section.visible {
            max-height: 2000px;
            opacity: 1;
            margin: 2rem 0;
            padding: 0;
            pointer-events: auto;
        }

        /* Enhanced Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(255,255,255,0.8);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.6s ease-out;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00858A, #006B70);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }

        .stat-trend {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
            font-weight: 600;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
        }

        .stat-trend.positive {
            background: rgba(40, 167, 69, 0.1);
            color: #28a745;
        }

        .stat-trend.negative {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .stat-detail {
            font-size: 0.875rem;
            color: #6c757d;
            margin-top: 0.5rem;
        }

        /* Analytics Grid */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .chart-container {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(0,0,0,0.05);
            animation: fadeInUp 0.6s ease-out;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .chart-header h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chart-controls {
            display: flex;
            gap: 0.5rem;
        }

        .chart-controls select {
            padding: 0.5rem 1rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: white;
            font-size: 0.875rem;
            color: #495057;
        }

        .btn-refresh {
            padding: 0.5rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: white;
            color: #6c757d;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-refresh:hover {
            background: #f8f9fa;
            color: #495057;
        }

        .chart-content {
            position: relative;
            height: 250px;
        }

        /* Quick Actions */
        .quick-actions {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }

        .quick-actions h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1.5rem;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        /* Desktop PC - ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô 4 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
        @media (min-width: 1200px) {
            .actions-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 1.5rem;
            }
        }

        /* Laptop/Notebook - ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô 3 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
        @media (min-width: 992px) and (max-width: 1199px) {
            .actions-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 1.25rem;
            }
        }

        /* Tablet - ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
        @media (min-width: 768px) and (max-width: 991px) {
            .actions-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
        }

        /* Mobile - ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á 1 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
        @media (max-width: 767px) {
            .actions-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        .action-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: fadeInUp 0.6s ease-out;
            text-align: center;
            min-height: 200px;
        }

        /* Desktop PC - ‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° */
        @media (min-width: 1200px) {
            .action-card {
                padding: 2rem 1.5rem;
                min-height: 220px;
            }
        }

        /* Laptop/Notebook */
        @media (min-width: 992px) and (max-width: 1199px) {
            .action-card {
                padding: 1.75rem 1.25rem;
                min-height: 210px;
            }
        }

        /* Tablet */
        @media (min-width: 768px) and (max-width: 991px) {
            .action-card {
                padding: 1.5rem;
                min-height: 200px;
            }
        }

        /* Mobile */
        @media (max-width: 767px) {
            .action-card {
                padding: 1.25rem;
                min-height: 180px;
            }
        }

        .action-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 30px rgba(0, 133, 138, 0.2);
            border-color: #00858A;
        }

        .action-card:active {
            transform: translateY(-2px) scale(0.98);
        }

        .action-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #00858A, #006B70);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            transition: all 0.3s ease;
        }

        /* Desktop PC - ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô */
        @media (min-width: 1200px) {
            .action-icon {
                width: 64px;
                height: 64px;
                font-size: 1.5rem;
                border-radius: 14px;
            }
        }

        /* Laptop/Notebook */
        @media (min-width: 992px) and (max-width: 1199px) {
            .action-icon {
                width: 56px;
                height: 56px;
                font-size: 1.35rem;
            }
        }

        /* Tablet */
        @media (min-width: 768px) and (max-width: 991px) {
            .action-icon {
                width: 52px;
                height: 52px;
                font-size: 1.3rem;
            }
        }

        /* Mobile */
        @media (max-width: 767px) {
            .action-icon {
                width: 48px;
                height: 48px;
                font-size: 1.2rem;
            }
        }

        .action-card:hover .action-icon {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 4px 12px rgba(0, 133, 138, 0.3);
        }

        .action-content h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #333;
            margin: 0 0 0.25rem 0;
        }

        .action-content p {
            font-size: 0.875rem;
            color: #6c757d;
            margin: 0;
        }

        /* Desktop PC - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô */
        @media (min-width: 1200px) {
            .action-content h4,
            .action-text {
                font-size: 1.125rem;
                font-weight: 600;
            }
            
            .action-content p,
            .action-card > div:last-child {
                font-size: 0.9375rem;
            }
        }

        /* Laptop/Notebook */
        @media (min-width: 992px) and (max-width: 1199px) {
            .action-content h4,
            .action-text {
                font-size: 1.0625rem;
            }
            
            .action-content p,
            .action-card > div:last-child {
                font-size: 0.9rem;
            }
        }

        /* Tablet */
        @media (min-width: 768px) and (max-width: 991px) {
            .action-content h4,
            .action-text {
                font-size: 1rem;
            }
            
            .action-content p,
            .action-card > div:last-child {
                font-size: 0.875rem;
            }
        }

        /* Mobile - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á */
        @media (max-width: 767px) {
            .action-content h4,
            .action-text {
                font-size: 0.9375rem;
            }
            
            .action-content p,
            .action-card > div:last-child {
                font-size: 0.8125rem;
            }
        }

        /* Enhanced Activities */
        .activities-container {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }

        .activities-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .activities-header h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-view-all {
            padding: 0.5rem 1rem;
            background: #00858A;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .btn-view-all:hover {
            background: #006B70;
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .activity-item:hover {
            background: white;
            border-color: #00858A;
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(0, 133, 138, 0.15);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .activity-icon.success { background: linear-gradient(135deg, #28a745, #1e7e34); }
        .activity-icon.warning { background: linear-gradient(135deg, #ffc107, #e0a800); }
        .activity-icon.info { background: linear-gradient(135deg, #17a2b8, #138496); }

        .activity-content p {
            font-weight: 500;
            color: #333;
            margin: 0 0 0.5rem 0;
        }

        .activity-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.875rem;
            color: #6c757d;
        }

        /* Performance Metrics */
        .metrics-container {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .metrics-container h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1.5rem;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .metric-card {
            padding: 1.25rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .metric-header h4 {
            font-size: 0.875rem;
            font-weight: 500;
            color: #6c757d;
            margin: 0;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #00858A;
        }

        .metric-progress {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00858A, #006B70);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .progress-bar.warning { background: linear-gradient(90deg, #ffc107, #e0a800); }
        .progress-bar.success { background: linear-gradient(90deg, #28a745, #1e7e34); }

        .metric-detail {
            font-size: 0.75rem;
            color: #6c757d;
        }

        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        /* Coming Soon */
        .coming-soon {
            background: white;
            padding: 3rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            margin-bottom: 2rem;
        }

        .coming-soon i {
            font-size: 3rem;
            color: #00858A;
            margin-bottom: 1rem;
        }

        .coming-soon h3 {
            color: #00858A;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .coming-soon p {
            color: #6c757d;
            font-size: 1.1rem;
        }
        
        /* Placeholder Sections */
        .monitoring-placeholder,
        .advanced-placeholder {
            text-align: center;
            padding: 80px 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            margin: 20px 0;
            animation: fadeInUp 0.6s ease-out;
        }
        
        .monitoring-placeholder h3,
        .advanced-placeholder h3 {
            font-size: 24px;
            margin: 15px 0 10px;
            color: #2c3e50;
        }
        
        .monitoring-placeholder p,
        .advanced-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
        }

        /* ===== System Settings Modal Styles ===== */
        #systemSettingsModal .modal-dialog {
            max-width: 1200px;
        }

        #systemSettingsModal .modal-body {
            padding: 1.5rem;
            max-height: 75vh;
            overflow-y: auto;
        }

        /* Tabs Navigation */
        #systemSettingsModal .nav-pills {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 0.5rem;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        #systemSettingsModal .nav-pills .nav-link {
            border-radius: 6px;
            margin-bottom: 0.25rem;
            padding: 0.75rem 1rem;
            color: #495057;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            white-space: nowrap;
        }

        #systemSettingsModal .nav-pills .nav-link:hover {
            background-color: #e9ecef;
            color: #00858A;
        }

        #systemSettingsModal .nav-pills .nav-link.active {
            background: linear-gradient(135deg, #00858A, #006B70);
            color: white;
            box-shadow: 0 2px 8px rgba(0, 133, 138, 0.3);
        }

        #systemSettingsModal .nav-pills .nav-link i {
            min-width: 20px;
        }

        /* Tab Content */
        #systemSettingsModal .tab-content {
            padding-left: 1rem;
        }

        #systemSettingsModal .tab-pane {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Form Elements - ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Flexbox ‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
        #systemSettingsModal .mb-3,
        #systemSettingsModal .col-md-6,
        #systemSettingsModal .col-md-4 {
            display: flex !important;
            flex-direction: column !important;
            gap: 0.5rem !important;
        }

        #systemSettingsModal .form-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0 !important;
            display: block;
            width: 100%;
        }

        #systemSettingsModal .form-control,
        #systemSettingsModal .form-select {
            border: 1px solid #ced4da;
            border-radius: 6px;
            padding: 0.625rem 0.875rem;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            width: 100%;
            display: block;
        }

        #systemSettingsModal .form-control:focus,
        #systemSettingsModal .form-select:focus {
            border-color: #00858A;
            box-shadow: 0 0 0 0.2rem rgba(0, 133, 138, 0.15);
        }

        #systemSettingsModal .form-check-input {
            width: 2.5rem;
            height: 1.25rem;
            cursor: pointer;
            flex-shrink: 0;
        }

        #systemSettingsModal .form-check-input:checked {
            background-color: #00858A;
            border-color: #00858A;
        }

        #systemSettingsModal .form-check-label {
            margin-left: 0.5rem;
            cursor: pointer;
            user-select: none;
            flex: 1;
        }

        #systemSettingsModal .form-check {
            display: flex !important;
            align-items: center !important;
            gap: 0.5rem !important;
            padding: 0.5rem 0 !important;
        }

        #systemSettingsModal .form-check.form-switch {
            display: flex !important;
            align-items: center !important;
            min-height: 1.5rem !important;
        }

        /* ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏Ç‡∏≠‡∏á row ‡πÅ‡∏•‡∏∞ col */
        #systemSettingsModal .row {
            display: flex !important;
            flex-wrap: wrap !important;
            gap: 1rem !important;
            margin: 0 !important;
        }

        #systemSettingsModal .row.g-3 {
            gap: 1rem !important;
        }

        #systemSettingsModal .row.g-4 {
            gap: 1.5rem !important;
        }

        /* ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡πÉ‡∏´‡πâ col-md-* ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô flex-column */
        #systemSettingsModal .col-md-6 {
            flex: 1 1 calc(50% - 0.5rem) !important;
            min-width: 280px !important;
        }

        #systemSettingsModal .col-md-4 {
            flex: 1 1 calc(33.333% - 0.67rem) !important;
            min-width: 200px !important;
        }

        @media (max-width: 768px) {
            #systemSettingsModal .col-md-6,
            #systemSettingsModal .col-md-4 {
                flex: 1 1 100% !important;
                min-width: 100% !important;
            }
        }

        /* Cards in Backup Section */
        #systemSettingsModal .card {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            height: 100%;
        }

        #systemSettingsModal .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        #systemSettingsModal .card-title {
            font-weight: 600;
            color: #00858A;
            margin-bottom: 0.75rem;
        }

        /* Tables */
        #systemSettingsModal .table {
            margin-bottom: 0;
        }

        #systemSettingsModal .table thead th {
            background-color: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
            font-weight: 600;
            color: #495057;
            padding: 0.75rem;
        }

        #systemSettingsModal .table tbody td {
            padding: 0.75rem;
            vertical-align: middle;
        }

        #systemSettingsModal .table-hover tbody tr:hover {
            background-color: #f8f9fa;
        }

        /* Buttons */
        #systemSettingsModal .btn {
            border-radius: 6px;
            padding: 0.5rem 1rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        #systemSettingsModal .btn-primary {
            background: linear-gradient(135deg, #00858A, #006B70);
            border: none;
        }

        #systemSettingsModal .btn-primary:hover {
            background: linear-gradient(135deg, #006B70, #005559);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 133, 138, 0.3);
        }

        #systemSettingsModal .btn-outline-danger:hover {
            background-color: #dc3545;
            border-color: #dc3545;
        }

        #systemSettingsModal .btn-outline-primary:hover {
            background-color: #00858A;
            border-color: #00858A;
        }

        /* Spacing Utilities */
        #systemSettingsModal .mb-3 {
            margin-bottom: 1rem !important;
        }

        #systemSettingsModal h6 {
            font-weight: 600;
            color: #343a40;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #00858A;
        }

        /* Responsive Layout - ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Mobile ‡πÅ‡∏•‡∏∞ Desktop */
        @media (max-width: 768px) {
            #systemSettingsModal .modal-dialog {
                max-width: 95%;
                margin: 0.5rem auto;
            }

            #systemSettingsModal .modal-body {
                padding: 1rem;
            }

            #systemSettingsModal .nav-pills {
                display: flex;
                flex-direction: row;
                overflow-x: auto;
                white-space: nowrap;
                padding: 0.5rem;
            }

            #systemSettingsModal .nav-pills .nav-link {
                flex: 0 0 auto;
                padding: 0.5rem 0.75rem;
                font-size: 0.875rem;
            }

            #systemSettingsModal .tab-content {
                padding-left: 0;
                margin-top: 1rem;
            }

            #systemSettingsModal .col-md-3 {
                width: 100%;
            }

            #systemSettingsModal .col-md-9 {
                width: 100%;
            }

            #systemSettingsModal .row.g-3 {
                gap: 1rem !important;
            }

            #systemSettingsModal .col-md-6,
            #systemSettingsModal .col-md-4 {
                width: 100% !important;
                max-width: 100% !important;
            }
        }

        @media (max-width: 576px) {
            #systemSettingsModal .modal-dialog {
                max-width: 100%;
                margin: 0;
                min-height: 100vh;
            }

            #systemSettingsModal .modal-content {
                border-radius: 0;
                min-height: 100vh;
            }

            #systemSettingsModal .modal-body {
                padding: 0.75rem;
            }

            #systemSettingsModal h6 {
                font-size: 1rem;
            }

            #systemSettingsModal .form-label {
                font-size: 0.9rem;
            }

            #systemSettingsModal .form-control,
            #systemSettingsModal .form-select {
                font-size: 0.9rem;
                padding: 0.5rem;
            }

            #systemSettingsModal .btn {
                width: 100%;
                margin-bottom: 0.5rem;
            }

            #systemSettingsModal .modal-footer {
                flex-direction: column;
                gap: 0.5rem;
            }

            #systemSettingsModal .modal-footer .btn {
                width: 100%;
            }
        }
    </style>
    <noscript>
        <style>
            .noscript-banner{position:fixed;top:0;left:0;right:0;background:#dc3545;color:#fff;padding:10px 16px;z-index:10000;text-align:center;font-family: 'Sarabun', sans-serif;}
            html{margin-top:40px;}
        </style>
        <div class="noscript-banner">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô JavaScript ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö VMS ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û</div>
    </noscript>
</head>
<body>
    <!-- Notification Bar -->
    <div id="notificationBar" class="notification-bar success">
        <div class="notification-content">
            <i class="fas fa-check-circle"></i>
            <span>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</span>
        </div>
        <button class="notification-close" onclick="hideNotification()">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <button class="sidebar-toggle" aria-controls="sidebar" aria-expanded="false" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="logo-container">
                    <div class="logo-hospital">
                        <img src="assets/images/LogaSakrai2022_0.png" alt="‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£" />
                    </div>
                </div>
                <div>
                    <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h1>
                    <p style="margin: 0; opacity: 0.8;">‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</p>
                </div>
            </div>
            <div class="user-info">
                <!-- üéØ Simple User Menu Dropdown -->
                <div class="user-menu-wrapper">
                    <div class="user-menu" id="userMenuButton" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false" aria-label="‡πÄ‡∏°‡∏ô‡∏π‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ">
                        <div class="user-avatar" id="headerUserAvatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="user-menu-info">
                            <div class="user-menu-name" id="headerUserName">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                            <div class="user-menu-role" id="headerUserRole">-</div>
                        </div>
                        <i class="fas fa-chevron-down user-menu-arrow"></i>
                    </div>

                    <!-- ‚ú® Simple Dropdown Menu -->
                    <div class="user-dropdown" id="userDropdown" role="menu" aria-labelledby="userMenuButton">
                        <!-- Header -->
                        <div class="dropdown-header">
                            <div class="dropdown-avatar" id="dropdownUserAvatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="dropdown-user-info">
                                <h4 id="dropdownUserName">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</h4>
                                <p id="dropdownUserRole">-</p>
                            </div>
                        </div>

                        <!-- Menu Items -->
                        <div class="dropdown-menu">
                            <!-- 1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå -->
                            <a href="#" class="dropdown-item" onclick="showSection('profile')">
                                <i class="fas fa-user-circle"></i>
                                <span>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</span>
                            </a>

                            <!-- 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö (Admin Only) -->
                            <a href="#" class="dropdown-item admin-only" id="adminSettingsItem" style="display: none;" onclick="showSystemSettings(); return false;">
                                <i class="fas fa-cog"></i>
                                <span>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</span>
                                <span class="badge bg-danger">Admin</span>
                            </a>

                            <div class="dropdown-divider"></div>

                            <!-- 3. ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
                            <a href="#" class="dropdown-item" onclick="showSection('notifications')">
                                <i class="fas fa-bell"></i>
                                <span>‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                                <span class="notification-count" id="dropdownNotificationCount" style="display: none;">0</span>
                            </a>

                            <div class="dropdown-divider"></div>

                            <!-- 4. ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö -->
                            <a href="#" class="dropdown-item logout-item" onclick="handleLogout(event)" title="‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• session">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</span>
                                <i class="fas fa-chevron-right" style="margin-left: auto; font-size: 0.8rem; opacity: 0.5;"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
        <div class="sidebar-section-title">‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</div>
        <nav class="menu">
            <a href="#" class="active" onclick="activateMenu(this); showSection('dashboard')"><i class="fas fa-tachometer-alt"></i>‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</a>
            <a href="#" onclick="activateMenu(this); showSection('vehicles')"><i class="fas fa-car"></i>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</a>
            <a href="#" onclick="activateMenu(this); showSection('drivers')"><i class="fas fa-users"></i>‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</a>
            <a href="#" onclick="activateMenu(this); showSection('fuel')"><i class="fas fa-gas-pump"></i>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á</a>
            <a href="#" onclick="activateMenu(this); showSection('inspection')"><i class="fas fa-clipboard-check"></i>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</a>
            <a href="#" onclick="activateMenu(this); showSection('requests')"><i class="fas fa-file-alt"></i>‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</a>
            <!-- ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏≤‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á) -->
            <a href="approvals/index.html" onclick="activateMenu(this)">
                <i class="fas fa-clipboard-list"></i>‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠
                <span id="approvalsBadge" class="menu-badge" style="display:none;">0</span>
            </a>
            <a href="#" onclick="activateMenu(this); showSection('maintenance')"><i class="fas fa-tools"></i>‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</a>
            <a href="#" onclick="activateMenu(this); showSection('fuel-management')"><i class="fas fa-tint"></i>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</a>
            <a href="#" onclick="activateMenu(this); showSection('gps')"><i class="fas fa-map-marker-alt"></i>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° GPS</a>
            <a href="#" onclick="activateMenu(this); showSection('vehicle-logs')"><i class="fas fa-book"></i>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</a>
            <a href="#" onclick="activateMenu(this); showSection('vehicle-history')"><i class="fas fa-history"></i>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</a>
            <a href="#" onclick="activateMenu(this); showSection('users')"><i class="fas fa-user-cog"></i>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a>
            <a href="#" onclick="activateMenu(this); showSection('reports')"><i class="fas fa-chart-bar"></i>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</a>
        </nav>
    </aside>
    <div id="sidebarOverlay" class="sidebar-overlay" onclick="toggleSidebar(false)"></div>

    <!-- Main Content -->
    <main class="main-content">
        <script>
            // Map UI role to API canonical role
            function mapUiRoleToApiRole(role) {
                const map = {
                    'department_head': 'group_head',
                    'section_chief': 'section_head',
                    'clerk': 'secretary',
                    '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£': 'director',
                    '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô': 'group_head',
                    '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô': 'section_head',
                    '‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£': 'secretary'
                };
                if (!role) return 'user';
                const key = String(role).toLowerCase();
                return map[key] || key;
            }

            async function updateApprovalsBadge() {
                try {
                    const badge = document.getElementById('approvalsBadge');
                    if (!badge) return;

                    // Determine user role from localStorage
                    const session = JSON.parse(localStorage.getItem('user_session') || '{}');
                    const uiRole = session.groupname || session.role || session.user_role_code || 'user';
                    const apiRole = mapUiRoleToApiRole(uiRole);

                    const token = localStorage.getItem('auth_token') || localStorage.getItem('AUTH_TOKEN');
                    const debugFlag = localStorage.getItem('APPROVAL_DEBUG') === '1' ? '&debug=1' : '';
                    const res = await fetch(`../api/booking_approvals.php?role=${encodeURIComponent(apiRole)}${debugFlag}`, {
                        method: 'GET',
                        headers: token ? { 'Authorization': `Bearer ${token}` } : {},
                        credentials: 'same-origin'
                    });
                    const json = await res.json();

                    let items = [];
                    if (json && json.success) {
                        items = json.data?.approvals || json.data || [];
                    }

                    const count = Array.isArray(items) ? items.length : 0;
                    if (count > 0) {
                        badge.textContent = count;
                        badge.classList.toggle('zero', false);
                        // Choose color variant based on role nature
                        badge.classList.toggle('approve', apiRole === 'director');
                        badge.classList.toggle('ack', apiRole !== 'director');
                        badge.style.display = 'inline-flex';
                    } else {
                        badge.textContent = '0';
                        badge.classList.add('zero');
                        badge.style.display = 'none';
                    }
                } catch (e) {
                    // Hide badge on error (avoid noisy UI)
                    const badge = document.getElementById('approvalsBadge');
                    if (badge) { badge.style.display = 'none'; }
                    console.debug('updateApprovalsBadge error:', e);
                }
            }

            document.addEventListener('DOMContentLoaded', () => {
                updateApprovalsBadge();
                // Refresh every 60s
                setInterval(updateApprovalsBadge, 60000);
            });
        </script>
        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section active">
            <div class="section-header">
                <h2><i class="fas fa-tachometer-alt"></i> ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</h2>
                <p>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</p>
            </div>

            <!-- Dashboard Dropdown Controls -->
            <div class="dashboard-controls">
                <div class="controls-header">
                    <h3><i class="fas fa-sliders-h"></i> ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</h3>
                    <div class="dashboard-toggle">
                        <button class="toggle-all" onclick="toggleAllDashboardSections(true)">
                            <i class="fas fa-eye"></i> ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                        </button>
                        <button class="toggle-all" onclick="toggleAllDashboardSections(false)" style="background: linear-gradient(135deg, #6c757d, #495057);">
                            <i class="fas fa-eye-slash"></i> ‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                        </button>
                    </div>
                </div>
                
                <div class="section-toggles">
                    <div class="section-toggle active" onclick="toggleDashboardSection('stats-section', this)">
                        <div class="toggle-content">
                            <div class="toggle-icon stats"><i class="fas fa-chart-bar"></i></div>
                            <div class="toggle-text">
                                <div class="toggle-title">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</div>
                                <div class="toggle-description">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</div>
                            </div>
                        </div>
                        <div class="toggle-switch active"></div>
                    </div>
                    <div class="section-toggle active" onclick="toggleDashboardSection('analytics-section', this)">
                        <div class="toggle-content">
                            <div class="toggle-icon analytics"><i class="fas fa-chart-line"></i></div>
                            <div class="toggle-text">
                                <div class="toggle-title">‡∏Å‡∏£‡∏≤‡∏ü‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</div>
                                <div class="toggle-description">‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡∏ô‡∏†‡∏π‡∏°‡∏¥</div>
                            </div>
                        </div>
                        <div class="toggle-switch active"></div>
                    </div>
                    <div class="section-toggle active" onclick="toggleDashboardSection('actions-section', this)">
                        <div class="toggle-content">
                            <div class="toggle-icon actions"><i class="fas fa-bolt"></i></div>
                            <div class="toggle-text">
                                <div class="toggle-title">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡πà‡∏ß‡∏ô</div>
                                <div class="toggle-description">‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á‡πÜ</div>
                            </div>
                        </div>
                        <div class="toggle-switch active"></div>
                    </div>
                    <div class="section-toggle active" onclick="toggleDashboardSection('activities-section', this)">
                        <div class="toggle-content">
                            <div class="toggle-icon activities"><i class="fas fa-clock"></i></div>
                            <div class="toggle-text">
                                <div class="toggle-title">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
                                <div class="toggle-description">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô</div>
                            </div>
                        </div>
                        <div class="toggle-switch active"></div>
                    </div>
                    <div class="section-toggle active" onclick="toggleDashboardSection('metrics-section', this)">
                        <div class="toggle-content">
                            <div class="toggle-icon metrics"><i class="fas fa-tachometer-alt"></i></div>
                            <div class="toggle-text">
                                <div class="toggle-title">‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î</div>
                                <div class="toggle-description">KPI ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û</div>
                            </div>
                        </div>
                        <div class="toggle-switch active"></div>
                    </div>
                    <div class="section-toggle" onclick="toggleDashboardSection('monitoring-section', this)">
                        <div class="toggle-content">
                            <div class="toggle-icon monitoring"><i class="fas fa-satellite-dish"></i></div>
                            <div class="toggle-text">
                                <div class="toggle-title">Real-time</div>
                                <div class="toggle-description">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</div>
                            </div>
                        </div>
                        <div class="toggle-switch"></div>
                    </div>
                    <div class="section-toggle" onclick="toggleDashboardSection('advanced-section', this)">
                        <div class="toggle-content">
                            <div class="toggle-icon advanced"><i class="fas fa-brain"></i></div>
                            <div class="toggle-text">
                                <div class="toggle-title">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á</div>
                                <div class="toggle-description">AI ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</div>
                            </div>
                        </div>
                        <div class="toggle-switch"></div>
                    </div>
                </div>
            </div>

            <div id="stats-section" class="dashboard-section visible">
                <!-- Statistics Cards - Hospital Theme -->
                <div class="stats-grid">
                    <div class="stat-card" style="background: linear-gradient(135deg, #00858A 0%, #006B70 100%); color: white;">
                        <div class="stat-icon" style="color: white; font-size: 2.5rem; opacity: 0.9;">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalVehicles" style="color: white; font-size: 2.5rem; font-weight: 700; margin: 0.5rem 0;">0</div>
                            <div class="stat-label" style="color: rgba(255,255,255,0.95); font-size: 1rem; font-weight: 500;">‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                            <div class="stat-detail" style="color: rgba(255,255,255,0.85); margin-top: 0.5rem;">
                                <i class="fas fa-arrow-up"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô 5.2% ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
                            </div>
                        </div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #00A0AC 0%, #008A95 100%); color: white;">
                        <div class="stat-icon" style="color: white; font-size: 2.5rem; opacity: 0.9;">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalDrivers" style="color: white; font-size: 2.5rem; font-weight: 700; margin: 0.5rem 0;">0</div>
                            <div class="stat-label" style="color: rgba(255,255,255,0.95); font-size: 1rem; font-weight: 500;">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</div>
                            <div class="stat-detail" style="color: rgba(255,255,255,0.85); margin-top: 0.5rem;">
                                <i class="fas fa-arrow-up"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô 2.8% ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
                            </div>
                        </div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%); color: white;">
                        <div class="stat-icon" style="color: white; font-size: 2.5rem; opacity: 0.9;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="availableVehicles" style="color: white; font-size: 2.5rem; font-weight: 700; margin: 0.5rem 0;">0</div>
                            <div class="stat-label" style="color: rgba(255,255,255,0.95); font-size: 1rem; font-weight: 500;">‡∏£‡∏ñ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                            <div class="stat-detail" style="color: rgba(255,255,255,0.85); margin-top: 0.5rem;">
                                <i class="fas fa-arrow-up"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô 8.4% ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
                            </div>
                        </div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%); color: white;">
                        <div class="stat-icon" style="color: white; font-size: 2.5rem; opacity: 0.9;">
                            <i class="fas fa-tools"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="maintenanceVehicles" style="color: white; font-size: 2.5rem; font-weight: 700; margin: 0.5rem 0;">0</div>
                            <div class="stat-label" style="color: rgba(255,255,255,0.95); font-size: 1rem; font-weight: 500;">‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</div>
                            <div class="stat-detail" style="color: rgba(255,255,255,0.85); margin-top: 0.5rem;">
                                <i class="fas fa-arrow-down"></i> ‡∏•‡∏î‡∏•‡∏á 12.5% ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="analytics-section" class="dashboard-section visible">
                <!-- Analytics Charts - Hospital Theme -->
                <div class="analytics-grid">
                    <div class="chart-container" style="box-shadow: 0 4px 20px rgba(0, 133, 138, 0.15);">
                        <div class="chart-header">
                            <h3><i class="fas fa-chart-pie" style="color: #00858A;"></i> ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h3>
                            <button class="btn-refresh" onclick="loadDashboardCharts()" title="‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <canvas id="vehicleStatusChart" style="max-height: 300px;"></canvas>
                    </div>
                    <div class="chart-container" style="box-shadow: 0 4px 20px rgba(240, 147, 251, 0.15);">
                        <div class="chart-header">
                            <h3><i class="fas fa-chart-bar" style="color: #f093fb;"></i> ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡πÅ‡∏ú‡∏ô‡∏Å</h3>
                            <button class="btn-refresh" onclick="loadDashboardCharts()" title="‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <canvas id="departmentChart" style="max-height: 300px;"></canvas>
                    </div>
                    <div class="chart-container" style="grid-column: 1 / -1; box-shadow: 0 4px 20px rgba(79, 172, 254, 0.15);">
                        <div class="chart-header">
                            <h3><i class="fas fa-chart-line" style="color: #4facfe;"></i> ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (7 ‡∏ß‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)</h3>
                            <button class="btn-refresh" onclick="loadDashboardCharts()" title="‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <canvas id="usageChart" style="max-height: 300px;"></canvas>
                    </div>
                </div>
            </div>

            <div id="actions-section" class="dashboard-section visible">
                <!-- Quick Actions - Enhanced Modern Design -->
                <div class="quick-actions" style="background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 20px rgba(0,0,0,0.08); margin-bottom: 2rem;">
                    <h3 style="font-size: 1.3rem; font-weight: 600; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-bolt" style="color: #00858A;"></i> ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡πà‡∏ß‡∏ô
                    </h3>
                    <div class="actions-grid">
                        <button class="action-card" onclick="showSection('vehicles')" style="border: none; cursor: pointer; background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); transition: all 0.3s ease;">
                            <div class="action-icon" style="background: linear-gradient(135deg, #00858A 0%, #006B70 100%); width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem;">
                                <i class="fas fa-plus-circle"></i>
                            </div>
                            <div class="action-text" style="font-weight: 600; color: #333; font-size: 1rem;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà</div>
                            <div style="font-size: 0.875rem; color: #6c757d; margin-top: 0.5rem;">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</div>
                        </button>
                        <button class="action-card" onclick="showSection('drivers')" style="border: none; cursor: pointer; background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); transition: all 0.3s ease;">
                            <div class="action-icon" style="background: linear-gradient(135deg, #17a2b8 0%, #138496 100%); width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem;">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="action-text" style="font-weight: 600; color: #333; font-size: 1rem;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</div>
                            <div style="font-size: 0.875rem; color: #6c757d; margin-top: 0.5rem;">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</div>
                        </button>
                        <button class="action-card" onclick="showSection('reports')" style="border: none; cursor: pointer; background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); transition: all 0.3s ease;">
                            <div class="action-icon" style="background: linear-gradient(135deg, #007bff 0%, #0056b3 100%); width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem;">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="action-text" style="font-weight: 600; color: #333; font-size: 1rem;">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</div>
                            <div style="font-size: 0.875rem; color: #6c757d; margin-top: 0.5rem;">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                        </button>
                        <button class="action-card" onclick="showSystemSettings()" style="border: none; cursor: pointer; background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); transition: all 0.3s ease;">
                            <div class="action-icon" style="background: linear-gradient(135deg, #6c757d 0%, #495057 100%); width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem;">
                                <i class="fas fa-cog"></i>
                            </div>
                            <div class="action-text" style="font-weight: 600; color: #333; font-size: 1rem;">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</div>
                            <div style="font-size: 0.875rem; color: #6c757d; margin-top: 0.5rem;">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</div>
                        </button>
                    </div>
                </div>
            </div>

            <div id="activities-section" class="dashboard-section visible">
                <!-- Recent Activities - Enhanced Modern Design -->
                <div class="activities-container" style="background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 20px rgba(0,0,0,0.08); margin-bottom: 2rem;">
                    <div class="activities-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3 style="font-size: 1.3rem; font-weight: 600; margin: 0; display: flex; align-items: center; gap: 0.5rem;">
                            <i class="fas fa-clock" style="color: #00858A;"></i> ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
                        </h3>
                        <button class="view-all-btn" style="padding: 0.5rem 1rem; background: linear-gradient(135deg, #00858A, #00B4D8); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 0.875rem; font-weight: 500; transition: all 0.3s ease;">
                            ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    <div class="activity-list" style="display: flex; flex-direction: column; gap: 1rem;">
                        <div class="activity-item" style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 12px; transition: all 0.3s ease;">
                            <div class="activity-icon" style="width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(135deg, #00858A, #006B70); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.25rem; flex-shrink: 0;">
                                <i class="fas fa-plus-circle"></i>
                            </div>
                            <div class="activity-content" style="flex: 1;">
                                <div class="activity-title" style="font-weight: 600; color: #333; margin-bottom: 0.25rem;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà</div>
                                <div class="activity-description" style="font-size: 0.875rem; color: #6c757d;">‡πÄ‡∏û‡∏¥‡πà‡∏° Toyota Camry ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô ‡∏Å‡∏© 1234 ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</div>
                            </div>
                            <div class="activity-time" style="font-size: 0.875rem; color: #6c757d; white-space: nowrap;">5 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                        <div class="activity-item" style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 12px; transition: all 0.3s ease;">
                            <div class="activity-icon" style="width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(135deg, #17a2b8, #138496); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.25rem; flex-shrink: 0;">
                                <i class="fas fa-edit"></i>
                            </div>
                            <div class="activity-content" style="flex: 1;">
                                <div class="activity-title" style="font-weight: 600; color: #333; margin-bottom: 0.25rem;">‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
                                <div class="activity-description" style="font-size: 0.875rem; color: #6c757d;">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ ‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</div>
                            </div>
                            <div class="activity-time" style="font-size: 0.875rem; color: #6c757d; white-space: nowrap;">15 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                        <div class="activity-item" style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 12px; transition: all 0.3s ease;">
                            <div class="activity-icon" style="width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(135deg, #28a745, #1e7e34); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.25rem; flex-shrink: 0;">
                                <i class="fas fa-tools"></i>
                            </div>
                            <div class="activity-content" style="flex: 1;">
                                <div class="activity-title" style="font-weight: 600; color: #333; margin-bottom: 0.25rem;">‡πÄ‡∏Ç‡πâ‡∏≤‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</div>
                                <div class="activity-description" style="font-size: 0.875rem; color: #6c757d;">‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç ‡∏Å‡∏Ç 5678 ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏ï‡∏≤‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î</div>
                            </div>
                            <div class="activity-time" style="font-size: 0.875rem; color: #6c757d; white-space: nowrap;">1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                        <div class="activity-item" style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 12px; transition: all 0.3s ease;">
                            <div class="activity-icon" style="width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(135deg, #007bff, #0056b3); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.25rem; flex-shrink: 0;">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="activity-content" style="flex: 1;">
                                <div class="activity-title" style="font-weight: 600; color: #333; margin-bottom: 0.25rem;">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</div>
                                <div class="activity-description" style="font-size: 0.875rem; color: #6c757d;">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°</div>
                            </div>
                            <div class="activity-time" style="font-size: 0.875rem; color: #6c757d; white-space: nowrap;">2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="metrics-section" class="dashboard-section visible">
                <!-- Performance Metrics - Enhanced Modern Design -->
                <div class="metrics-container" style="background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 20px rgba(0,0,0,0.08); margin-bottom: 2rem;">
                    <h3 style="font-size: 1.3rem; font-weight: 600; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-tachometer-alt" style="color: #00858A;"></i> ‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û (KPI)
                    </h3>
                    <div class="metrics-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                        <div class="metric-card" style="background: linear-gradient(135deg, #f8f9fa, #ffffff); border-radius: 12px; padding: 1.5rem; border: 2px solid #e9ecef;">
                            <div class="metric-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <span class="metric-label" style="font-weight: 600; color: #495057; font-size: 0.95rem;">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ</span>
                                <span class="metric-value" style="font-size: 1.75rem; font-weight: 700; color: #00858A;">85%</span>
                            </div>
                            <div class="metric-bar" style="height: 10px; background: #e9ecef; border-radius: 10px; overflow: hidden;">
                                <div class="metric-progress" style="height: 100%; width: 85%; background: linear-gradient(90deg, #00858A, #006B70); border-radius: 10px; transition: width 1s ease;"></div>
                            </div>
                            <div style="margin-top: 0.75rem; font-size: 0.875rem; color: #28a745; font-weight: 500;">
                                <i class="fas fa-arrow-up"></i> +5% ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
                            </div>
                        </div>
                        <div class="metric-card" style="background: linear-gradient(135deg, #f8f9fa, #ffffff); border-radius: 12px; padding: 1.5rem; border: 2px solid #e9ecef;">
                            <div class="metric-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <span class="metric-label" style="font-weight: 600; color: #495057; font-size: 0.95rem;">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</span>
                                <span class="metric-value" style="font-size: 1.75rem; font-weight: 700; color: #28a745;">92%</span>
                            </div>
                            <div class="metric-bar" style="height: 10px; background: #e9ecef; border-radius: 10px; overflow: hidden;">
                                <div class="metric-progress" style="height: 100%; width: 92%; background: linear-gradient(90deg, #28a745, #1e7e34); border-radius: 10px; transition: width 1s ease;"></div>
                            </div>
                            <div style="margin-top: 0.75rem; font-size: 0.875rem; color: #28a745; font-weight: 500;">
                                <i class="fas fa-arrow-up"></i> +3% ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
                            </div>
                        </div>
                        <div class="metric-card" style="background: linear-gradient(135deg, #f8f9fa, #ffffff); border-radius: 12px; padding: 1.5rem; border: 2px solid #e9ecef;">
                            <div class="metric-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <span class="metric-label" style="font-weight: 600; color: #495057; font-size: 0.95rem;">‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ï‡∏£‡∏á‡πÄ‡∏ß‡∏•‡∏≤</span>
                                <span class="metric-value" style="font-size: 1.75rem; font-weight: 700; color: #17a2b8;">78%</span>
                            </div>
                            <div class="metric-bar" style="height: 10px; background: #e9ecef; border-radius: 10px; overflow: hidden;">
                                <div class="metric-progress" style="height: 100%; width: 78%; background: linear-gradient(90deg, #17a2b8, #138496); border-radius: 10px; transition: width 1s ease;"></div>
                            </div>
                            <div style="margin-top: 0.75rem; font-size: 0.875rem; color: #28a745; font-weight: 500;">
                                <i class="fas fa-arrow-up"></i> +8% ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
                            </div>
                        </div>
                        <div class="metric-card" style="background: linear-gradient(135deg, #f8f9fa, #ffffff); border-radius: 12px; padding: 1.5rem; border: 2px solid #e9ecef;">
                            <div class="metric-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <span class="metric-label" style="font-weight: 600; color: #495057; font-size: 0.95rem;">‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á</span>
                                <span class="metric-value" style="font-size: 1.75rem; font-weight: 700; color: #f093fb;">88%</span>
                            </div>
                            <div class="metric-bar" style="height: 10px; background: #e9ecef; border-radius: 10px; overflow: hidden;">
                                <div class="metric-progress" style="height: 100%; width: 88%; background: linear-gradient(90deg, #f093fb, #f5576c); border-radius: 10px; transition: width 1s ease;"></div>
                            </div>
                            <div style="margin-top: 0.75rem; font-size: 0.875rem; color: #28a745; font-weight: 500;">
                                <i class="fas fa-arrow-up"></i> +2% ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="monitoring-section" class="dashboard-section">
                <!-- Real-time Monitoring Section (Hidden by default) -->
                <div class="monitoring-placeholder">
                    <i class="fas fa-satellite-dish" style="font-size: 48px; color: #00858A; margin-bottom: 15px;"></i>
                    <h3>Real-time Monitoring</h3>
                    <p>‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ</p>
                </div>
            </div>

            <div id="advanced-section" class="dashboard-section">
                <!-- Advanced Analytics Section (Hidden by default) -->
                <div class="advanced-placeholder">
                    <i class="fas fa-brain" style="font-size: 48px; color: #00858A; margin-bottom: 15px;"></i>
                    <h3>Advanced Analytics & AI</h3>
                    <p>‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏î‡πâ‡∏ß‡∏¢ AI ‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ</p>
                </div>
            </div>

        </section>

        <!-- Vehicles Section -->
        <section id="vehicles" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-car"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h2>
                <p style="color: #6c757d; margin-top: 0.5rem;">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
            </div>

            <!-- Search and Filter Section -->
            <div class="search-section" style="margin-bottom: 1.5rem;">
                <div class="search-container" style="flex: 1; max-width: 400px;">
                    <div class="search-input-group">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" 
                               class="search-input" 
                               id="vehicleSearchInput"
                               placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ, ‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠, ‡∏£‡∏∏‡πà‡∏ô..."
                               onkeyup="debounceSearch(this.value)">
                        <button class="search-clear" onclick="clearSearch()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

                <div class="quick-actions">
                    <select class="filter-select" id="statusFilter" onchange="filterVehiclesByStatus(this.value)">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                        <option value="available">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option>
                        <option value="in-use">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option>
                        <option value="maintenance">‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</option>
                        <option value="inspection">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û</option>
                    </select>

                    <button class="refresh-btn" onclick="refreshVehicles()" title="‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">
                        <i class="fas fa-sync-alt"></i>
                        <span>‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä</span>
                    </button>

                    <button class="export-btn" onclick="exportVehicleData()" title="‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">
                        <i class="fas fa-file-export"></i>
                        <span>‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å</span>
                    </button>
                </div>
            </div>

            <!-- Statistics Cards -->
            <div class="stats-grid" style="margin-bottom: 2rem;">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon vehicles">
                            <i class="fas fa-car"></i>
                        </div>
                    </div>
                    <div class="stat-number" id="total-vehicles">-</div>
                    <div class="stat-label">‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon available">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    <div class="stat-number" id="available-vehicles">-</div>
                    <div class="stat-label">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon in-use">
                            <i class="fas fa-spinner"></i>
                        </div>
                    </div>
                    <div class="stat-number" id="in-use-vehicles">-</div>
                    <div class="stat-label">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon maintenance">
                            <i class="fas fa-wrench"></i>
                        </div>
                    </div>
                    <div class="stat-number" id="maintenance-vehicles">-</div>
                    <div class="stat-label">‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-list"></i>
                        ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå
                    </div>
                    <button class="btn-add" onclick="openVehicleModal()">
                        <i class="fas fa-plus"></i>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™‡∏£‡∏ñ</th>
                                <th>‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</th>
                                <th>‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠/‡∏£‡∏∏‡πà‡∏ô</th>
                                <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏ñ</th>
                                <th>‡∏™‡∏µ</th>
                                <th>‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á</th>
                                <th>‡πÅ‡∏ú‡∏ô‡∏Å</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="vehiclesTableBody">
                            <tr class="loading">
                                <td colspan="9" class="text-center">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Drivers Section -->
        <section id="drivers" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-users"></i> ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</h2>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-list"></i>
                        ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ
                    </div>
                    <button class="btn-add" onclick="openModal('driverModal')">
                        <i class="fas fa-plus"></i>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™</th>
                                <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
                                <th>‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</th>
                                <th>‡πÉ‡∏ö‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>DRV001</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏ò‡∏ô‡∏¥‡∏ô‡∏ó‡∏£ ‡πÄ‡∏Å‡∏ï‡∏∏‡∏û‡∏•</strong></td>
                                <td>‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</td>
                                <td>062-260-9665</td>
                                <td>DL1234567890</td>
                                <td><span class="badge success">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏á‡∏≤‡∏ô</span></td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editDriver('DRV001')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteDriver('DRV001')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>DRV002</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏ò‡∏ß‡∏±‡∏ä‡∏ä‡∏±‡∏¢ ‡∏™‡∏≤‡∏®‡∏£‡∏µ‡∏£‡∏±‡∏ï‡∏ô‡πå</strong></td>
                                <td>‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</td>
                                <td>084-567-7564</td>
                                <td>DL2345678901</td>
                                <td><span class="badge success">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏á‡∏≤‡∏ô</span></td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editDriver('DRV002')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteDriver('DRV002')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>DRV003</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏£‡∏±‡∏ï‡∏ô‡πÇ‡∏ä‡∏ï‡∏¥ ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏à‡∏≥‡∏õ‡∏≤</strong></td>
                                <td>‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</td>
                                <td>095-467-9253</td>
                                <td>DL3456789012</td>
                                <td><span class="badge success">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏á‡∏≤‡∏ô</span></td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editDriver('DRV003')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteDriver('DRV003')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>DRV004</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏à‡∏¥‡∏£‡∏≤‡∏¢‡∏∏ ‡πÄ‡∏ß‡∏ä‡∏£‡∏±‡∏ï‡∏ô‡πå</strong></td>
                                <td>‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</td>
                                <td>099-805-1727</td>
                                <td>DL4567890123</td>
                                <td><span class="badge success">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏á‡∏≤‡∏ô</span></td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editDriver('DRV004')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteDriver('DRV004')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Fuel Section -->
        <section id="fuel" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-gas-pump"></i> ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á</h2>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-list"></i>
                        ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á
                    </div>
                    <button class="btn-add" onclick="openModal('fuelModal')">
                        <i class="fas fa-plus"></i>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™</th>
                                <th>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á</th>
                                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</th>
                                <th>‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏•‡∏¥‡∏ï‡∏£</th>
                                <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td><strong>‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E20</strong></td>
                                <td>Gasohol E20</td>
                                <td>32.50 ‡∏ö‡∏≤‡∏ó</td>
                                <td>‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô‡∏ú‡∏™‡∏°‡πÄ‡∏≠‡∏ó‡∏≤‡∏ô‡∏≠‡∏• 20% ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuel(1)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuel(1)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td><strong>‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E85</strong></td>
                                <td>Gasohol E85</td>
                                <td>28.90 ‡∏ö‡∏≤‡∏ó</td>
                                <td>‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô‡∏ú‡∏™‡∏°‡πÄ‡∏≠‡∏ó‡∏≤‡∏ô‡∏≠‡∏• 85% ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuel(2)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuel(2)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td><strong>‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 91</strong></td>
                                <td>Gasoline 91</td>
                                <td>35.20 ‡∏ö‡∏≤‡∏ó</td>
                                <td>‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏ó‡∏ô 91 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuel(3)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuel(3)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td><strong>‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95</strong></td>
                                <td>Gasoline 95</td>
                                <td>37.80 ‡∏ö‡∏≤‡∏ó</td>
                                <td>‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏ó‡∏ô 95 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞‡∏™‡∏π‡∏á</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuel(4)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuel(4)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td><strong>‡∏î‡∏µ‡πÄ‡∏ã‡∏•</strong></td>
                                <td>Diesel</td>
                                <td>30.15 ‡∏ö‡∏≤‡∏ó</td>
                                <td>‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏î‡∏µ‡πÄ‡∏ã‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå‡∏î‡∏µ‡πÄ‡∏ã‡∏•</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuel(5)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuel(5)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td><strong>‡πÅ‡∏Å‡πä‡∏™ LPG</strong></td>
                                <td>LPG Gas</td>
                                <td>18.50 ‡∏ö‡∏≤‡∏ó</td>
                                <td>‡πÅ‡∏Å‡πä‡∏™‡∏õ‡∏¥‡πÇ‡∏ï‡∏£‡πÄ‡∏•‡∏µ‡∏¢‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏î‡∏±‡∏î‡πÅ‡∏õ‡∏•‡∏á</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuel(6)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuel(6)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        <!-- Inspection Section -->
        <section id="inspection" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-clipboard-check"></i> ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h2>
                <p>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #28a745, #1e7e34);">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    <div class="stat-number">15</div>
                    <div class="stat-label">‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #ffc107, #e0a800);">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                    </div>
                    <div class="stat-number">3</div>
                    <div class="stat-label">‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #dc3545, #c82333);">
                            <i class="fas fa-times-circle"></i>
                        </div>
                    </div>
                    <div class="stat-number">2</div>
                    <div class="stat-label">‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #6f42c1, #5a2d91);">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                    </div>
                    <div class="stat-number">5</div>
                    <div class="stat-label">‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î</div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-list"></i>
                        ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå
                    </div>
                    <button class="btn-add" onclick="openModal('inspectionModal')">
                        <i class="fas fa-plus"></i>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à</th>
                                <th>‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à</th>
                                <th>‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à</th>
                                <th>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à</th>
                                <th>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>INS001</td>
                                <td><strong>‡∏Å‡∏Ç 1234</strong></td>
                                <td>15/12/2024</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</td>
                                <td><span class="badge success">‡∏ú‡πà‡∏≤‡∏ô</span></td>
                                <td>‡∏™‡∏†‡∏≤‡∏û‡∏î‡∏µ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</td>
                                <td>15/06/2025</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editInspection('INS001')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteInspection('INS001')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô" onclick="printInspectionReport('INS001')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>INS002</td>
                                <td><strong>‡∏Ç‡∏Ñ 5678</strong></td>
                                <td>10/12/2024</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò ‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°</td>
                                <td><span class="badge warning">‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</span></td>
                                <td>‡∏¢‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏∂‡∏Å‡∏´‡∏£‡∏≠ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</td>
                                <td>10/06/2025</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editInspection('INS002')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteInspection('INS002')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô" onclick="printInspectionReport('INS002')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>INS003</td>
                                <td><strong>‡∏Ñ‡∏á 9012</strong></td>
                                <td>08/12/2024</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</td>
                                <td><span class="badge success">‡∏ú‡πà‡∏≤‡∏ô</span></td>
                                <td>‡∏™‡∏†‡∏≤‡∏û‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°</td>
                                <td>08/06/2025</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editInspection('INS003')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteInspection('INS003')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô" onclick="printInspectionReport('INS003')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>INS004</td>
                                <td><strong>‡∏á‡∏à 3456</strong></td>
                                <td>05/12/2024</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò ‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°</td>
                                <td><span class="badge danger">‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô</span></td>
                                <td>‡πÄ‡∏ö‡∏£‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡πà‡∏≠‡∏°‡∏î‡πà‡∏ß‡∏ô</td>
                                <td>05/06/2025</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editInspection('INS004')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteInspection('INS004')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô" onclick="printInspectionReport('INS004')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>INS005</td>
                                <td><strong>‡∏à‡∏â 7890</strong></td>
                                <td>03/12/2024</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</td>
                                <td><span class="badge success">‡∏ú‡πà‡∏≤‡∏ô</span></td>
                                <td>‡∏™‡∏†‡∏≤‡∏û‡∏î‡∏µ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥</td>
                                <td>03/06/2025</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editInspection('INS005')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteInspection('INS005')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô" onclick="printInspectionReport('INS005')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="requests" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-file-alt"></i> ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h2>
                <p>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #17a2b8, #138496);">
                            <i class="fas fa-file-plus"></i>
                        </div>
                    </div>
                    <div class="stat-number">8</div>
                    <div class="stat-label">‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏´‡∏°‡πà</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #ffc107, #e0a800);">
                            <i class="fas fa-clock"></i>
                        </div>
                    </div>
                    <div class="stat-number">5</div>
                    <div class="stat-label">‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #28a745, #1e7e34);">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    <div class="stat-number">12</div>
                    <div class="stat-label">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #dc3545, #c82333);">
                            <i class="fas fa-times-circle"></i>
                        </div>
                    </div>
                    <div class="stat-number">2</div>
                    <div class="stat-label">‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-list"></i>
                        ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå
                    </div>
                    <button class="btn-add" onclick="openModal('requestModal')">
                        <i class="fas fa-plus"></i>
                        ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏´‡∏°‡πà
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏≥‡∏Ç‡∏≠</th>
                                <th>‡∏ú‡∏π‡πâ‡∏Ç‡∏≠</th>
                                <th>‡πÅ‡∏ú‡∏ô‡∏Å</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</th>
                                <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
                                <th>‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th>‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>REQ001</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡πÉ‡∏à‡∏î‡∏µ</strong></td>
                                <td>‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå</td>
                                <td>20/12/2024</td>
                                <td>08:00-17:00</td>
                                <td>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</td>
                                <td><span class="badge warning">‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span></td>
                                <td>-</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editRequest('REQ001')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" onclick="approveRequest('REQ001')" style="color: #28a745;">
                                        <i class="fas fa-check"></i>
                                    </button>
                                    <button class="btn-action" title="‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" onclick="rejectRequest('REQ001')" style="color: #dc3545;">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>REQ002</td>
                                <td><strong>‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏°‡∏≤‡∏•‡∏µ ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°</strong></td>
                                <td>‡πÅ‡∏ú‡∏ô‡∏Å‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</td>
                                <td>18/12/2024</td>
                                <td>09:00-16:00</td>
                                <td>‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ä‡∏∏‡∏°‡∏ä‡∏ô</td>
                                <td><span class="badge success">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß</span></td>
                                <td>‡∏ú‡∏≠.‡∏™‡∏°‡∏ä‡∏≤‡∏¢</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editRequest('REQ002')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" onclick="printApprovalForm('REQ002')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏ñ" onclick="assignVehicle('REQ002')" style="color: #17a2b8;">
                                        <i class="fas fa-car"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>REQ003</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò ‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°</strong></td>
                                <td>‡πÅ‡∏ú‡∏ô‡∏Å‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</td>
                                <td>22/12/2024</td>
                                <td>07:00-15:00</td>
                                <td>‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</td>
                                <td><span class="badge warning">‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span></td>
                                <td>-</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editRequest('REQ003')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" onclick="approveRequest('REQ003')" style="color: #28a745;">
                                        <i class="fas fa-check"></i>
                                    </button>
                                    <button class="btn-action" title="‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" onclick="rejectRequest('REQ003')" style="color: #dc3545;">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>REQ004</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏´‡∏ß‡∏±‡∏á ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</strong></td>
                                <td>‡πÅ‡∏ú‡∏ô‡∏Å‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</td>
                                <td>15/12/2024</td>
                                <td>06:00-18:00</td>
                                <td>‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á</td>
                                <td><span class="badge success">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß</span></td>
                                <td>‡∏ú‡∏≠.‡∏™‡∏°‡∏ä‡∏≤‡∏¢</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editRequest('REQ004')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" onclick="printApprovalForm('REQ004')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏ñ" onclick="assignVehicle('REQ004')" style="color: #17a2b8;">
                                        <i class="fas fa-car"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>REQ005</td>
                                <td><strong>‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏≤ ‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</strong></td>
                                <td>‡πÅ‡∏ú‡∏ô‡∏Å‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</td>
                                <td>25/12/2024</td>
                                <td>24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</td>
                                <td>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</td>
                                <td><span class="badge danger">‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span></td>
                                <td>‡∏ú‡∏≠.‡∏™‡∏°‡∏ä‡∏≤‡∏¢</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editRequest('REQ005')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏î‡∏π‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•" onclick="viewRejectionReason('REQ005')" style="color: #6c757d;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteRequest('REQ005')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="maintenance" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-tools"></i> ‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</h2>
                <p>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #28a745, #1e7e34);">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    <div class="stat-number">8</div>
                    <div class="stat-label">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #ffc107, #e0a800);">
                            <i class="fas fa-wrench"></i>
                        </div>
                    </div>
                    <div class="stat-number">3</div>
                    <div class="stat-label">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #dc3545, #c82333);">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-number">2</div>
                    <div class="stat-label">‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #6f42c1, #5a2d91);">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                    </div>
                    <div class="stat-number">5</div>
                    <div class="stat-label">‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î</div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-list"></i>
                        ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤
                    </div>
                    <button class="btn-add" onclick="openModal('maintenanceModal')">
                        <i class="fas fa-plus"></i>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™‡∏á‡∏≤‡∏ô</th>
                                <th>‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</th>
                                <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à</th>
                                <th>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th>‡∏ä‡πà‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>MNT001</td>
                                <td><strong>‡∏Å‡∏Ç 1234</strong></td>
                                <td>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</td>
                                <td>10/12/2024</td>
                                <td>10/12/2024</td>
                                <td>1,200 ‡∏ö‡∏≤‡∏ó</td>
                                <td><span class="badge success">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</span></td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò ‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editMaintenance('MNT001')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡∏á‡∏≤‡∏ô" onclick="printMaintenanceReport('MNT001')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>MNT002</td>
                                <td><strong>‡∏Ç‡∏Ñ 5678</strong></td>
                                <td>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏¢‡∏≤‡∏á‡∏£‡∏ñ</td>
                                <td>12/12/2024</td>
                                <td>-</td>
                                <td>3,500 ‡∏ö‡∏≤‡∏ó</td>
                                <td><span class="badge warning">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span></td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editMaintenance('MNT002')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞" onclick="updateMaintenanceStatus('MNT002')" style="color: #17a2b8;">
                                        <i class="fas fa-sync"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>MNT003</td>
                                <td><strong>‡∏á‡∏à 3456</strong></td>
                                <td>‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏ö‡∏£‡∏Å</td>
                                <td>05/12/2024</td>
                                <td>-</td>
                                <td>5,800 ‡∏ö‡∏≤‡∏ó</td>
                                <td><span class="badge danger">‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô</span></td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò ‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editMaintenance('MNT003')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞" onclick="updateMaintenanceStatus('MNT003')" style="color: #17a2b8;">
                                        <i class="fas fa-sync"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>MNT004</td>
                                <td><strong>‡∏Ñ‡∏á 9012</strong></td>
                                <td>‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü</td>
                                <td>08/12/2024</td>
                                <td>08/12/2024</td>
                                <td>800 ‡∏ö‡∏≤‡∏ó</td>
                                <td><span class="badge success">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</span></td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editMaintenance('MNT004')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡∏á‡∏≤‡∏ô" onclick="printMaintenanceReport('MNT004')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        <section id="fuel-management" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-tint"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</h2>
                <p>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #17a2b8, #138496);">
                            <i class="fas fa-gas-pump"></i>
                        </div>
                    </div>
                    <div class="stat-number">1,250</div>
                    <div class="stat-label">‡∏•‡∏¥‡∏ï‡∏£‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #ffc107, #e0a800);">
                            <i class="fas fa-coins"></i>
                        </div>
                    </div>
                    <div class="stat-number">42,500</div>
                    <div class="stat-label">‡∏ö‡∏≤‡∏ó ‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #28a745, #1e7e34);">
                            <i class="fas fa-chart-line"></i>
                        </div>
                    </div>
                    <div class="stat-number">8.5</div>
                    <div class="stat-label">‡∏Å‡∏°./‡∏•‡∏¥‡∏ï‡∏£ ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #6f42c1, #5a2d91);">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                    </div>
                    <div class="stat-number">25</div>
                    <div class="stat-label">‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°</div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-list"></i>
                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô
                    </div>
                    <button class="btn-add" onclick="openModal('fuelRecordModal')">
                        <i class="fas fa-plus"></i>
                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°</th>
                                <th>‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏¥‡∏°</th>
                                <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</th>
                                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏•‡∏¥‡∏ï‡∏£)</th>
                                <th>‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏•‡∏¥‡∏ï‡∏£</th>
                                <th>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</th>
                                <th>‡πÄ‡∏•‡∏Ç‡πÑ‡∏°‡∏•‡πå</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>FUEL001</td>
                                <td><strong>‡∏Å‡∏Ç 1234</strong></td>
                                <td>15/12/2024</td>
                                <td>‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95</td>
                                <td>45.50</td>
                                <td>37.80</td>
                                <td>1,719 ‡∏ö‡∏≤‡∏ó</td>
                                <td>125,450</td>
                                <td>‡∏õ‡∏ï‡∏ó. ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuelRecord('FUEL001')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuelRecord('FUEL001')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" onclick="printFuelReceipt('FUEL001')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>FUEL002</td>
                                <td><strong>‡∏Ç‡∏Ñ 5678</strong></td>
                                <td>14/12/2024</td>
                                <td>‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95</td>
                                <td>38.20</td>
                                <td>37.80</td>
                                <td>1,444 ‡∏ö‡∏≤‡∏ó</td>
                                <td>89,320</td>
                                <td>‡∏ö‡∏≤‡∏á‡∏à‡∏≤‡∏Å ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuelRecord('FUEL002')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuelRecord('FUEL002')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" onclick="printFuelReceipt('FUEL002')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>FUEL003</td>
                                <td><strong>‡∏Ñ‡∏á 9012</strong></td>
                                <td>13/12/2024</td>
                                <td>‡∏î‡∏µ‡πÄ‡∏ã‡∏•</td>
                                <td>52.80</td>
                                <td>30.15</td>
                                <td>1,592 ‡∏ö‡∏≤‡∏ó</td>
                                <td>156,780</td>
                                <td>‡πÄ‡∏ä‡∏•‡∏•‡πå ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuelRecord('FUEL003')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuelRecord('FUEL003')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" onclick="printFuelReceipt('FUEL003')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>FUEL004</td>
                                <td><strong>‡∏á‡∏à 3456</strong></td>
                                <td>12/12/2024</td>
                                <td>‡∏î‡∏µ‡πÄ‡∏ã‡∏•</td>
                                <td>48.60</td>
                                <td>30.15</td>
                                <td>1,465 ‡∏ö‡∏≤‡∏ó</td>
                                <td>98,540</td>
                                <td>‡∏õ‡∏ï‡∏ó. ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuelRecord('FUEL004')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuelRecord('FUEL004')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" onclick="printFuelReceipt('FUEL004')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>FUEL005</td>
                                <td><strong>‡∏à‡∏â 7890</strong></td>
                                <td>11/12/2024</td>
                                <td>‡∏î‡∏µ‡πÄ‡∏ã‡∏•</td>
                                <td>55.20</td>
                                <td>30.15</td>
                                <td>1,664 ‡∏ö‡∏≤‡∏ó</td>
                                <td>203,890</td>
                                <td>‡∏ö‡∏≤‡∏á‡∏à‡∏≤‡∏Å ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editFuelRecord('FUEL005')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteFuelRecord('FUEL005')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à" onclick="printFuelReceipt('FUEL005')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="gps" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-map-marker-alt"></i> ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° GPS</h2>
                <p>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #28a745, #1e7e34);">
                            <i class="fas fa-car"></i>
                        </div>
                    </div>
                    <div class="stat-number">8</div>
                    <div class="stat-label">‡∏£‡∏ñ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #dc3545, #c82333);">
                            <i class="fas fa-car-crash"></i>
                        </div>
                    </div>
                    <div class="stat-number">1</div>
                    <div class="stat-label">‡∏£‡∏ñ‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #17a2b8, #138496);">
                            <i class="fas fa-route"></i>
                        </div>
                    </div>
                    <div class="stat-number">1,250</div>
                    <div class="stat-label">‡∏Å‡∏°. ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #ffc107, #e0a800);">
                            <i class="fas fa-clock"></i>
                        </div>
                    </div>
                    <div class="stat-number">45</div>
                    <div class="stat-label">‡∏ä‡∏°. ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                </div>
            </div>

            <div class="gps-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div class="map-container" style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; height: 400px; display: flex; align-items: center; justify-content: center;">
                    <div style="text-align: center; color: #6c757d;">
                        <i class="fas fa-map" style="font-size: 48px; margin-bottom: 10px;"></i>
                        <h4>‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà GPS</h4>
                        <p>‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</p>
                        <button class="btn-primary" onclick="showGPSMap()">
                            <i class="fas fa-eye"></i> ‡∏î‡∏π‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
                        </button>
                    </div>
                </div>
                <div class="vehicle-status-container" style="background: white; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px;">
                    <h4 style="margin-bottom: 15px;"><i class="fas fa-list"></i> ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h4>
                    <div class="vehicle-status-list">
                        <div class="status-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #eee;">
                            <div>
                                <strong>‡∏Å‡∏Ç 1234</strong>
                                <div style="font-size: 12px; color: #6c757d;">Toyota Camry</div>
                            </div>
                            <span class="badge success">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span>
                        </div>
                        <div class="status-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #eee;">
                            <div>
                                <strong>‡∏Ç‡∏Ñ 5678</strong>
                                <div style="font-size: 12px; color: #6c757d;">Honda City</div>
                            </div>
                            <span class="badge success">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span>
                        </div>
                        <div class="status-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #eee;">
                            <div>
                                <strong>‡∏Ñ‡∏á 9012</strong>
                                <div style="font-size: 12px; color: #6c757d;">Isuzu D-Max</div>
                            </div>
                            <span class="badge danger">‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå</span>
                        </div>
                        <div class="status-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #eee;">
                            <div>
                                <strong>‡∏á‡∏à 3456</strong>
                                <div style="font-size: 12px; color: #6c757d;">Mitsubishi Triton</div>
                            </div>
                            <span class="badge success">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span>
                        </div>
                        <div class="status-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px;">
                            <div>
                                <strong>‡∏à‡∏â 7890</strong>
                                <div style="font-size: 12px; color: #6c757d;">Toyota Hilux Revo</div>
                            </div>
                            <span class="badge success">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-history"></i>
                        ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á
                    </div>
                    <button class="btn-add" onclick="exportGPSReport()">
                        <i class="fas fa-download"></i>
                        ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                                <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å</th>
                                <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏±‡∏ö</th>
                                <th>‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</th>
                                <th>‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢</th>
                                <th>‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (‡∏Å‡∏°.)</th>
                                <th>‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>‡∏Å‡∏Ç 1234</strong></td>
                                <td>15/12/2024</td>
                                <td>08:30</td>
                                <td>17:15</td>
                                <td>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</td>
                                <td>45.2</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡πÉ‡∏à‡∏î‡∏µ</td>
                                <td class="text-center">
                                    <button class="btn-action" title="‡∏î‡∏π‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á" onclick="viewRoute('‡∏Å‡∏Ç 1234', '15/12/2024')" style="color: #17a2b8;">
                                        <i class="fas fa-route"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô" onclick="generateTripReport('‡∏Å‡∏Ç 1234', '15/12/2024')" style="color: #6f42c1;">
                                        <i class="fas fa-file-alt"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>‡∏Ç‡∏Ñ 5678</strong></td>
                                <td>14/12/2024</td>
                                <td>09:00</td>
                                <td>16:30</td>
                                <td>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td>‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ä‡∏∏‡∏°‡∏ä‡∏ô</td>
                                <td>28.7</td>
                                <td>‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏°‡∏≤‡∏•‡∏µ ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°</td>
                                <td class="text-center">
                                    <button class="btn-action" title="‡∏î‡∏π‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á" onclick="viewRoute('‡∏Ç‡∏Ñ 5678', '14/12/2024')" style="color: #17a2b8;">
                                        <i class="fas fa-route"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô" onclick="generateTripReport('‡∏Ç‡∏Ñ 5678', '14/12/2024')" style="color: #6f42c1;">
                                        <i class="fas fa-file-alt"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>‡∏á‡∏à 3456</strong></td>
                                <td>13/12/2024</td>
                                <td>07:45</td>
                                <td>15:20</td>
                                <td>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td>‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</td>
                                <td>32.1</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò ‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°</td>
                                <td class="text-center">
                                    <button class="btn-action" title="‡∏î‡∏π‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á" onclick="viewRoute('‡∏á‡∏à 3456', '13/12/2024')" style="color: #17a2b8;">
                                        <i class="fas fa-route"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô" onclick="generateTripReport('‡∏á‡∏à 3456', '13/12/2024')" style="color: #6f42c1;">
                                        <i class="fas fa-file-alt"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="users" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-user-cog"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
                <p>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡∏∞‡∏ö‡∏ö</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #28a745, #1e7e34);">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>
                    <div class="stat-number">25</div>
                    <div class="stat-label">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #17a2b8, #138496);">
                            <i class="fas fa-user-check"></i>
                        </div>
                    </div>
                    <div class="stat-number">18</div>
                    <div class="stat-label">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #ffc107, #e0a800);">
                            <i class="fas fa-user-shield"></i>
                        </div>
                    </div>
                    <div class="stat-number">5</div>
                    <div class="stat-label">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #6f42c1, #5a2d91);">
                            <i class="fas fa-user-plus"></i>
                        </div>
                    </div>
                    <div class="stat-number">3</div>
                    <div class="stat-label">‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-list"></i>
                        ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                    </div>
                    <button class="btn-add" onclick="openModal('userModal')">
                        <i class="fas fa-plus"></i>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
                                <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                <th>‡πÅ‡∏ú‡∏ô‡∏Å</th>
                                <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
                                <th>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th>‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>USR001</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£</strong></td>
                                <td>‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£</td>
                                <td>‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£</td>
                                <td><span class="badge" style="background: #dc3545;">‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£</span></td>
                                <td><span class="badge success">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span></td>
                                <td>15/12/2024 14:30</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editUser('USR001')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" onclick="resetPassword('USR001')" style="color: #ffc107;">
                                        <i class="fas fa-key"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>USR002</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡πÉ‡∏à‡∏î‡∏µ</strong></td>
                                <td>‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå</td>
                                <td>‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô</td>
                                <td><span class="badge" style="background: #ffc107;">‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô</span></td>
                                <td><span class="badge success">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span></td>
                                <td>15/12/2024 13:45</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editUser('USR002')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" onclick="resetPassword('USR002')" style="color: #ffc107;">
                                        <i class="fas fa-key"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏∞‡∏á‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" onclick="suspendUser('USR002')" style="color: #dc3545;">
                                        <i class="fas fa-ban"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>USR003</td>
                                <td><strong>‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏°‡∏≤‡∏•‡∏µ ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°</strong></td>
                                <td>‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</td>
                                <td>‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô</td>
                                <td><span class="badge" style="background: #17a2b8;">‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô</span></td>
                                <td><span class="badge success">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span></td>
                                <td>15/12/2024 12:20</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editUser('USR003')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" onclick="resetPassword('USR003')" style="color: #ffc107;">
                                        <i class="fas fa-key"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏∞‡∏á‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" onclick="suspendUser('USR003')" style="color: #dc3545;">
                                        <i class="fas fa-ban"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>USR004</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò ‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°</strong></td>
                                <td>‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</td>
                                <td>‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£</td>
                                <td><span class="badge" style="background: #28a745;">‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£</span></td>
                                <td><span class="badge warning">‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå</span></td>
                                <td>14/12/2024 17:00</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editUser('USR004')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" onclick="resetPassword('USR004')" style="color: #ffc107;">
                                        <i class="fas fa-key"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏∞‡∏á‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" onclick="suspendUser('USR004')" style="color: #dc3545;">
                                        <i class="fas fa-ban"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>USR005</td>
                                <td><strong>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏´‡∏ß‡∏±‡∏á ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</strong></td>
                                <td>‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</td>
                                <td>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</td>
                                <td><span class="badge" style="background: #6c757d;">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</span></td>
                                <td><span class="badge success">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span></td>
                                <td>15/12/2024 11:15</td>
                                <td class="text-center">
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editUser('USR005')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" onclick="resetPassword('USR005')" style="color: #ffc107;">
                                        <i class="fas fa-key"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteUser('USR005')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        <section id="reports" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-chart-bar"></i> ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h2>
                <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #28a745, #1e7e34);">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                    </div>
                    <div class="stat-number">45</div>
                    <div class="stat-label">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #17a2b8, #138496);">
                            <i class="fas fa-download"></i>
                        </div>
                    </div>
                    <div class="stat-number">128</div>
                    <div class="stat-label">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #ffc107, #e0a800);">
                            <i class="fas fa-chart-line"></i>
                        </div>
                    </div>
                    <div class="stat-number">85%</div>
                    <div class="stat-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #6f42c1, #5a2d91);">
                            <i class="fas fa-clock"></i>
                        </div>
                    </div>
                    <div class="stat-number">2.5</div>
                    <div class="stat-label">‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
                </div>
            </div>

            <div class="report-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div class="report-types" style="background: white; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px;">
                    <h4 style="margin-bottom: 15px;"><i class="fas fa-file-alt"></i> ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</h4>
                    <div class="report-type-list">
                        <div class="report-type-item" style="padding: 15px; border: 1px solid #eee; border-radius: 5px; margin-bottom: 10px; cursor: pointer;" onclick="generateReport('vehicle-usage')">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <strong>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</strong>
                                    <div style="font-size: 12px; color: #6c757d;">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ</div>
                                </div>
                                <i class="fas fa-chevron-right" style="color: #6c757d;"></i>
                            </div>
                        </div>
                        <div class="report-type-item" style="padding: 15px; border: 1px solid #eee; border-radius: 5px; margin-bottom: 10px; cursor: pointer;" onclick="generateReport('fuel-consumption')">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <strong>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</strong>
                                    <div style="font-size: 12px; color: #6c757d;">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</div>
                                </div>
                                <i class="fas fa-chevron-right" style="color: #6c757d;"></i>
                            </div>
                        </div>
                        <div class="report-type-item" style="padding: 15px; border: 1px solid #eee; border-radius: 5px; margin-bottom: 10px; cursor: pointer;" onclick="generateReport('maintenance-cost')">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <strong>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</strong>
                                    <div style="font-size: 12px; color: #6c757d;">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</div>
                                </div>
                                <i class="fas fa-chevron-right" style="color: #6c757d;"></i>
                            </div>
                        </div>
                        <div class="report-type-item" style="padding: 15px; border: 1px solid #eee; border-radius: 5px; margin-bottom: 10px; cursor: pointer;" onclick="generateReport('driver-performance')">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <strong>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà</strong>
                                    <div style="font-size: 12px; color: #6c757d;">‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</div>
                                </div>
                                <i class="fas fa-chevron-right" style="color: #6c757d;"></i>
                            </div>
                        </div>
                        <div class="report-type-item" style="padding: 15px; border: 1px solid #eee; border-radius: 5px; cursor: pointer;" onclick="generateReport('inspection-summary')">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <strong>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û</strong>
                                    <div style="font-size: 12px; color: #6c757d;">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</div>
                                </div>
                                <i class="fas fa-chevron-right" style="color: #6c757d;"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chart-container" style="background: white; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px;">
                    <h4 style="margin-bottom: 15px;"><i class="fas fa-chart-pie"></i> ‡∏Å‡∏£‡∏≤‡∏ü‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h4>
                    <div style="text-align: center; color: #6c757d; padding: 50px 0;">
                        <i class="fas fa-chart-bar" style="font-size: 48px; margin-bottom: 10px;"></i>
                        <h5>‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h5>
                        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Å‡∏£‡∏≤‡∏ü‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</p>
                        <button class="btn-primary" onclick="showChartModal()">
                            <i class="fas fa-chart-line"></i> ‡∏î‡∏π‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
                        </button>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-history"></i>
                        ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                    </div>
                    <button class="btn-add" onclick="openModal('reportModal')">
                        <i class="fas fa-plus"></i>
                        ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà
                    </button>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</th>
                                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</th>
                                <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á</th>
                                <th>‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á</th>
                                <th>‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th class="text-center">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>RPT001</td>
                                <td><strong>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2024</strong></td>
                                <td>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</td>
                                <td>15/12/2024</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£</td>
                                <td>2.5 MB</td>
                                <td><span class="badge success">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span></td>
                                <td class="text-center">
                                    <button class="btn-action" title="‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î" onclick="downloadReport('RPT001')" style="color: #28a745;">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á" onclick="previewReport('RPT001')" style="color: #17a2b8;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteReport('RPT001')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>RPT002</td>
                                <td><strong>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2024</strong></td>
                                <td>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</td>
                                <td>30/11/2024</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡πÉ‡∏à‡∏î‡∏µ</td>
                                <td>1.8 MB</td>
                                <td><span class="badge success">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span></td>
                                <td class="text-center">
                                    <button class="btn-action" title="‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î" onclick="downloadReport('RPT002')" style="color: #28a745;">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á" onclick="previewReport('RPT002')" style="color: #17a2b8;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteReport('RPT002')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>RPT003</td>
                                <td><strong>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ Q4 2024</strong></td>
                                <td>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</td>
                                <td>01/12/2024</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò ‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°</td>
                                <td>3.2 MB</td>
                                <td><span class="badge warning">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</span></td>
                                <td class="text-center">
                                    <button class="btn-action" title="‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä" onclick="refreshReport('RPT003')" style="color: #ffc107;">
                                        <i class="fas fa-sync"></i>
                                    </button>
                                    <button class="btn-action delete" title="‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å" onclick="cancelReport('RPT003')">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Vehicle Logs Section -->
        <section id="vehicle-logs" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-book"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h2>
                <p>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏à‡∏£‡∏¥‡∏á ‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å-‡∏Å‡∏•‡∏±‡∏ö ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö</p>
            </div>

            <!-- Search and Quick Actions -->
            <div class="search-section">
                <div class="search-container">
                    <div class="search-input-group">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô, ‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö, ‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢...">
                        <button class="search-clear"><i class="fas fa-times"></i></button>
                    </div>
                </div>
                <div class="quick-actions">
                    <button class="quick-action-btn" onclick="openModal('vehicleLogModal')">
                        <i class="fas fa-plus"></i>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡∏°‡πà
                    </button>
                    <button class="export-btn" onclick="exportVehicleLogs()">
                        <i class="fas fa-file-excel"></i>
                        Export Excel
                    </button>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon vehicles">
                            <i class="fas fa-road"></i>
                        </div>
                    </div>
                    <div class="stat-number">1,245 <small>‡∏Å‡∏°.</small></div>
                    <div class="stat-label">‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏£‡∏ß‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon available">
                            <i class="fas fa-book-open"></i>
                        </div>
                    </div>
                    <div class="stat-number">28</div>
                    <div class="stat-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon in-use">
                            <i class="fas fa-clock"></i>
                        </div>
                    </div>
                    <div class="stat-number">156 <small>‡∏ä‡∏°.</small></div>
                    <div class="stat-label">‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ß‡∏°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon maintenance">
                            <i class="fas fa-gas-pump"></i>
                        </div>
                    </div>
                    <div class="stat-number">6.8 <small>‡∏Å‡∏°./‡∏•‡∏¥‡∏ï‡∏£</small></div>
                    <div class="stat-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
                </div>
            </div>

            <!-- Vehicle Logs Table -->
            <div class="table-container">
                <div class="modern-card">
                    <h3 style="margin-bottom: 1.5rem;"><i class="fas fa-list"></i> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</th>
                                <th>‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</th>
                                <th>‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</th>
                                <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å</th>
                                <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏±‡∏ö</th>
                                <th>‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢</th>
                                <th>‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (‡∏Å‡∏°.)</th>
                                <th>‡πÄ‡∏•‡∏Ç‡πÑ‡∏°‡∏•‡πå‡∏≠‡∏≠‡∏Å</th>
                                <th>‡πÄ‡∏•‡∏Ç‡πÑ‡∏°‡∏•‡πå‡∏Å‡∏•‡∏±‡∏ö</th>
                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th class="text-center">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="vehicleLogsTableBody">
                            <tr>
                                <td><strong>LOG001</strong></td>
                                <td>‡∏Å‡∏Ç 1234 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</td>
                                <td>20/10/2024</td>
                                <td>08:00</td>
                                <td>16:30</td>
                                <td>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô</td>
                                <td class="text-right">85</td>
                                <td class="text-right">12,500</td>
                                <td class="text-right">12,585</td>
                                <td><span class="badge success">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</span></td>
                                <td class="text-center">
                                    <button class="btn-action view" title="‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î" onclick="viewVehicleLog('LOG001')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editVehicleLog('LOG001')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå" onclick="printVehicleLog('LOG001')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>LOG002</strong></td>
                                <td>‡∏ô‡∏Ç 5678 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡∏£‡∏±‡∏Å‡∏©‡∏≤</td>
                                <td>19/10/2024</td>
                                <td>09:30</td>
                                <td>15:00</td>
                                <td>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏£‡∏û‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</td>
                                <td class="text-right">42</td>
                                <td class="text-right">8,750</td>
                                <td class="text-right">8,792</td>
                                <td><span class="badge success">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</span></td>
                                <td class="text-center">
                                    <button class="btn-action view" title="‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î" onclick="viewVehicleLog('LOG002')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editVehicleLog('LOG002')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏û‡∏¥‡∏°‡∏û‡πå" onclick="printVehicleLog('LOG002')" style="color: #6f42c1;">
                                        <i class="fas fa-print"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>LOG003</strong></td>
                                <td>‡∏û‡∏Ç 9012 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</td>
                                <td>‡∏ô‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</td>
                                <td>20/10/2024</td>
                                <td>07:00</td>
                                <td>-</td>
                                <td>‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏Å‡∏£‡∏∞‡∏ô‡∏ß‡∏ô</td>
                                <td class="text-right">-</td>
                                <td class="text-right">15,280</td>
                                <td class="text-right">-</td>
                                <td><span class="badge warning">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span></td>
                                <td class="text-center">
                                    <button class="btn-action view" title="‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î" onclick="viewVehicleLog('LOG003')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action" title="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏•‡∏±‡∏ö" onclick="completeVehicleLog('LOG003')" style="color: #28a745;">
                                        <i class="fas fa-check-circle"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Vehicle History Section -->
        <section id="vehicle-history" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-history"></i> ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h2>
                <p>‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</p>
            </div>

            <!-- Filter Section -->
            <div class="search-section">
                <div class="search-container">
                    <div class="search-input-group">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ, ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ, ‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢...">
                        <button class="search-clear"><i class="fas fa-times"></i></button>
                    </div>
                </div>
                <div class="quick-actions">
                    <select class="filter-select" onchange="filterHistoryByVehicle(this.value)">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏±‡∏ô</option>
                        <option value="‡∏Å‡∏Ç 1234">‡∏Å‡∏Ç 1234 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</option>
                        <option value="‡∏ô‡∏Ç 5678">‡∏ô‡∏Ç 5678 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</option>
                        <option value="‡∏û‡∏Ç 9012">‡∏û‡∏Ç 9012 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</option>
                    </select>
                    <select class="filter-select" onchange="filterHistoryByPeriod(this.value)">
                        <option value="7days">7 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</option>
                        <option value="30days" selected>30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</option>
                        <option value="3months">3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</option>
                        <option value="1year">1 ‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</option>
                        <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                    </select>
                    <button class="export-btn" onclick="exportHistory()">
                        <i class="fas fa-file-pdf"></i>
                        Export PDF
                    </button>
                </div>
            </div>

            <!-- Summary Stats -->
            <div class="kpi-grid">
                <div class="kpi-card primary">
                    <div class="kpi-header">
                        <div class="kpi-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="kpi-trend up">
                            <i class="fas fa-arrow-up"></i> 12%
                        </div>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-number">128</div>
                        <div class="kpi-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                        <div class="kpi-sublabel">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                    </div>
                </div>
                <div class="kpi-card success">
                    <div class="kpi-header">
                        <div class="kpi-icon">
                            <i class="fas fa-route"></i>
                        </div>
                        <div class="kpi-trend up">
                            <i class="fas fa-arrow-up"></i> 8%
                        </div>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-number">5,240 <small>‡∏Å‡∏°.</small></div>
                        <div class="kpi-label">‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                        <div class="kpi-sublabel">‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á 30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤</div>
                    </div>
                </div>
                <div class="kpi-card warning">
                    <div class="kpi-header">
                        <div class="kpi-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="kpi-trend stable">
                            <i class="fas fa-minus"></i> 0%
                        </div>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-number">624 <small>‡∏ä‡∏°.</small></div>
                        <div class="kpi-label">‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ß‡∏°</div>
                        <div class="kpi-sublabel">‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                    </div>
                </div>
                <div class="kpi-card info">
                    <div class="kpi-header">
                        <div class="kpi-icon">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="kpi-trend up">
                            <i class="fas fa-arrow-up"></i> 5%
                        </div>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-number">6</div>
                        <div class="kpi-label">‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</div>
                        <div class="kpi-sublabel">‡∏Å‡∏Ç 1234 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£</div>
                    </div>
                </div>
            </div>

            <!-- History Timeline -->
            <div class="activities-container">
                <h3 style="margin-bottom: 1.5rem;"><i class="fas fa-timeline"></i> ‡πÑ‡∏ó‡∏°‡πå‡πÑ‡∏•‡∏ô‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (30 ‡∏ß‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)</h3>
                <div class="activity-item">
                    <div class="activity-icon request">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">‡∏Å‡∏Ç 1234 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ - ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>
                        <div class="activity-description">‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö: ‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ | ‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢: ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á: 85 ‡∏Å‡∏°.</div>
                        <div class="activity-time">20/10/2024 16:30</div>
                    </div>
                    <div class="activity-status success">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon request">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">‡∏ô‡∏Ç 5678 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ - ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>
                        <div class="activity-description">‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö: ‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡∏£‡∏±‡∏Å‡∏©‡∏≤ | ‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢: ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏£‡∏û‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á: 42 ‡∏Å‡∏°.</div>
                        <div class="activity-time">19/10/2024 15:00</div>
                    </div>
                    <div class="activity-status success">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon user">
                        <i class="fas fa-play-circle"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">‡∏û‡∏Ç 9012 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</div>
                        <div class="activity-description">‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö: ‡∏ô‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ | ‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢: ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏Å‡∏£‡∏∞‡∏ô‡∏ß‡∏ô | ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</div>
                        <div class="activity-time">20/10/2024 07:00</div>
                    </div>
                    <div class="activity-status warning">
                        <i class="fas fa-clock"></i>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon request">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">‡∏Å‡∏Ç 1234 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ - ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>
                        <div class="activity-description">‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö: ‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ | ‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢: ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á: 15 ‡∏Å‡∏°.</div>
                        <div class="activity-time">18/10/2024 14:20</div>
                    </div>
                    <div class="activity-status success">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon maintenance">
                        <i class="fas fa-tools"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">‡∏ô‡∏Ç 5678 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ - ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</div>
                        <div class="activity-description">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ö‡∏£‡∏Å | ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</div>
                        <div class="activity-time">17/10/2024 10:00</div>
                    </div>
                    <div class="activity-status info">
                        <i class="fas fa-wrench"></i>
                    </div>
                </div>
            </div>

            <!-- Monthly Chart -->
            <div class="charts-row" style="margin-top: 2rem;">
                <div class="chart-container full-width">
                    <div class="chart-header">
                        <h4><i class="fas fa-chart-line"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå (‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)</h4>
                        <div class="chart-controls">
                            <select class="chart-filter">
                                <option value="6months">6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</option>
                                <option value="1year" selected>1 ‡∏õ‡∏µ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</option>
                                <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-content">
                        <canvas id="historyChart"></canvas>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Vehicle Modal -->
    <div id="vehicleModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà</h3>
                <button class="close" onclick="closeVehicleModal()">&times;</button>
            </div>
            <form id="vehicleForm" autocomplete="off">
                <div class="form-group">
                    <label for="vehicleCode">‡∏£‡∏´‡∏±‡∏™‡∏£‡∏ñ</label>
                    <input type="text" id="vehicleCode" name="vehicle_id" required>
                </div>
                <div class="form-group">
                    <label for="licensePlate">‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</label>
                    <input type="text" id="licensePlate" name="registration_number" required>
                </div>
                <div class="form-group">
                    <label for="brand">‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠/‡∏£‡∏∏‡πà‡∏ô</label>
                    <select id="brand" name="brand_model" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠/‡∏£‡∏∏‡πà‡∏ô</option>
                        <option value="Toyota Vios">Toyota Vios</option>
                        <option value="Toyota Yaris">Toyota Yaris</option>
                        <option value="Toyota Camry">Toyota Camry</option>
                        <option value="Toyota Hilux Revo">Toyota Hilux Revo</option>
                        <option value="Honda City">Honda City</option>
                        <option value="Honda Civic">Honda Civic</option>
                        <option value="Honda CR-V">Honda CR-V</option>
                        <option value="Isuzu D-Max">Isuzu D-Max</option>
                        <option value="Mitsubishi Triton">Mitsubishi Triton</option>
                        <option value="Nissan Navara">Nissan Navara</option>
                        <option value="Ford Ranger">Ford Ranger</option>
                        <option value="Mazda CX-5">Mazda CX-5</option>
                        <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏£‡∏∞‡∏ö‡∏∏‡πÉ‡∏ô‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="color">‡∏™‡∏µ</label>
                    <select id="color" name="color" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ</option>
                        <option value="‡∏Ç‡∏≤‡∏ß">‡∏Ç‡∏≤‡∏ß</option>
                        <option value="‡πÄ‡∏á‡∏¥‡∏ô">‡πÄ‡∏á‡∏¥‡∏ô</option>
                        <option value="‡πÄ‡∏ó‡∏≤">‡πÄ‡∏ó‡∏≤</option>
                        <option value="‡∏î‡∏≥">‡∏î‡∏≥</option>
                        <option value="‡πÅ‡∏î‡∏á">‡πÅ‡∏î‡∏á</option>
                        <option value="‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô">‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô</option>
                        <option value="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</option>
                        <option value="‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•">‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•</option>
                        <option value="‡∏ó‡∏≠‡∏á">‡∏ó‡∏≠‡∏á</option>
                        <option value="‡∏°‡πà‡∏ß‡∏á">‡∏°‡πà‡∏ß‡∏á</option>
                        <option value="‡∏™‡πâ‡∏°">‡∏™‡πâ‡∏°</option>
                        <option value="‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á">‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fuelType">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á</label>
                    <select id="fuelType" name="fuel_type" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E20">‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E20</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E85">‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E85</option>
                        <option value="‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 91">‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 91</option>
                        <option value="‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95">‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95</option>
                        <option value="‡∏î‡∏µ‡πÄ‡∏ã‡∏•">‡∏î‡∏µ‡πÄ‡∏ã‡∏•</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™ LPG">‡πÅ‡∏Å‡πä‡∏™ LPG</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="department">‡πÅ‡∏ú‡∏ô‡∏Å</label>
                    <select id="department" name="department" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå">‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•">‡πÅ‡∏ú‡∏ô‡∏Å‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á">‡πÅ‡∏ú‡∏ô‡∏Å‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢">‡πÅ‡∏ú‡∏ô‡∏Å‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô">‡πÅ‡∏ú‡∏ô‡∏Å‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏Å‡∏£‡∏£‡∏°">‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏Å‡∏£‡∏£‡∏°</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏£‡∏±‡∏á‡∏™‡∏µ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤">‡πÅ‡∏ú‡∏ô‡∏Å‡∏£‡∏±‡∏á‡∏™‡∏µ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£">‡πÅ‡∏ú‡∏ô‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏ö‡∏≥‡∏ö‡∏±‡∏î">‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏ö‡∏≥‡∏ö‡∏±‡∏î</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£">‡πÅ‡∏ú‡∏ô‡∏Å‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£">‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô">‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•">‡πÅ‡∏ú‡∏ô‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®">‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="status">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                    <select id="status" name="status" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                        <option value="AVAILABLE">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option>
                        <option value="IN_USE">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option>
                        <option value="MAINTENANCE">‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</option>
                    </select>
                </div>
                <div style="text-align: right;">
                    <button type="button" class="btn-secondary" onclick="closeVehicleModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Driver Modal -->
    <div id="driverModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡πÉ‡∏´‡∏°‡πà</h3>
                <button class="close" onclick="closeModal('driverModal')">&times;</button>
            </div>
            <form id="driverForm">
                <div class="form-group">
                    <label for="driverCode">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</label>
                    <input type="text" id="driverCode" name="driverCode" required>
                </div>
                <div class="form-group">
                    <label for="driverName">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                    <input type="text" id="driverName" name="driverName" required>
                </div>
                <div class="form-group">
                    <label for="position">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
                    <select id="position" name="position" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</option>
                        <option value="‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</option>
                        <option value="‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤</option>
                        <option value="‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</option>
                        <option value="‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</option>
                        <option value="‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="phone">‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                <div class="form-group">
                    <label for="licenseNumber">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà</label>
                    <input type="text" id="licenseNumber" name="licenseNumber" required>
                </div>
                <div class="form-group">
                    <label for="driverStatus">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                    <select id="driverStatus" name="driverStatus" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                        <option value="‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏á‡∏≤‡∏ô">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏á‡∏≤‡∏ô</option>
                        <option value="‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏á‡∏≤‡∏ô">‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏á‡∏≤‡∏ô</option>
                        <option value="‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢">‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢</option>
                        <option value="‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô">‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô</option>
                        <option value="‡∏•‡∏≤‡∏Å‡∏¥‡∏à">‡∏•‡∏≤‡∏Å‡∏¥‡∏à</option>
                        <option value="‡∏≠‡∏ö‡∏£‡∏°">‡∏≠‡∏ö‡∏£‡∏°</option>
                        <option value="‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏ô‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà">‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏ô‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</option>
                        <option value="‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î">‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î</option>
                        <option value="‡∏´‡∏¢‡∏∏‡∏î‡∏á‡∏≤‡∏ô">‡∏´‡∏¢‡∏∏‡∏î‡∏á‡∏≤‡∏ô</option>
                    </select>
                </div>
                <div style="text-align: right;">
                    <button type="button" class="btn-secondary" onclick="closeModal('driverModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Report Modal -->
    <div id="reportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</h3>
                <button class="close" onclick="closeModal('reportModal')">&times;</button>
            </div>
            <form id="reportForm">
                <div class="form-group">
                    <label for="reportType">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</label>
                    <select id="reportType" name="reportType" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</option>
                        <option value="vehicle-usage">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</option>
                        <option value="fuel-consumption">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</option>
                        <option value="maintenance-cost">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</option>
                        <option value="driver-performance">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà</option>
                        <option value="inspection-summary">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reportName">‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</label>
                    <input type="text" id="reportName" name="reportName" required>
                </div>
                <div class="form-group">
                    <label for="reportPeriod">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤</label>
                    <select id="reportPeriod" name="reportPeriod" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤</option>
                        <option value="daily">‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</option>
                        <option value="weekly">‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</option>
                        <option value="monthly">‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</option>
                        <option value="quarterly">‡∏£‡∏≤‡∏¢‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™</option>
                        <option value="yearly">‡∏£‡∏≤‡∏¢‡∏õ‡∏µ</option>
                        <option value="custom">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reportStartDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label>
                    <input type="date" id="reportStartDate" name="reportStartDate" required>
                </div>
                <div class="form-group">
                    <label for="reportEndDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
                    <input type="date" id="reportEndDate" name="reportEndDate" required>
                </div>
                <div class="form-group">
                    <label for="reportFormat">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå</label>
                    <select id="reportFormat" name="reportFormat" required>
                        <option value="pdf">PDF</option>
                        <option value="excel">Excel</option>
                        <option value="csv">CSV</option>
                    </select>
                </div>
                <div style="text-align: right;">
                    <button type="button" class="btn-secondary" onclick="closeModal('reportModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</button>
                </div>
            </form>
        </div>
    </div>

    <!-- User Modal -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
                <button class="close" onclick="closeModal('userModal')">&times;</button>
            </div>
            <form id="userForm">
                <div class="form-group">
                    <label for="userId">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label>
                    <input type="text" id="userId" name="userId" required>
                </div>
                <div class="form-group">
                    <label for="userName">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                    <input type="text" id="userName" name="userName" required>
                </div>
                <div class="form-group">
                    <label for="userDepartment">‡πÅ‡∏ú‡∏ô‡∏Å</label>
                    <select id="userDepartment" name="userDepartment" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å</option>
                        <option value="‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£">‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£</option>
                        <option value="‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå">‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå</option>
                        <option value="‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•">‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</option>
                        <option value="‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á">‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</option>
                        <option value="‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢">‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</option>
                        <option value="‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô">‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="userPosition">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
                    <input type="text" id="userPosition" name="userPosition" required>
                </div>
                <div class="form-group">
                    <label for="userRole">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</label>
                    <select id="userRole" name="userRole" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</option>
                        <option value="‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
                        <option value="‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£">‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£</option>
                        <option value="‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô">‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô</option>
                        <option value="‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô">‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏á‡∏≤‡∏ô</option>
                        <option value="‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£">‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="userEmail">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                    <input type="email" id="userEmail" name="userEmail" required>
                </div>
                <div class="form-group">
                    <label for="userPhone">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                    <input type="tel" id="userPhone" name="userPhone" required>
                </div>
                <div class="form-group">
                    <label for="userPassword">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                    <input type="password" id="userPassword" name="userPassword" required>
                </div>
                <div style="text-align: right;">
                    <button type="button" class="btn-secondary" onclick="closeModal('userModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Vehicle Log Modal -->
    <div id="vehicleLogModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h3>
                <button class="close" onclick="closeModal('vehicleLogModal')">&times;</button>
            </div>
            <form id="vehicleLogForm" onsubmit="saveVehicleLog(event)">
                <div class="form-group">
                    <label for="logVehicleId">‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ <span style="color: red;">*</span></label>
                    <select id="logVehicleId" name="logVehicleId" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</option>
                        <option value="1">‡∏Å‡∏Ç 1234 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ - ‡∏£‡∏ñ‡∏ï‡∏π‡πâ Toyota Commuter</option>
                        <option value="2">‡∏ô‡∏Ç 5678 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ - ‡∏£‡∏ñ‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• Toyota Hilux Revo</option>
                        <option value="3">‡∏û‡∏Ç 9012 ‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£ - ‡∏£‡∏ñ‡∏Å‡∏£‡∏∞‡∏ö‡∏∞ Isuzu D-Max</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="logDriverId">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ <span style="color: red;">*</span></label>
                    <select id="logDriverId" name="logDriverId" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</option>
                        <option value="1">‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</option>
                        <option value="2">‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡∏£‡∏±‡∏Å‡∏©‡∏≤</option>
                        <option value="3">‡∏ô‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="logDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á <span style="color: red;">*</span></label>
                    <input type="date" id="logDate" name="logDate" required>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label for="logTimeOut">‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á <span style="color: red;">*</span></label>
                        <input type="time" id="logTimeOut" name="logTimeOut" required>
                    </div>
                    <div class="form-group">
                        <label for="logTimeIn">‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏ñ‡∏∂‡∏á</label>
                        <input type="time" id="logTimeIn" name="logTimeIn">
                    </div>
                </div>
                <div class="form-group">
                    <label for="logDestination">‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á <span style="color: red;">*</span></label>
                    <input type="text" id="logDestination" name="logDestination" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô" required>
                </div>
                <div class="form-group">
                    <label for="logPurpose">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</label>
                    <textarea id="logPurpose" name="logPurpose" rows="2" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡πà‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢, ‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°, ‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£"></textarea>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label for="logMileageOut">‡πÄ‡∏•‡∏Ç‡πÑ‡∏°‡∏•‡πå‡∏≠‡∏≠‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á <span style="color: red;">*</span></label>
                        <input type="number" id="logMileageOut" name="logMileageOut" placeholder="12500" required>
                    </div>
                    <div class="form-group">
                        <label for="logMileageIn">‡πÄ‡∏•‡∏Ç‡πÑ‡∏°‡∏•‡πå‡∏Å‡∏•‡∏±‡∏ö‡∏ñ‡∏∂‡∏á</label>
                        <input type="number" id="logMileageIn" name="logMileageIn" placeholder="12585">
                    </div>
                </div>
                <div class="form-group">
                    <label for="logDistance">‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (‡∏Å‡∏°.) <small style="color: #6c757d;">(‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)</small></label>
                    <input type="number" id="logDistance" name="logDistance" readonly>
                </div>
                <div class="form-group">
                    <label for="logPassengers">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£</label>
                    <input type="number" id="logPassengers" name="logPassengers" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="logNotes">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                    <textarea id="logNotes" name="logNotes" rows="3" placeholder="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ, ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á"></textarea>
                </div>
                <div class="form-group">
                    <label for="logStatus">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                    <select id="logStatus" name="logStatus" required>
                        <option value="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option>
                        <option value="‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</option>
                    </select>
                </div>
                <div style="text-align: right;">
                    <button type="button" class="btn-secondary" onclick="closeModal('vehicleLogModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Maintenance Modal -->
    <div id="maintenanceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</h3>
                <button class="close" onclick="closeModal('maintenanceModal')">&times;</button>
            </div>
            <form id="maintenanceForm2">
                <div class="form-group">
                    <label for="maintenanceCode">‡∏£‡∏´‡∏±‡∏™‡∏á‡∏≤‡∏ô</label>
                    <input type="text" id="maintenanceCode" name="maintenanceCode" required>
                </div>
                <div class="form-group">
                    <label for="maintenanceVehicle">‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</label>
                    <select id="maintenanceVehicle" name="maintenanceVehicle" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</option>
                        <option value="‡∏Å‡∏Ç 1234">‡∏Å‡∏Ç 1234 - Toyota Camry</option>
                        <option value="‡∏Ç‡∏Ñ 5678">‡∏Ç‡∏Ñ 5678 - Honda City</option>
                        <option value="‡∏Ñ‡∏á 9012">‡∏Ñ‡∏á 9012 - Isuzu D-Max</option>
                        <option value="‡∏á‡∏à 3456">‡∏á‡∏à 3456 - Mitsubishi Triton</option>
                        <option value="‡∏à‡∏â 7890">‡∏à‡∏â 7890 - Toyota Hilux Revo</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="maintenanceType">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô</label>
                    <select id="maintenanceType" name="maintenanceType" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô</option>
                        <option value="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</option>
                        <option value="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏¢‡∏≤‡∏á‡∏£‡∏ñ">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏¢‡∏≤‡∏á‡∏£‡∏ñ</option>
                        <option value="‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏ö‡∏£‡∏Å">‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏ö‡∏£‡∏Å</option>
                        <option value="‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü">‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü</option>
                        <option value="‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏≠‡∏£‡πå">‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏≠‡∏£‡πå</option>
                        <option value="‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå">‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå</option>
                        <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="startDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°</label>
                    <input type="date" id="startDate" name="startDate" required>
                </div>
                <div class="form-group">
                    <label for="endDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à</label>
                    <input type="date" id="endDate" name="endDate">
                </div>
                <div class="form-group">
                    <label for="maintenanceCost">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡∏ö‡∏≤‡∏ó)</label>
                    <input type="number" id="maintenanceCost" name="maintenanceCost" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="maintenanceStatus">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                    <select id="maintenanceStatus" name="maintenanceStatus" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                        <option value="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</option>
                        <option value="‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</option>
                        <option value="‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô">‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="technician">‡∏ä‡πà‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö</label>
                    <input type="text" id="technician" name="technician" required>
                </div>
                <div class="form-group">
                    <label for="maintenanceNotes">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                    <textarea id="maintenanceNotes" name="maintenanceNotes" rows="3"></textarea>
                </div>
                <div style="text-align: right;">
                    <button type="button" class="btn-secondary" onclick="closeModal('maintenanceModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Fuel Record Modal -->
    <div id="fuelRecordModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</h3>
                <button class="close" onclick="closeModal('fuelRecordModal')">&times;</button>
            </div>
            <form id="fuelRecordForm">
                <div class="form-group">
                    <label for="fuelRecordCode">‡∏£‡∏´‡∏±‡∏™‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°</label>
                    <input type="text" id="fuelRecordCode" name="fuelRecordCode" required>
                </div>
                <div class="form-group">
                    <label for="fuelVehicle">‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</label>
                    <select id="fuelVehicle" name="fuelVehicle" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</option>
                        <option value="‡∏Å‡∏Ç 1234">‡∏Å‡∏Ç 1234 - Toyota Camry</option>
                        <option value="‡∏Ç‡∏Ñ 5678">‡∏Ç‡∏Ñ 5678 - Honda City</option>
                        <option value="‡∏Ñ‡∏á 9012">‡∏Ñ‡∏á 9012 - Isuzu D-Max</option>
                        <option value="‡∏á‡∏à 3456">‡∏á‡∏à 3456 - Mitsubishi Triton</option>
                        <option value="‡∏à‡∏â 7890">‡∏à‡∏â 7890 - Toyota Hilux Revo</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fuelDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏¥‡∏°</label>
                    <input type="date" id="fuelDate" name="fuelDate" required>
                </div>
                <div class="form-group">
                    <label for="fuelTypeRecord">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</label>
                    <select id="fuelTypeRecord" name="fuelTypeRecord" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E20">‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E20</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E85">‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E85</option>
                        <option value="‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 91">‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 91</option>
                        <option value="‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95">‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95</option>
                        <option value="‡∏î‡∏µ‡πÄ‡∏ã‡∏•">‡∏î‡∏µ‡πÄ‡∏ã‡∏•</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™ LPG">‡πÅ‡∏Å‡πä‡∏™ LPG</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fuelAmount">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏•‡∏¥‡∏ï‡∏£)</label>
                    <input type="number" id="fuelAmount" name="fuelAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="fuelPricePerLiter">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏•‡∏¥‡∏ï‡∏£ (‡∏ö‡∏≤‡∏ó)</label>
                    <input type="number" id="fuelPricePerLiter" name="fuelPricePerLiter" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="mileage">‡πÄ‡∏•‡∏Ç‡πÑ‡∏°‡∏•‡πå</label>
                    <input type="number" id="mileage" name="mileage" required>
                </div>
                <div class="form-group">
                    <label for="gasStation">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</label>
                    <input type="text" id="gasStation" name="gasStation" required>
                </div>
                <div class="form-group">
                    <label for="fuelNotes">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                    <textarea id="fuelNotes" name="fuelNotes" rows="2"></textarea>
                </div>
                <div style="text-align: right;">
                    <button type="button" class="btn-secondary" onclick="closeModal('fuelRecordModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </form>
        </div>
    </div>
    <!-- Request Modal -->
    <div id="requestModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h3>
                <button class="close" onclick="closeModal('requestModal')">&times;</button>
            </div>
            <form id="requestForm">
                <div class="form-group">
                    <label for="requestCode">‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏≥‡∏Ç‡∏≠</label>
                    <input type="text" id="requestCode" name="requestCode" required>
                </div>
                <div class="form-group">
                    <label for="requesterName">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏Ç‡∏≠</label>
                    <input type="text" id="requesterName" name="requesterName" required>
                </div>
                <div class="form-group">
                    <label for="requesterDepartment">‡πÅ‡∏ú‡∏ô‡∏Å</label>
                    <select id="requesterDepartment" name="requesterDepartment" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå">‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•">‡πÅ‡∏ú‡∏ô‡∏Å‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á">‡πÅ‡∏ú‡∏ô‡∏Å‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢">‡πÅ‡∏ú‡∏ô‡∏Å‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô">‡πÅ‡∏ú‡∏ô‡∏Å‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏Å‡∏£‡∏£‡∏°">‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏Å‡∏£‡∏£‡∏°</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏£‡∏±‡∏á‡∏™‡∏µ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤">‡πÅ‡∏ú‡∏ô‡∏Å‡∏£‡∏±‡∏á‡∏™‡∏µ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£">‡πÅ‡∏ú‡∏ô‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏ö‡∏≥‡∏ö‡∏±‡∏î">‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏ö‡∏≥‡∏ö‡∏±‡∏î</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£">‡πÅ‡∏ú‡∏ô‡∏Å‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£">‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô">‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•">‡πÅ‡∏ú‡∏ô‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</option>
                        <option value="‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®">‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="usageDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏£‡∏ñ</label>
                    <input type="date" id="usageDate" name="usageDate" required>
                </div>
                <div class="form-group">
                    <label for="startTime">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label>
                    <input type="time" id="startTime" name="startTime" required>
                </div>
                <div class="form-group">
                    <label for="endTime">‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
                    <input type="time" id="endTime" name="endTime" required>
                </div>
                <div class="form-group">
                    <label for="destination">‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢</label>
                    <select id="destination" name="destination" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢</option>
                        <option value="‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏®‡∏π‡∏ô‡∏¢‡πå">‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏®‡∏π‡∏ô‡∏¢‡πå</option>
                        <option value="‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ">‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
                        <option value="‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î">‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option>
                        <option value="‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç</option>
                        <option value="‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ï‡∏≥‡∏ö‡∏•">‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ï‡∏≥‡∏ö‡∏•</option>
                        <option value="‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á</option>
                        <option value="‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô">‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô</option>
                        <option value="‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£">‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</option>
                        <option value="‡∏ï‡∏•‡∏≤‡∏î">‡∏ï‡∏•‡∏≤‡∏î</option>
                        <option value="‡∏´‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">‡∏´‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</option>
                        <option value="‡∏®‡∏≤‡∏•‡∏≤‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î">‡∏®‡∏≤‡∏•‡∏≤‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option>
                        <option value="‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏Ç‡∏ï">‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏Ç‡∏ï</option>
                        <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏£‡∏∞‡∏ö‡∏∏‡πÉ‡∏ô‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="purpose">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</label>
                    <select id="purpose" name="purpose" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</option>
                        <option value="‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢">‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</option>
                        <option value="‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà">‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</option>
                        <option value="‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°/‡∏≠‡∏ö‡∏£‡∏°">‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°/‡∏≠‡∏ö‡∏£‡∏°</option>
                        <option value="‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£">‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</option>
                        <option value="‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</option>
                        <option value="‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏á">‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏á</option>
                        <option value="‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£">‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</option>
                        <option value="‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á/‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå">‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á/‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</option>
                        <option value="‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô">‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</option>
                        <option value="‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©</option>
                        <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="purposeDetail">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
                    <textarea id="purposeDetail" name="purposeDetail" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ"></textarea>
                </div>
                <div class="form-group">
                    <label for="passengerCount">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£</label>
                    <input type="number" id="passengerCount" name="passengerCount" min="1" max="20" required>
                </div>
                <div style="text-align: right;">
                    <button type="button" class="btn-secondary" onclick="closeModal('requestModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Inspection Modal -->
    <div id="inspectionModal" class="modal">
        <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3 class="modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h3>
                <button class="close" onclick="closeModal('inspectionModal')">&times;</button>
            </div>
            <form id="inspectionForm">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô -->
                    <div>
                        <h4 style="color: #00858A; margin-bottom: 15px;"><i class="fas fa-info-circle"></i> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</h4>
                        
                        <div class="form-group">
                            <label for="inspectionDate">1. ‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏õ‡∏µ ‡∏û.‡∏®.</label>
                            <input type="date" id="inspectionDate" name="inspectionDate" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="vehiclePlate">2. ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</label>
                            <select id="vehiclePlate" name="vehiclePlate" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</option>
                                <option value="‡∏Å‡∏Ç 1234">‡∏Å‡∏Ç 1234 - Toyota Vios</option>
                                <option value="‡∏Ç‡∏Ñ 5678">‡∏Ç‡∏Ñ 5678 - Honda City</option>
                                <option value="‡∏Ñ‡∏á 9012">‡∏Ñ‡∏á 9012 - Isuzu D-Max</option>
                                <option value="‡∏á‡∏à 3456">‡∏á‡∏à 3456 - Mitsubishi Triton</option>
                                <option value="‡∏à‡∏â 7890">‡∏à‡∏â 7890 - Toyota Hilux Revo</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="inspector">3. ‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ</label>
                            <select id="inspector" name="inspector" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ</option>
                                <option value="‡∏ô‡∏≤‡∏¢‡∏ò‡∏ô‡∏¥‡∏ô‡∏ó‡∏£ ‡πÄ‡∏Å‡∏ï‡∏∏‡∏û‡∏•">‡∏ô‡∏≤‡∏¢‡∏ò‡∏ô‡∏¥‡∏ô‡∏ó‡∏£ ‡πÄ‡∏Å‡∏ï‡∏∏‡∏û‡∏• (062-260-9665)</option>
                                <option value="‡∏ô‡∏≤‡∏¢‡∏ò‡∏ß‡∏±‡∏ä‡∏ä‡∏±‡∏¢ ‡∏™‡∏≤‡∏®‡∏£‡∏µ‡∏£‡∏±‡∏ï‡∏ô‡πå">‡∏ô‡∏≤‡∏¢‡∏ò‡∏ß‡∏±‡∏ä‡∏ä‡∏±‡∏¢ ‡∏™‡∏≤‡∏®‡∏£‡∏µ‡∏£‡∏±‡∏ï‡∏ô‡πå (084-567-7564)</option>
                                <option value="‡∏ô‡∏≤‡∏¢‡∏£‡∏±‡∏ï‡∏ô‡πÇ‡∏ä‡∏ï‡∏¥ ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏à‡∏≥‡∏õ‡∏≤">‡∏ô‡∏≤‡∏¢‡∏£‡∏±‡∏ï‡∏ô‡πÇ‡∏ä‡∏ï‡∏¥ ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏à‡∏≥‡∏õ‡∏≤ (095-467-9253)</option>
                                <option value="‡∏ô‡∏≤‡∏¢‡∏à‡∏¥‡∏£‡∏≤‡∏¢‡∏∏ ‡πÄ‡∏ß‡∏ä‡∏£‡∏±‡∏ï‡∏ô‡πå">‡∏ô‡∏≤‡∏¢‡∏à‡∏¥‡∏£‡∏≤‡∏¢‡∏∏ ‡πÄ‡∏ß‡∏ä‡∏£‡∏±‡∏ï‡∏ô‡πå (099-805-1727)</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û -->
                    <div>
                        <h4 style="color: #00858A; margin-bottom: 15px;"><i class="fas fa-clipboard-check"></i> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û</h4>
                        
                        <div class="form-group">
                            <label for="cleanliness_interior">4. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏£‡∏ñ</label>
                            <select id="cleanliness_interior" name="cleanliness_interior" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="‡∏î‡∏µ">‡∏î‡∏µ</option>
                                <option value="‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á">‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="cleanliness_exterior">5. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏£‡∏ñ</label>
                            <select id="cleanliness_exterior" name="cleanliness_exterior" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="‡∏î‡∏µ">‡∏î‡∏µ</option>
                                <option value="‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á">‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="coolant_level">6. ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô (‡∏£‡∏∞‡∏î‡∏±‡∏ö FULL)</label>
                            <select id="coolant_level" name="coolant_level" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="FULL">FULL</option>
                                <option value="‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ FULL">‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ FULL</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°">‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏ï‡πà‡∏≠ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div>
                        <div class="form-group">
                            <label for="engine_oil_level">7. ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á F-L)</label>
                            <select id="engine_oil_level" name="engine_oil_level" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á F-L">‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á F-L</option>
                                <option value="‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ L">‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ L</option>
                                <option value="‡πÄ‡∏Å‡∏¥‡∏ô F">‡πÄ‡∏Å‡∏¥‡∏ô F</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="battery_water_level">8. ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏Å‡∏•‡∏±‡πà‡∏ô‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà (Upper Level)</label>
                            <select id="battery_water_level" name="battery_water_level" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="Upper Level">Upper Level</option>
                                <option value="Lower Level">Lower Level</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°">‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="brake_oil_level">9. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏ö‡∏£‡∏Ñ (‡∏£‡∏∞‡∏î‡∏±‡∏ö MAX)</label>
                            <select id="brake_oil_level" name="brake_oil_level" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="MAX">MAX</option>
                                <option value="‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ MAX">‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ MAX</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°">‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="clutch_oil_level">10. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡∏ä (‡∏£‡∏∞‡∏î‡∏±‡∏ö MAX)</label>
                            <select id="clutch_oil_level" name="clutch_oil_level" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="MAX">MAX</option>
                                <option value="‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ MAX">‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ MAX</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°">‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="power_steering_oil">11. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏û‡∏≤‡∏ß‡πÄ‡∏ß‡∏≠‡∏£‡πå (‡∏£‡∏∞‡∏î‡∏±‡∏ö MAX)</label>
                            <select id="power_steering_oil" name="power_steering_oil" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="MAX">MAX</option>
                                <option value="‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ MAX">‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ MAX</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°">‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="belt_condition">12. ‡∏™‡∏†‡∏≤‡∏û‡∏™‡∏≤‡∏¢‡∏û‡∏≤‡∏ô (‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å)</label>
                            <select id="belt_condition" name="belt_condition" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å</option>
                                <option value="‡∏û‡∏ö‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢">‡∏û‡∏ö‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô">‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <div class="form-group">
                            <label for="engine_room_condition">13. ‡∏™‡∏†‡∏≤‡∏û‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</label>
                            <select id="engine_room_condition" name="engine_room_condition" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="‡∏î‡∏µ">‡∏î‡∏µ</option>
                                <option value="‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î">‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="lighting_system">14. ‡πÑ‡∏ü‡∏™‡πà‡∏≠‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á</label>
                            <select id="lighting_system" name="lighting_system" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥">‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</option>
                                <option value="‡πÑ‡∏ü‡∏ö‡∏≤‡∏á‡∏î‡∏ß‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î">‡πÑ‡∏ü‡∏ö‡∏≤‡∏á‡∏î‡∏ß‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡πà‡∏≠‡∏°">‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡πà‡∏≠‡∏°</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="tire_pressure">15. ‡∏•‡∏°‡∏¢‡∏≤‡∏á</label>
                            <select id="tire_pressure" name="tire_pressure" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°">‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡∏•‡∏°">‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡∏•‡∏°</option>
                                <option value="‡∏•‡∏°‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ">‡∏•‡∏°‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="overall_condition">16. ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ‡∏Ç‡∏≠‡∏á‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</label>
                            <select id="overall_condition" name="overall_condition" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°">‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°</option>
                                <option value="‡∏î‡∏µ">‡∏î‡∏µ</option>
                                <option value="‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á">‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="problems_found">17. ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö</label>
                            <textarea id="problems_found" name="problems_found" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="problem_image">17.1 ‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
                            <input type="file" id="problem_image" name="problem_image" accept="image/*" multiple>
                            <small style="color: #666;">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå JPG, PNG, GIF (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 ‡πÑ‡∏ü‡∏•‡πå)</small>
                        </div>
                    </div>
                </div>
                
                <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô -->
                <div style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px; background: #f9f9f9;">
                    <h4 style="color: #00858A; margin-bottom: 15px;"><i class="fas fa-camera"></i> ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô</h4>
                    <div class="form-group">
                        <label for="fuel_level_image">18. ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</label>
                        <input type="file" id="fuel_level_image" name="fuel_level_image" accept="image/*" required>
                        <small style="color: #666;">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå JPG, PNG, GIF (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡∏ö)</small>
                    </div>
                </div>
                
                <!-- ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ -->
                <div style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px; background: #f0f8ff;">
                    <h4 style="color: #00858A; margin-bottom: 15px;"><i class="fas fa-clipboard-list"></i> ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="form-group">
                            <label for="inspectionResult">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏°</label>
                            <select id="inspectionResult" name="inspectionResult" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à</option>
                                <option value="‡∏ú‡πà‡∏≤‡∏ô">‡∏ú‡πà‡∏≤‡∏ô</option>
                                <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç">‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</option>
                                <option value="‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô">‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="nextInspectionDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ</label>
                            <input type="date" id="nextInspectionDate" name="nextInspectionDate" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="inspectionNotes">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
                        <textarea id="inspectionNotes" name="inspectionNotes" rows="3" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û"></textarea>
                    </div>
                </div>
                
                <div style="text-align: right; margin-top: 20px;">
                    <button type="button" class="btn-secondary" onclick="closeModal('inspectionModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Fuel Modal -->
    <div id="fuelModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á‡πÉ‡∏´‡∏°‡πà</h3>
                <button class="close" onclick="closeModal('fuelModal')">&times;</button>
            </div>
            <form id="fuelForm">
                <div class="form-group">
                    <label for="fuelName">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
                    <select id="fuelName" name="fuelName" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E10">‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E10</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E20">‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E20</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E85">‡πÅ‡∏Å‡πä‡∏™‡πÇ‡∏ã‡∏Æ‡∏≠‡∏•‡πå E85</option>
                        <option value="‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 91">‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 91</option>
                        <option value="‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95">‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95</option>
                        <option value="‡∏î‡∏µ‡πÄ‡∏ã‡∏•">‡∏î‡∏µ‡πÄ‡∏ã‡∏•</option>
                        <option value="‡∏î‡∏µ‡πÄ‡∏ã‡∏• B7">‡∏î‡∏µ‡πÄ‡∏ã‡∏• B7</option>
                        <option value="‡∏î‡∏µ‡πÄ‡∏ã‡∏• B10">‡∏î‡∏µ‡πÄ‡∏ã‡∏• B10</option>
                        <option value="‡∏î‡∏µ‡πÄ‡∏ã‡∏• B20">‡∏î‡∏µ‡πÄ‡∏ã‡∏• B20</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™ LPG">‡πÅ‡∏Å‡πä‡∏™ LPG</option>
                        <option value="‡πÅ‡∏Å‡πä‡∏™ NGV">‡πÅ‡∏Å‡πä‡∏™ NGV</option>
                        <option value="‡πÑ‡∏ü‡∏ü‡πâ‡∏≤">‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</option>
                        <option value="‡πÑ‡∏Æ‡∏ö‡∏£‡∏¥‡∏î">‡πÑ‡∏Æ‡∏ö‡∏£‡∏¥‡∏î</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fuelNameEn">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
                    <select id="fuelNameEn" name="fuelNameEn" required>
                        <option value="">Select Fuel Type</option>
                        <option value="Gasohol E10">Gasohol E10</option>
                        <option value="Gasohol E20">Gasohol E20</option>
                        <option value="Gasohol E85">Gasohol E85</option>
                        <option value="Benzine 91">Benzine 91</option>
                        <option value="Benzine 95">Benzine 95</option>
                        <option value="Diesel">Diesel</option>
                        <option value="Diesel B7">Diesel B7</option>
                        <option value="Diesel B10">Diesel B10</option>
                        <option value="Diesel B20">Diesel B20</option>
                        <option value="LPG">LPG</option>
                        <option value="NGV">NGV</option>
                        <option value="Electric">Electric</option>
                        <option value="Hybrid">Hybrid</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fuelPrice">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏•‡∏¥‡∏ï‡∏£ (‡∏ö‡∏≤‡∏ó)</label>
                    <input type="number" id="fuelPrice" name="fuelPrice" step="0.01" min="0" max="100" required>
                </div>
                <div class="form-group">
                    <label for="fuelDescription">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
                    <textarea id="fuelDescription" name="fuelDescription" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" required></textarea>
                </div>
                <div style="text-align: right;">
                    <button type="button" class="btn-secondary" onclick="closeModal('fuelModal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </form>
        </div>
    </div>
    <script>
        // Global Variables
        let currentSection = 'dashboard';
        let notificationTimeout;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Remove any problematic script tags first
            removeProblematicScripts();
            
            // Handle script loading errors
            window.addEventListener('error', function(e) {
                console.log('Error caught in index.html:', e);
                
                // Handle popups-script.js error from Chrome extension
                if (e.filename && e.filename.includes('popups-script.js')) {
                    console.warn('Chrome extension popups-script.js error, ignoring');
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
                
                // Handle any script loading errors (but not Chrome extensions)
                if (e.target && e.target.tagName === 'SCRIPT' && !e.filename.includes('chrome-extension')) {
                    console.warn('Script loading error:', e.filename || e.target.src);
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
            });

            // Handle unhandled promise rejections
            window.addEventListener('unhandledrejection', function(e) {
                if (e.reason && e.reason.message && e.reason.message.includes('popups-script.js')) {
                    console.warn('popups-script.js promise rejection, ignoring');
                    e.preventDefault();
                    return false;
                }
            });

            // Show welcome notification on page load
            setTimeout(function() {
                const welcomeNotification = document.getElementById('notificationBar');
                if (welcomeNotification) {
                    welcomeNotification.classList.add('show');
                    // Auto-hide after 5 seconds
                    setTimeout(function() {
                        if (welcomeNotification) {
                            welcomeNotification.classList.remove('show');
                        }
                    }, 5000);
                }
            }, 300);

            // ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö authentication
            // fetchAuthenticatedUser();

            // Setup default behaviors when authentication bypassed
            setupFormHandlers();
            loadVehiclesTable();
            ensureLogoutMenuItem();
        });

        // Navigation Functions
        function showSection(sectionId) {
            console.log(`üìÑ Switching to section: ${sectionId}`);
            
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Update navigation
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });

            // Find and activate current nav link
            const currentNavLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (currentNavLink) {
                currentNavLink.classList.add('active');
            }

            currentSection = sectionId;

            // üîÑ Load section-specific data
            switch(sectionId) {
                case 'dashboard':
                    console.log('üìä Loading dashboard data...');
                    if (typeof loadDashboardData === 'function') {
                        loadDashboardData();
                    }
                    break;
                case 'vehicles':
                    console.log('üöó Loading vehicles data...');
                    if (typeof loadVehiclesTable === 'function') {
                        loadVehiclesTable();
                    }
                    break;
                case 'drivers':
                    console.log('üë• Loading drivers data...');
                    // Add driver loading function if exists
                    break;
                case 'reports':
                    console.log('üìà Loading reports...');
                    // Add reports loading function if exists
                    break;
            }
        }

        // Notification Functions
        // Notification Functions
        function showNotification(type, message) {
            const notificationBar = document.getElementById('notificationBar');
            const notificationContent = notificationBar.querySelector('.notification-content span');
            
            // Clear existing timeout
            if (notificationTimeout) {
                clearTimeout(notificationTimeout);
            }

            // Update content
            notificationContent.textContent = message;
            
            // Update classes
            notificationBar.className = `notification-bar ${type} show`;
            
            // Update icon
            const icon = notificationBar.querySelector('.notification-content i');
            switch(type) {
                case 'success':
                    icon.className = 'fas fa-check-circle';
                    break;
                case 'warning':
                    icon.className = 'fas fa-exclamation-triangle';
                    break;
                case 'danger':
                    icon.className = 'fas fa-exclamation-circle';
                    break;
                default:
                    icon.className = 'fas fa-info-circle';
            }

            // Auto hide after 5 seconds for success, 10 seconds for warnings/errors
            const hideDelay = type === 'success' ? 5000 : 10000;
            notificationTimeout = setTimeout(() => {
                hideNotification();
            }, hideDelay);
        }

        function hideNotification() {
            const notificationBar = document.getElementById('notificationBar');
            notificationBar.classList.remove('show');
        }

        // Expose notification functions globally
        window.showNotification = showNotification;
        window.hideNotification = hideNotification;

        function updateNotificationCount() {
            updateNotificationCounts();
        }

        // Modal Functions
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
                
                // Reset form
                const form = modal.querySelector('form');
                if (form) {
                    form.reset();
                }
            }
        }

        // Expose modal functions globally
        window.openModal = openModal;
        window.closeModal = closeModal;

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList && event.target.classList.contains('modal')) {
                if (event.target.id === 'vehicleModal') {
                    closeVehicleModal();
                } else {
                    event.target.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            }
        }

        function setupFormHandlers() {
            // Vehicle Form
            const vehicleForm = document.getElementById('vehicleForm');
            if (vehicleForm && !vehicleForm.dataset.bound) {
                vehicleForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    await handleVehicleSubmit();
                });
                vehicleForm.dataset.bound = 'true';
            }
        }

        function ensureLogoutMenuItem() {
            const dropdown = document.getElementById('userDropdown');
            if (!dropdown) {
                console.warn('userDropdown element not found for logout button');
                return;
            }

            const existingLogout = dropdown.querySelector('[data-action="handleLogout"]');
            if (existingLogout) {
                if (!existingLogout.dataset.bound) {
                    existingLogout.addEventListener('click', handleLogout);
                    existingLogout.dataset.bound = 'true';
                }
                return;
            }

            const actionsHost = dropdown.querySelector('.dropdown-section-actions') || dropdown.querySelector('.dropdown-actions') || dropdown;
            const button = document.createElement('button');
            button.type = 'button';
            button.className = 'dropdown-item logout-item';
            button.dataset.action = 'handleLogout';
            button.innerHTML = '<i class="fas fa-sign-out-alt"></i> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö';
            button.addEventListener('click', handleLogout);

            if (actionsHost) {
                actionsHost.appendChild(button);
            } else {
                dropdown.appendChild(button);
            }
        }

        function setupFormHandlers() {
            // Driver Form
            const driverForm = document.getElementById('driverForm');
            if (driverForm && !driverForm.dataset.bound) {
                driverForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleDriverSubmit();
                });
                driverForm.dataset.bound = 'true';
            }

            // Report Form
            const reportForm = document.getElementById('reportForm');
            if (reportForm && !reportForm.dataset.bound) {
                reportForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleReportSubmit();
                });
                reportForm.dataset.bound = 'true';
            }

            // User Form
            const userForm = document.getElementById('userForm');
            if (userForm && !userForm.dataset.bound) {
                userForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleUserSubmit();
                });
                userForm.dataset.bound = 'true';
            }

            // Maintenance Form
            const maintenanceForm = document.getElementById('maintenanceForm2');
            if (maintenanceForm && !maintenanceForm.dataset.bound) {
                maintenanceForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleMaintenanceSubmit();
                });
                maintenanceForm.dataset.bound = 'true';
            }

            // Fuel Record Form
            const fuelRecordForm = document.getElementById('fuelRecordForm');
            if (fuelRecordForm && !fuelRecordForm.dataset.bound) {
                fuelRecordForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleFuelRecordSubmit();
                });
                fuelRecordForm.dataset.bound = 'true';
            }

            // Request Form
            const requestForm = document.getElementById('requestForm');
            if (requestForm && !requestForm.dataset.bound) {
                requestForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleRequestSubmit();
                });
                requestForm.dataset.bound = 'true';
            }

            // Inspection Form
            const inspectionForm = document.getElementById('inspectionForm');
            if (inspectionForm && !inspectionForm.dataset.bound) {
                inspectionForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleInspectionSubmit();
                });
                inspectionForm.dataset.bound = 'true';
            }

            // Fuel Form
            const fuelForm = document.getElementById('fuelForm');
            if (fuelForm && !fuelForm.dataset.bound) {
                fuelForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleFuelSubmit();
                });
                fuelForm.dataset.bound = 'true';
            }
        }

        function escapeHtml(value) {
            if (value === null || value === undefined) {
                return '';
            }
            return String(value)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');
        }

        function escapeJsString(value) {
            if (value === null || value === undefined) {
                return '';
            }
            return String(value)
                .replace(/\\/g, '\\\\')
                .replace(/"/g, '\\"')
                .replace(/`/g, '\\`')
                .replace(/'/g, "\\'");
        }

        function getVehicleStatusMeta(status) {
            const normalized = String(status || '').trim().toUpperCase();
            switch (normalized) {
                case 'AVAILABLE':
                case 'READY':
                    return { label: '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô', className: 'badge success' };
                case 'IN_USE':
                case 'IN-USE':
                case 'USING':
                    return { label: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô', className: 'badge warning' };
                case 'MAINTENANCE':
                case 'REPAIR':
                case 'SERVICE':
                    return { label: '‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á', className: 'badge danger' };
                default:
                    return { label: status || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏', className: 'badge' };
            }
        }

        function renderVehicleRow(vehicle) {
            const statusMeta = getVehicleStatusMeta(vehicle.status);
            const primaryKey = escapeHtml(vehicle.vehicle_id);
            const license = escapeHtml(vehicle.registration_number);
            const brand = escapeHtml(vehicle.brand_model);
            const color = escapeHtml(vehicle.color);
            const fuel = escapeHtml(vehicle.fuel_type);
            const vehicleType = escapeHtml(vehicle.vehicle_type_thai || '-');
            const department = escapeHtml(vehicle.department);
            const editId = escapeJsString(vehicle.vehicle_id);
            const deleteId = escapeJsString(vehicle.vehicle_id);

            return `
                <tr data-vehicle-id="${primaryKey}" data-vehicle-internal-id="${vehicle.vehicle_internal_id || vehicle.id}">
                    <td>${primaryKey}</td>
                    <td><strong>${license}</strong></td>
                    <td>${brand}</td>
                    <td><span style="background: #f3f4f6; padding: 4px 8px; border-radius: 4px; font-size: 0.875rem;">${vehicleType}</span></td>
                    <td>${color}</td>
                    <td>${fuel}</td>
                    <td>${department}</td>
                    <td><span class="${statusMeta.className}">${escapeHtml(statusMeta.label)}</span></td>
                    <td class="text-center">
                        <button class="btn-action edit" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" onclick="editVehicle('${vehicle.vehicle_internal_id || vehicle.id}', '${primaryKey}')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-action delete" title="‡∏•‡∏ö" onclick="deleteVehicle('${vehicle.vehicle_internal_id || vehicle.id}', '${primaryKey}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `;
        }

        function updateVehicleSelectOptions(vehicles) {
            vehicleSelectTargets.forEach(selectId => {
                const selectEl = document.getElementById(selectId);
                if (!selectEl) {
                    return;
                }

                let placeholderText = selectEl.dataset.placeholder;
                if (!placeholderText) {
                    const firstOption = selectEl.querySelector('option');
                    if (firstOption) {
                        placeholderText = firstOption.textContent.trim();
                        selectEl.dataset.placeholder = placeholderText;
                    }
                }
                if (!placeholderText) {
                    placeholderText = '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ';
                }

                const currentValue = selectEl.value;
                selectEl.innerHTML = '';

                const defaultOption = document.createElement('option');
                defaultOption.value = '';
                defaultOption.textContent = placeholderText;
                selectEl.appendChild(defaultOption);

                vehicles.forEach(vehicle => {
                    const option = document.createElement('option');
                    option.value = vehicle.vehicle_id;
                    const displayParts = [vehicle.registration_number, vehicle.brand_model].filter(Boolean);
                    option.textContent = displayParts.length ? `${displayParts.join(' - ')}` : vehicle.vehicle_id;
                    selectEl.appendChild(option);
                });

                const stillExists = vehicles.some(v => String(v.vehicle_id) === String(currentValue));
                if (stillExists) {
                    selectEl.value = currentValue;
                }
            });
        }

        function updateVehicleStatistics(vehicles) {
            const totalElement = document.getElementById('totalVehiclesValue');
            if (totalElement) {
                totalElement.textContent = vehicles.length;
            }

            const availableElement = document.getElementById('availableVehiclesValue');
            if (availableElement) {
                const availableCount = vehicles.filter(v => getVehicleStatusMeta(v.status).className.includes('success')).length;
                availableElement.textContent = availableCount;
            }
        }

        async function loadVehiclesTable() {
            const tableBody = document.getElementById('vehiclesTableBody');
            if (!tableBody) {
                console.warn('vehiclesTableBody element not found');
                return;
            }

            tableBody.innerHTML = '<tr class="loading"><td colspan="9" class="text-center">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</td></tr>';

            try {
                console.log('üöó Loading vehicles from API: ../api/sakhraihos_vehicles.php');
                const result = await apiCall('../api/sakhraihos_vehicles.php');
                console.log('üöó API Response:', result);
                
                if (!result) {
                    console.error('‚ùå No result from API (null or undefined)');
                    tableBody.innerHTML = '<tr><td colspan="9" class="text-center text-danger">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ</td></tr>';
                    return;
                }

                if (!result.success) {
                    console.error('‚ùå API returned error:', result.message);
                    tableBody.innerHTML = `<tr><td colspan="9" class="text-center text-danger">${escapeHtml(result.message || '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÑ‡∏î‡πâ')}</td></tr>`;
                    return;
                }

                const vehicles = Array.isArray(result.data) ? result.data : [];
                console.log('‚úÖ Loaded vehicles:', vehicles.length, 'records');
                vehicleCache = vehicles;

                if (!vehicles.length) {
                    console.warn('‚ö†Ô∏è No vehicles found in database');
                    tableBody.innerHTML = '<tr><td colspan="9" class="text-center">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</td></tr>';
                } else {
                    console.log('üìã Rendering', vehicles.length, 'vehicle rows');
                    tableBody.innerHTML = vehicles.map(renderVehicleRow).join('');
                }

                updateVehicleSelectOptions(vehicles);
                updateVehicleStatistics(vehicles);
            } catch (error) {
                console.error('üí• loadVehiclesTable error:', error);
                tableBody.innerHTML = '<tr><td colspan="9" class="text-center text-danger">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td></tr>';
            }
        }

        function resetVehicleForm() {
            const form = document.getElementById('vehicleForm');
            if (!form) {
                return;
            }

            form.reset();
            delete form.dataset.mode;
            delete form.dataset.vehicleId;

            const codeInput = document.getElementById('vehicleCode');
            if (codeInput) {
                codeInput.removeAttribute('readonly');
            }

            const statusSelect = document.getElementById('status');
            if (statusSelect && statusSelect.querySelector('option[value="AVAILABLE"]')) {
                statusSelect.value = 'AVAILABLE';
            }

            const titleEl = document.querySelector('#vehicleModal .modal-title');
            if (titleEl) {
                titleEl.textContent = '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà';
            }
        }

        function openVehicleModal(vehicle = null) {
            if (vehicle) {
                populateVehicleForm(vehicle);
            } else {
                resetVehicleForm();
            }

            openModal('vehicleModal');
        }

        function closeVehicleModal() {
            resetVehicleForm();
            closeModal('vehicleModal');
        }

        // Expose vehicle modal functions globally
        window.openVehicleModal = openVehicleModal;
        window.closeVehicleModal = closeVehicleModal;

        function populateVehicleForm(vehicle) {
            const form = document.getElementById('vehicleForm');
            if (!form || !vehicle) {
                console.error('‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ');
                return;
            }

            console.log('üìù ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°:', vehicle);

            const mapping = {
                vehicleCode: vehicle.vehicle_id,
                licensePlate: vehicle.registration_number,
                brand: vehicle.brand_model,
                color: vehicle.color,
                fuelType: vehicle.fuel_type,
                department: vehicle.department,
                status: vehicle.status || 'AVAILABLE'
            };

            Object.entries(mapping).forEach(([elementId, value]) => {
                const element = document.getElementById(elementId);
                if (!element) {
                    console.warn(`‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö element: ${elementId}`);
                    return;
                }

                let newValue = value ?? '';
                if (elementId === 'status') {
                    const thaiStatusMap = {
                        '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô': 'AVAILABLE',
                        '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô': 'IN_USE',
                        '‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á': 'MAINTENANCE'
                    };
                    newValue = thaiStatusMap[newValue] || String(newValue).toUpperCase();
                }

                if (element.tagName === 'SELECT' && newValue && !Array.from(element.options).some(option => option.value === newValue)) {
                    const option = document.createElement('option');
                    option.value = newValue;
                    option.textContent = newValue;
                    element.appendChild(option);
                }

                element.value = newValue;
            });

            // ‡πÄ‡∏Å‡πá‡∏ö internal ID (ID ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ update
            form.dataset.mode = 'edit';
            form.dataset.vehicleId = vehicle.vehicle_internal_id || vehicle.id; // ‡πÉ‡∏ä‡πâ internal ID
            form.dataset.vehicleDisplayId = vehicle.vehicle_id; // ‡πÄ‡∏Å‡πá‡∏ö display ID ‡πÑ‡∏ß‡πâ‡πÅ‡∏™‡∏î‡∏á

            console.log('‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç - Internal ID:', form.dataset.vehicleId);

            const codeInput = document.getElementById('vehicleCode');
            if (codeInput) {
                codeInput.setAttribute('readonly', 'readonly');
            }

            const titleEl = document.querySelector('#vehicleModal .modal-title');
            if (titleEl) {
                titleEl.textContent = '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå';
            }
        }

        async function handleVehicleSubmit() {
            const form = document.getElementById('vehicleForm');
            if (!form) {
                console.error('‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå');
                return;
            }

            const formData = new FormData(form);
            const isEdit = form.dataset.mode === 'edit';
            const vehicleInternalId = form.dataset.vehicleId; // ID ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            const vehicleDisplayId = form.dataset.vehicleDisplayId || formData.get('vehicle_id')?.trim(); // ‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏™‡∏î‡∏á

            const payload = {
                vehicle_id: vehicleDisplayId,
                registration_number: formData.get('registration_number')?.trim(),
                brand_model: formData.get('brand_model')?.trim(),
                color: formData.get('color')?.trim(),
                fuel_type: formData.get('fuel_type')?.trim(),
                department: formData.get('department')?.trim(),
                status: String(formData.get('status') || 'AVAILABLE').toUpperCase()
            };

            // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡∏ç‡πà
            if (payload.vehicle_id) {
                payload.vehicle_id = payload.vehicle_id.toUpperCase();
            }

            if (payload.registration_number) {
                payload.registration_number = payload.registration_number.toUpperCase();
            }

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
            const requiredFields = {
                registration_number: '‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ',
                brand_model: '‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠/‡∏£‡∏∏‡πà‡∏ô',
                color: '‡∏™‡∏µ',
                fuel_type: '‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á',
                department: '‡πÅ‡∏ú‡∏ô‡∏Å',
                status: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞'
            };

            for (const [field, label] of Object.entries(requiredFields)) {
                if (!payload[field]) {
                    showNotification('warning', `‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å${label}`);
                    return;
                }
            }

            const submitButton = form.querySelector('button[type="submit"]');
            if (submitButton) {
                submitButton.disabled = true;
            }

            try {
                let url, method;
                
                if (isEdit) {
                    // ‡πÉ‡∏ä‡πâ internal ID ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ update
                    url = `../api/sakhraihos_vehicles.php?id=${encodeURIComponent(vehicleInternalId)}`;
                    method = 'PUT';
                    console.log('üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏ñ ID:', vehicleInternalId);
                } else {
                    url = '../api/sakhraihos_vehicles.php';
                    method = 'POST';
                    console.log('‚ûï ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏ñ‡πÉ‡∏´‡∏°‡πà');
                }

                console.log('üì§ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:', payload);

                const result = await apiCall(url, {
                    method: method,
                    body: JSON.stringify(payload)
                });

                if (!result) {
                    showNotification('danger', '‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå');
                    return;
                }

                if (!result.success) {
                    showNotification('warning', result.message || '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ');
                    console.error('‚ùå API Error:', result);
                    return;
                }

                console.log('‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:', result.message);
                showNotification('success', result.message || '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                closeVehicleModal();
                await loadVehiclesTable();
            } catch (error) {
                console.error('‚ùå handleVehicleSubmit error:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: ' + error.message);
            } finally {
                if (submitButton) {
                    submitButton.disabled = false;
                }
            }
        }

        async function handleDriverSubmit() {
            const form = document.getElementById('driverForm');
            if (!form) {
                showNotification('danger', '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ');
                return;
            }

            const formData = new FormData(form);
            const payload = {
                name: formData.get('name')?.trim(),
                license_number: formData.get('license_number')?.trim(),
                phone: formData.get('phone')?.trim(),
                department: formData.get('department')?.trim(),
                status: formData.get('status') || 'active'
            };

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
            if (!payload.name) {
                showNotification('warning', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ');
                return;
            }
            if (!payload.license_number) {
                showNotification('warning', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà');
                return;
            }

            const submitButton = form.querySelector('button[type="submit"]');
            if (submitButton) {
                submitButton.disabled = true;
            }

            try {
                const isEdit = form.dataset.mode === 'edit';
                const driverId = form.dataset.driverId;
                
                const url = isEdit
                    ? `../api/drivers.php?id=${encodeURIComponent(driverId)}`
                    : '../api/drivers.php';

                const result = await apiCall(url, {
                    method: isEdit ? 'PUT' : 'POST',
                    body: JSON.stringify(payload)
                });

                if (!result || !result.success) {
                    showNotification('warning', result?.message || '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ');
                    return;
                }

                showNotification('success', result.message || '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                closeModal('driverModal');
                
                // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡πÉ‡∏´‡∏°‡πà
                if (typeof loadDriversTable === 'function') {
                    await loadDriversTable();
                }
            } catch (error) {
                console.error('handleDriverSubmit error:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
            } finally {
                if (submitButton) {
                    submitButton.disabled = false;
                }
            }
        }

        function handleReportSubmit() {
            const formData = new FormData(document.getElementById('reportForm'));
            const reportData = Object.fromEntries(formData);
            
            // Simulate API call
            setTimeout(() => {
                showNotification('success', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô "${reportData.reportName}" ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...`);
                closeModal('reportModal');
                // In real implementation, start report generation process
                setTimeout(() => {
                    showNotification('success', `‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô "${reportData.reportName}" ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                }, 3000);
            }, 500);
        }

        function generateReport(reportType) {
            const reportNames = {
                'vehicle-usage': '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå',
                'fuel-consumption': '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô',
                'maintenance-cost': '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤',
                'driver-performance': '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà',
                'inspection-summary': '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û'
            };
            
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á${reportNames[reportType]}...`);
            // In real implementation, generate specific report type
            setTimeout(() => {
                showNotification('success', `${reportNames[reportType]} ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
            }, 2500);
        }

        function downloadReport(reportId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ${reportId}...`);
            // In real implementation, download report file
            setTimeout(() => {
                showNotification('success', `‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ${reportId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
            }, 1500);
        }

        function previewReport(reportId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ${reportId}...`);
            // In real implementation, open report preview in modal or new window
            setTimeout(() => {
                showNotification('success', `‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ${reportId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
            }, 1000);
        }

        function deleteReport(reportId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                showNotification('success', `‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ${reportId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, call delete API
            }
        }

        function refreshReport(reportId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ${reportId}...`);
            // In real implementation, check report status
            setTimeout(() => {
                showNotification('success', `‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ${reportId} ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß`);
            }, 2000);
        }

        function cancelReport(reportId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                showNotification('warning', `‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ${reportId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, cancel report generation
            }
        }

        function showChartModal() {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏£‡∏≤‡∏ü‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î...');
            // In real implementation, open chart modal with detailed statistics
            setTimeout(() => {
                showNotification('success', '‡∏Å‡∏£‡∏≤‡∏ü‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô');
            }, 1500);
        }

        function handleUserSubmit() {
            const formData = new FormData(document.getElementById('userForm'));
            const userData = Object.fromEntries(formData);
            
            // Simulate API call
            setTimeout(() => {
                showNotification('success', '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                closeModal('userModal');
                // In real implementation, refresh the table data
            }, 500);
        }

        function editUser(userId) {
            showNotification('info', `‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ${userId}`);
            // In real implementation, populate form with existing data
            openModal('userModal');
        }

        function resetPassword(userId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                const newPassword = Math.random().toString(36).slice(-8);
                showNotification('success', `‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ${userId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà: ${newPassword}`);
                // In real implementation, call reset password API
            }
        }

        function suspendUser(userId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏á‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                showNotification('warning', `‡∏£‡∏∞‡∏á‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ${userId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, call suspend API
            }
        }

        function deleteUser(userId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ')) {
                showNotification('success', `‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ${userId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, call delete API
            }
        }

        // Vehicle Data Cache
        let vehicleCache = [];
        const vehicleSelectTargets = ['maintenanceVehicle', 'fuelVehicle', 'vehiclePlate', 'logVehicleId'];

        // GPS Real-time Tracking
        let gpsUpdateInterval = null;

        async function showGPSMap() {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà GPS...');
            try {
                const result = await apiCall('../api/gps.php?action=all');
                
                if (result && result.success && result.data) {
                    // Open GPS map in new window with real data
                    const mapUrl = `/gps_map.html?vehicles=${JSON.stringify(result.data)}`;
                    window.open(mapUrl, '_blank', 'width=1024,height=768');
                    showNotification('success', '‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà GPS ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô');
                    
                    // Start real-time updates
                    startGPSRealTimeUpdates();
                } else if (result) {
                    showNotification('warning', '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• GPS');
                }
            } catch (error) {
                // Error already handled by apiCall
            }
        }

        async function viewRoute(vehicleId, date) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏ñ ${vehicleId} ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${date}`);
            try {
                const result = await apiCall(`../api/gps.php?action=track&vehicle_id=${vehicleId}&date=${date}`);
                
                if (result && result.success && result.data) {
                    // Draw route on map (implement with Google Maps API or Leaflet)
                    showNotification('success', `‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á ${result.data.length} ‡∏à‡∏∏‡∏î`);
                } else if (result) {
                    showNotification('warning', '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á');
                }
            } catch (error) {
                // Error already handled by apiCall
            }
        }

        async function generateTripReport(vehicleId, date) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏ñ ${vehicleId} ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${date}`);
            try {
                const result = await apiCall(`../api/gps.php?action=track&vehicle_id=${vehicleId}&date=${date}`);
                
                if (result && result.success && result.data) {
                    // Generate PDF report using jsPDF
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF();
                    
                    doc.setFontSize(16);
                    doc.text('‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á', 105, 15, { align: 'center' });
                    doc.setFontSize(12);
                    doc.text(`‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ: ${vehicleId}`, 20, 30);
                    doc.text(`‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${date}`, 20, 38);
                    
                    const tableData = result.data.map((point, index) => [
                        index + 1,
                        point.tracked_at,
                        `${point.latitude}, ${point.longitude}`,
                        `${point.speed || 0} km/h`
                    ]);
                    
                    doc.autoTable({
                        head: [['#', '‡πÄ‡∏ß‡∏•‡∏≤', '‡∏û‡∏¥‡∏Å‡∏±‡∏î', '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß']],
                        body: tableData,
                        startY: 45
                    });
                    
                    doc.save(`trip_report_${vehicleId}_${date}.pdf`);
                    showNotification('success', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß');
                } else if (result) {
                    showNotification('warning', '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á');
                }
            } catch (error) {
                // Error already handled by apiCall
            }
        }

        async function exportGPSReport() {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô GPS...');
            try {
                const result = await apiCall('../api/gps.php?action=all');
                
                if (result && result.success && result.data) {
                    // Export to Excel using XLSX
                    const data = result.data.map((point, index) => ({
                        '‡∏•‡∏≥‡∏î‡∏±‡∏ö': index + 1,
                        '‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ': point.vehicle_license_plate || point.vehicle_id,
                        '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà': point.tracked_at ? point.tracked_at.split(' ')[0] : '',
                        '‡πÄ‡∏ß‡∏•‡∏≤': point.tracked_at ? point.tracked_at.split(' ')[1] : '',
                        '‡∏•‡∏∞‡∏ï‡∏¥‡∏à‡∏π‡∏î': point.latitude,
                        '‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏à‡∏π‡∏î': point.longitude,
                        '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß (km/h)': point.speed || 0,
                        '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞': point.is_online ? '‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå' : '‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå'
                    }));
                    
                    const ws = XLSX.utils.json_to_sheet(data);
                    const wb = XLSX.utils.book_new();
                    XLSX.utils.book_append_sheet(wb, ws, 'GPS Data');
                    
                    const filename = `gps_report_${new Date().toISOString().slice(0, 10)}.xlsx`;
                    XLSX.writeFile(wb, filename);
                    
                    showNotification('success', '‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô GPS ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                } else {
                    showNotification('warning', '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• GPS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å');
                }
            } catch (error) {
                console.error('Error exporting GPS report:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô');
            }
        }

        // Real-time GPS Updates (every 10 seconds)
        function startGPSRealTimeUpdates() {
            if (gpsUpdateInterval) {
                clearInterval(gpsUpdateInterval);
            }
            
            gpsUpdateInterval = setInterval(async () => {
                try {
                    const result = await apiCall('../api/gps.php?action=all');
                    
                    if (result && result.success && result.data) {
                        updateGPSDisplay(result.data);
                    }
                } catch (error) {
                    // Error already handled by apiCall
                    // Stop interval if session expired
                    if (error.message && error.message.includes('session')) {
                        clearInterval(gpsUpdateInterval);
                    }
                }
            }, 10000); // Update every 10 seconds
        }

        function stopGPSRealTimeUpdates() {
            if (gpsUpdateInterval) {
                clearInterval(gpsUpdateInterval);
                gpsUpdateInterval = null;
            }
        }

        function updateGPSDisplay(vehicles) {
            // Update vehicle status list
            const statusList = document.querySelector('.vehicle-status-list');
            if (statusList) {
                statusList.innerHTML = '';
                vehicles.slice(0, 5).forEach(vehicle => {
                    const statusItem = `
                        <div class="status-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #eee;">
                            <div>
                                <strong>${vehicle.license_plate || vehicle.vehicle_id}</strong>
                                <div style="font-size: 12px; color: #6c757d;">${vehicle.model || 'N/A'}</div>
                            </div>
                            <span class="badge ${vehicle.is_online ? 'success' : 'danger'}">
                                ${vehicle.is_online ? '‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå' : '‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå'}
                            </span>
                        </div>
                    `;
                    statusList.innerHTML += statusItem;
                });
            }
            
            // Update statistics
            const onlineCount = vehicles.filter(v => v.is_online).length;
            const offlineCount = vehicles.length - onlineCount;
            
            // Update stat cards if they exist
            const statCards = document.querySelectorAll('#gps .stat-card .stat-number');
            if (statCards.length >= 2) {
                statCards[0].textContent = onlineCount;
                statCards[1].textContent = offlineCount;
            }
        }

        // Start GPS updates when GPS section is shown
        function showSection(sectionId) {
            // Existing showSection logic...
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(s => s.classList.remove('active'));
            
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
                
                // Start GPS updates if GPS section
                if (sectionId === 'gps') {
                    startGPSRealTimeUpdates();
                } else {
                    stopGPSRealTimeUpdates();
                }
            }
        }

        function handleMaintenanceSubmit() {
            const formData = new FormData(document.getElementById('maintenanceForm2'));
            const maintenanceData = Object.fromEntries(formData);
            
            // Simulate API call
            setTimeout(() => {
                showNotification('success', '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                closeModal('maintenanceModal');
                // In real implementation, refresh the table data
            }, 500);
        }

        function handleFuelRecordSubmit() {
            const formData = new FormData(document.getElementById('fuelRecordForm'));
            const fuelData = Object.fromEntries(formData);
            
            // Calculate total amount
            const amount = parseFloat(fuelData.fuelAmount);
            const pricePerLiter = parseFloat(fuelData.fuelPricePerLiter);
            const total = amount * pricePerLiter;
            
            // Simulate API call
            setTimeout(() => {
                showNotification('success', `‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° ${total.toFixed(2)} ‡∏ö‡∏≤‡∏ó`);
                closeModal('fuelRecordModal');
                // In real implementation, refresh the table data
            }, 500);
        }

        function editMaintenance(maintenanceId) {
            showNotification('info', `‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ ${maintenanceId}`);
            // In real implementation, populate form with existing data
            openModal('maintenanceModal');
        }

        function updateMaintenanceStatus(maintenanceId) {
            const newStatus = prompt('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡∏°‡πà:');
            if (newStatus) {
                showNotification('success', `‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ ${maintenanceId} ‡πÄ‡∏õ‡πá‡∏ô ${newStatus} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, call update API
            }
        }

        function printMaintenanceReport(maintenanceId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ ${maintenanceId}`);
            // In real implementation, generate and print maintenance report
            setTimeout(() => {
                showNotification('success', `‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ ${maintenanceId} ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß`);
            }, 2000);
        }

        function editFuelRecord(fuelId) {
            showNotification('info', `‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô ${fuelId}`);
            // In real implementation, populate form with existing data
            openModal('fuelRecordModal');
        }

        function deleteFuelRecord(fuelId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                showNotification('success', `‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô ${fuelId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, call delete API
            }
        }

        function printFuelReceipt(fuelId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô ${fuelId}`);
            // In real implementation, generate and print fuel receipt
            setTimeout(() => {
                showNotification('success', `‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô ${fuelId} ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß`);
            }, 1500);
        }

        function handleRequestSubmit() {
            const formData = new FormData(document.getElementById('requestForm'));
            const requestData = Object.fromEntries(formData);
            
            // Simulate API call
            setTimeout(() => {
                showNotification('success', '‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥');
                closeModal('requestModal');
                // In real implementation, refresh the table data
            }, 500);
        }

        function editRequest(requestId) {
            showNotification('info', `‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏≥‡∏Ç‡∏≠ ${requestId}`);
            // In real implementation, populate form with existing data
            openModal('requestModal');
        }

        function approveRequest(requestId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                showNotification('success', `‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠ ${requestId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, call approve API
            }
        }

        function rejectRequest(requestId) {
            const reason = prompt('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥:');
            if (reason) {
                showNotification('warning', `‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠ ${requestId} ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ${reason}`);
                // In real implementation, call reject API
            }
        }

        // Vehicle Management Functions
        async function editVehicle(vehicleInternalId, vehicleDisplayId) {
            if (!vehicleInternalId) {
                showNotification('warning', '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå');
                return;
            }

            // ‡∏•‡∏≠‡∏á‡∏´‡∏≤‡πÉ‡∏ô cache ‡∏Å‡πà‡∏≠‡∏ô
            const cachedVehicle = vehicleCache.find(v => 
                String(v.vehicle_internal_id) === String(vehicleInternalId) || 
                String(v.id) === String(vehicleInternalId)
            );
            
            if (cachedVehicle) {
                console.log('‚úÖ ‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡πÉ‡∏ô cache:', cachedVehicle);
                openVehicleModal(cachedVehicle);
                return;
            }

            try {
                console.log('üîç ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ ID:', vehicleInternalId);
                const result = await apiCall(`../api/sakhraihos_vehicles.php?id=${encodeURIComponent(vehicleInternalId)}`);
                
                if (result && result.success && result.data) {
                    console.log('‚úÖ ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:', result.data);
                    openVehicleModal(result.data);
                    return;
                }

                showNotification('warning', result?.message || '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå');
            } catch (error) {
                console.error('‚ùå editVehicle error:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå');
            }
        }

        async function deleteVehicle(vehicleInternalId, vehicleDisplayId) {
            if (!vehicleInternalId) {
                showNotification('warning', '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå');
                return;
            }

            const confirmDelete = confirm(`‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå ${vehicleDisplayId || ''} ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?\n\n‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏ñ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡πÑ‡∏î‡πâ`);
            if (!confirmDelete) {
                return;
            }

            try {
                console.log('üóëÔ∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏ö‡∏£‡∏ñ ID:', vehicleInternalId);
                const result = await apiCall(`../api/sakhraihos_vehicles.php?id=${encodeURIComponent(vehicleInternalId)}`, {
                    method: 'DELETE'
                });

                if (!result) {
                    showNotification('danger', '‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå');
                    return;
                }

                if (!result.success) {
                    showNotification('warning', result.message || '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ');
                    return;
                }

                console.log('‚úÖ ‡∏•‡∏ö‡∏£‡∏ñ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:', result.message);
                showNotification('success', result.message || '‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                
                // ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å cache
                vehicleCache = vehicleCache.filter(v => 
                    String(v.vehicle_internal_id) !== String(vehicleInternalId) && 
                    String(v.id) !== String(vehicleInternalId)
                );
                
                await loadVehiclesTable();
            } catch (error) {
                console.error('‚ùå deleteVehicle error:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå');
            }
        }

        // Driver Management Functions
        function editDriver(driverId) {
            showNotification('info', `‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö ${driverId}`);
            // In real implementation, populate form with existing data
            openModal('driverModal');
        }

        function deleteDriver(driverId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                showNotification('success', `‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö ${driverId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, call delete API
            }
        }

        // Fuel Management Functions
        function editFuel(fuelId) {
            showNotification('info', `‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á ${fuelId}`);
            // In real implementation, populate form with existing data
            openModal('fuelModal');
        }

        function deleteFuel(fuelId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                showNotification('success', `‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á ${fuelId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, call delete API
            }
        }

        // Inspection Management Functions
        function editInspection(inspectionId) {
            showNotification('info', `‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û ${inspectionId}`);
            // In real implementation, populate form with existing data
            openModal('inspectionModal');
        }

        function deleteInspection(inspectionId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                showNotification('success', `‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û ${inspectionId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                // In real implementation, call delete API
            }
        }

        function printInspectionReport(inspectionId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û ${inspectionId}`);
            // In real implementation, generate and print inspection report
            setTimeout(() => {
                showNotification('success', `‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û ${inspectionId} ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß`);
            }, 1500);
        }

        // Assignment Functions
        function assignVehicle(assignmentId) {
            showNotification('info', `‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå ${assignmentId}`);
            // In real implementation, open assignment modal
            openModal('assignmentModal');
        }

        function printApprovalForm(requestId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠ ${requestId}`);
            // In real implementation, generate and print approval form
            setTimeout(() => {
                showNotification('success', `‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠ ${requestId} ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß`);
            }, 2000);
        }

        // ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô userMenuKeydown ‡πÅ‡∏•‡∏∞ click outside listener ‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ô user-dropdown.js ‡πÅ‡∏•‡πâ‡∏ß
        // ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ event ‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô

        // ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô populateUserFromSession() ‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß
        // ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ö fetchAuthenticatedUser() ‡πÅ‡∏•‡∏∞ updateUserInfo() 
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏î‡∏¢ fetchAuthenticatedUser() ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI ‡πÇ‡∏î‡∏¢ updateUserInfo()

        // User menu functions removed - all functionality moved to user-dropdown.js

        // User menu related functions removed - use user-dropdown.js instead
        
        let notificationsData = [];
        let userMenuSearchQuery = '';

        // ‚ö†Ô∏è DISABLED: notifications API is disabled due to database error
        async function loadNotifications() {
            try {
                // DISABLED: No API call to prevent 503 errors
                notificationsData = [];
                renderNotifications(userMenuSearchQuery);
                updateNotificationCounts();
            } catch (error) {
                console.warn('Notifications disabled:', error);
            }
        }

        // Helper function to get notification icon based on type
        function getNotificationIcon(type) {
            const iconMap = {
                'urgent': 'fa-exclamation-circle',
                'warning': 'fa-exclamation-triangle',
                'info': 'fa-info-circle',
                'success': 'fa-check-circle',
                'error': 'fa-times-circle',
                'tax': 'fa-exclamation-circle',
                'maintenance': 'fa-tools',
                'insurance': 'fa-shield-alt',
                'fuel': 'fa-gas-pump',
                'request': 'fa-file-alt'
            };
            return iconMap[type] || 'fa-bell';
        }

        async function loadSystemNotifications() {
            notificationsData = [];

            if (typeof window !== 'undefined' && window.vmsAuthState && window.vmsAuthState.isAuthenticated === false) {
                console.debug('Skipping system notification checks while unauthenticated');
                return;
            }

            try {
                // ‚úÖ 1. ‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
                const criticalNotifications = new Map(); // ‡πÉ‡∏ä‡πâ Map ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥
                
                try {
                    const vehicles = await apiCall('../api/sakhraihos_vehicles.php', { silent: true });
                    if (vehicles && vehicles.success && vehicles.data) {
                        const today = new Date();
                        
                        vehicles.data.forEach(v => {
                            // ‚úÖ ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏†‡∏≤‡∏©‡∏µ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 7 ‡∏ß‡∏±‡∏ô (‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô)
                            if (v.tax_expiry_date) {
                                const expiryDate = new Date(v.tax_expiry_date);
                                const daysUntil = Math.ceil((expiryDate - today) / (1000 * 60 * 60 * 24));
                                
                                if (daysUntil >= 0 && daysUntil <= 7) {
                                    const key = `tax_${v.vehicle_id}`;
                                    if (!criticalNotifications.has(key)) {
                                        criticalNotifications.set(key, {
                                            id: key,
                                            type: 'urgent',
                                            icon: 'fa-exclamation-circle',
                                            title: '‚ö†Ô∏è ‡∏†‡∏≤‡∏©‡∏µ‡∏£‡∏ñ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å',
                                            message: `${v.registration_number || v.vehicle_id} - ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${daysUntil} ‡∏ß‡∏±‡∏ô`,
                                            time: getRelativeTime(expiryDate),
                                            timestamp: expiryDate.getTime(),
                                            isRead: false,
                                            category: 'tax',
                                            priority: 1 // ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å
                                        });
                                    }
                                }
                            }

                            // ‚úÖ ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î (‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô)
                            if (v.next_maintenance_date) {
                                const maintenanceDate = new Date(v.next_maintenance_date);
                                const daysUntil = Math.ceil((maintenanceDate - today) / (1000 * 60 * 60 * 24));
                                
                                if (daysUntil < 0) {
                                    const key = `maintenance_${v.vehicle_id}`;
                                    if (!criticalNotifications.has(key)) {
                                        criticalNotifications.set(key, {
                                            id: key,
                                            type: 'urgent',
                                            icon: 'fa-tools',
                                            title: 'üîß ‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤',
                                            message: `${v.registration_number || v.vehicle_id} - ‡πÄ‡∏Å‡∏¥‡∏ô‡∏°‡∏≤ ${Math.abs(daysUntil)} ‡∏ß‡∏±‡∏ô`,
                                            time: getRelativeTime(maintenanceDate),
                                            timestamp: maintenanceDate.getTime(),
                                            isRead: false,
                                            category: 'maintenance',
                                            priority: 2
                                        });
                                    }
                                }
                            }

                            // ‚úÖ ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏¢‡∏°‡∏≤‡∏Å (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 15%)
                            if (v.fuel_level && v.fuel_level < 15 && v.status !== 'inactive' && v.status !== 'MAINTENANCE') {
                                const key = `fuel_${v.vehicle_id}`;
                                if (!criticalNotifications.has(key)) {
                                    criticalNotifications.set(key, {
                                        id: key,
                                        type: 'urgent',
                                        icon: 'fa-gas-pump',
                                        title: '‚õΩ ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏¢‡∏°‡∏≤‡∏Å',
                                        message: `${v.registration_number || v.vehicle_id} - ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${v.fuel_level}%`,
                                        time: '‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ',
                                        timestamp: Date.now(),
                                        isRead: false,
                                        category: 'fuel',
                                        priority: 3
                                    });
                                }
                            }

                            // ‚úÖ ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 3 ‡∏ß‡∏±‡∏ô (‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô)
                            if (v.insurance_expiry_date) {
                                const insuranceDate = new Date(v.insurance_expiry_date);
                                const daysUntil = Math.ceil((insuranceDate - today) / (1000 * 60 * 60 * 24));
                                
                                if (daysUntil >= 0 && daysUntil <= 3) {
                                    const key = `insurance_${v.vehicle_id}`;
                                    if (!criticalNotifications.has(key)) {
                                        criticalNotifications.set(key, {
                                            id: key,
                                            type: 'urgent',
                                            icon: 'fa-shield-alt',
                                            title: 'üõ°Ô∏è ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏',
                                            message: `${v.registration_number || v.vehicle_id} - ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${daysUntil} ‡∏ß‡∏±‡∏ô`,
                                            time: getRelativeTime(insuranceDate),
                                            timestamp: insuranceDate.getTime(),
                                            isRead: false,
                                            category: 'insurance',
                                            priority: 1
                                        });
                                    }
                                }
                            }
                        });
                    }
                } catch (vehicleError) {
                    console.warn('Could not load vehicle notifications:', vehicleError);
                }

                // ‚úÖ 2. ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç)
                notificationsData = Array.from(criticalNotifications.values())
                    .sort((a, b) => a.priority - b.priority || b.timestamp - a.timestamp)
                    .slice(0, 5); // ‡πÄ‡∏≠‡∏≤‡πÅ‡∏Ñ‡πà 5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

                console.log(`‚úÖ Loaded ${notificationsData.length} critical notifications`);

            } catch (error) {
                console.error('Error loading system notifications:', error);
            }
        }

        function getRelativeTime(date) {
            const now = new Date();
            const diff = Math.abs(now - date);
            const seconds = Math.floor(diff / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);

            if (seconds < 60) return '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà';
            if (minutes < 60) return `${minutes} ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`;
            if (hours < 24) return `${hours} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`;
            if (days === 0) return '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ';
            if (days === 1) return '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô';
            if (days < 7) return `${days} ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`;
            return date.toLocaleDateString('th-TH');
        }

        // renderNotifications removed - use user-dropdown.js

        // Notification functions removed - use user-dropdown.js

        function showNotificationCenterModal() {
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á Modal HTML
            const modalHTML = `
                <div class="modal fade" id="notificationCenterModal" tabindex="-1" aria-labelledby="notificationCenterModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="notificationCenterModalLabel">
                                    <i class="fas fa-bell me-2"></i>‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
                                </h5>
                                <div class="d-flex gap-2">
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="markAllNotificationsAsRead()">
                                        <i class="fas fa-check-double me-1"></i>‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                                    </button>
                                    <button type="button" class="btn btn-outline-secondary btn-sm" onclick="openNotificationSettings()">
                                        <i class="fas fa-cog me-1"></i>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
                                    </button>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                            </div>
                            <div class="modal-body p-0">
                                <div class="row g-0">
                                    <div class="col-md-3 border-end">
                                        <div class="notification-sidebar p-3">
                                            <h6 class="mb-3">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h6>
                                            <div class="list-group list-group-flush">
                                                <button class="list-group-item list-group-item-action active" data-filter="all">
                                                    <i class="fas fa-list me-2"></i>‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î <span class="badge bg-primary ms-2" id="allCount">0</span>
                                                </button>
                                                <button class="list-group-item list-group-item-action" data-filter="system">
                                                    <i class="fas fa-cog me-2"></i>‡∏£‡∏∞‡∏ö‡∏ö <span class="badge bg-secondary ms-2" id="systemCount">0</span>
                                                </button>
                                                <button class="list-group-item list-group-item-action" data-filter="maintenance">
                                                    <i class="fas fa-wrench me-2"></i>‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ <span class="badge bg-warning ms-2" id="maintenanceCount">0</span>
                                                </button>
                                                <button class="list-group-item list-group-item-action" data-filter="fuel">
                                                    <i class="fas fa-gas-pump me-2"></i>‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô <span class="badge bg-info ms-2" id="fuelCount">0</span>
                                                </button>
                                                <button class="list-group-item list-group-item-action" data-filter="gps">
                                                    <i class="fas fa-map-marker-alt me-2"></i>GPS <span class="badge bg-success ms-2" id="gpsCount">0</span>
                                                </button>
                                                <button class="list-group-item list-group-item-action" data-filter="alert">
                                                    <i class="fas fa-exclamation-triangle me-2"></i>‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏†‡∏±‡∏¢ <span class="badge bg-danger ms-2" id="alertCount">0</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-9">
                                        <div class="notification-content p-3">
                                            <div class="d-flex justify-content-between align-items-center mb-3">
                                                <h6 class="mb-0">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h6>
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="sortBy" id="sortByTime" value="time" checked>
                                                    <label class="btn btn-outline-secondary" for="sortByTime">‡πÄ‡∏ß‡∏•‡∏≤</label>
                                                    <input type="radio" class="btn-check" name="sortBy" id="sortByType" value="type">
                                                    <label class="btn btn-outline-secondary" for="sortByType">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
                                                    <input type="radio" class="btn-check" name="sortBy" id="sortByStatus" value="status">
                                                    <label class="btn btn-outline-secondary" for="sortByStatus">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                                                </div>
                                            </div>
                                            <div class="notification-list" id="notificationList" style="max-height: 500px; overflow-y: auto;">
                                                <!-- ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-outline-danger" onclick="clearAllNotifications()">
                                    <i class="fas fa-trash me-1"></i>‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                                </button>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                    <i class="fas fa-times me-1"></i>‡∏õ‡∏¥‡∏î
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // ‡∏•‡∏ö Modal ‡πÄ‡∏Å‡πà‡∏≤‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
            const existingModal = document.getElementById('notificationCenterModal');
            if (existingModal) {
                existingModal.remove();
            }

            // ‡πÄ‡∏û‡∏¥‡πà‡∏° Modal ‡πÉ‡∏´‡∏°‡πà
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // ‡πÅ‡∏™‡∏î‡∏á Modal
            const modal = new bootstrap.Modal(document.getElementById('notificationCenterModal'));
            modal.show();

            // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
            loadNotificationCenterData();

            // ‡πÄ‡∏û‡∏¥‡πà‡∏° Event Listeners
            setupNotificationCenterEvents();
        }

        async function loadNotificationCenterData() {
            try {
                // ‚úÖ ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å API ‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏ó‡∏ô mock data
                const response = await fetchWithAuth('../api/notifications.php', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    credentials: 'include'
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                
                if (result.success && Array.isArray(result.data)) {
                    const notifications = result.data.map(n => ({
                        id: n.id,
                        type: n.type || 'system',
                        title: n.title || '‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô',
                        message: n.message,
                        time: formatNotificationTime(n.created_at || n.createdAt),
                        isRead: n.status === 'read' || n.is_read === 1,
                        icon: getNotificationIcon(n.type),
                        color: getNotificationColor(n.type)
                    }));

                    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
                    updateNotificationCountsByType(notifications);

                    // ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
                    displayNotifications(notifications);
                } else {
                    // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏á
                    displayNotifications([]);
                }
            } catch (error) {
                console.error('Error loading notifications:', error);
                // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error
                const container = document.getElementById('notificationList');
                if (container) {
                    container.innerHTML = `
                        <div class="text-center py-4">
                            <i class="fas fa-exclamation-circle text-danger mb-2" style="font-size: 3rem;"></i>
                            <p class="text-muted">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÑ‡∏î‡πâ</p>
                            <button class="btn btn-sm btn-primary" onclick="loadNotificationCenterData()">
                                <i class="fas fa-redo me-1"></i> ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
                            </button>
                        </div>
                    `;
                }
            }
        }

        function formatNotificationTime(timestamp) {
            if (!timestamp) return '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà';
            
            const date = new Date(timestamp);
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);

            if (diffMins < 1) return '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà';
            if (diffMins < 60) return `${diffMins} ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`;
            if (diffHours < 24) return `${diffHours} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`;
            if (diffDays < 7) return `${diffDays} ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`;
            
            return date.toLocaleDateString('th-TH', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        // ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô getNotificationIcon() ‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 8184 ‡πÅ‡∏•‡πâ‡∏ß (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô)

        function getNotificationColor(type) {
            const colors = {
                'system': 'success',
                'maintenance': 'warning',
                'fuel': 'info',
                'gps': 'primary',
                'alert': 'danger',
                'vehicle_request': 'info',
                'default': 'secondary'
            };
            return colors[type] || colors['default'];
        }

        function updateNotificationCountsByType(notifications) {
            if (!notifications || !Array.isArray(notifications)) {
                return;
            }

            const counts = {
                all: notifications.length,
                system: notifications.filter(n => n.type === 'system').length,
                maintenance: notifications.filter(n => n.type === 'maintenance').length,
                fuel: notifications.filter(n => n.type === 'fuel').length,
                gps: notifications.filter(n => n.type === 'gps').length,
                alert: notifications.filter(n => n.type === 'alert').length
            };

            Object.keys(counts).forEach(type => {
                const element = document.getElementById(`${type}Count`);
                if (element) {
                    element.textContent = counts[type];
                }
            });
        }

        function displayNotifications(notifications) {
            const container = document.getElementById('notificationList');
            if (!container) return;

            const html = notifications.map(notification => `
                <div class="notification-item ${notification.isRead ? 'read' : 'unread'} border-bottom py-3" data-type="${notification.type}">
                    <div class="d-flex align-items-start">
                        <div class="notification-icon me-3">
                            <i class="${notification.icon} text-${notification.color}"></i>
                        </div>
                        <div class="notification-content flex-grow-1">
                            <div class="d-flex justify-content-between align-items-start">
                                <h6 class="mb-1 ${!notification.isRead ? 'fw-bold' : ''}">${notification.title}</h6>
                                <small class="text-muted">${notification.time}</small>
                            </div>
                            <p class="mb-2 text-muted">${notification.message}</p>
                            <div class="notification-actions">
                                <button class="btn btn-sm btn-outline-primary me-2" onclick="viewNotification(${notification.id})">
                                    <i class="fas fa-eye me-1"></i>‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
                                </button>
                                ${!notification.isRead ? `
                                    <button class="btn btn-sm btn-outline-success me-2" onclick="markAsRead(${notification.id})">
                                        <i class="fas fa-check me-1"></i>‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß
                                    </button>
                                ` : ''}
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteNotification(${notification.id})">
                                    <i class="fas fa-trash me-1"></i>‡∏•‡∏ö
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            container.innerHTML = html;
        }

        function setupNotificationCenterEvents() {
            // Filter by type
            document.querySelectorAll('[data-filter]').forEach(button => {
                button.addEventListener('click', function() {
                    const filter = this.dataset.filter;
                    
                    // Update active state
                    document.querySelectorAll('[data-filter]').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Filter notifications
                    filterNotifications(filter);
                });
            });

            // Sort notifications
            document.querySelectorAll('input[name="sortBy"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const sortBy = this.value;
                    sortNotifications(sortBy);
                });
            });
        }

        function filterNotifications(filter) {
            const items = document.querySelectorAll('.notification-item');
            items.forEach(item => {
                if (filter === 'all' || item.dataset.type === filter) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function sortNotifications(sortBy) {
            const container = document.getElementById('notificationList');
            const items = Array.from(container.querySelectorAll('.notification-item'));
            
            items.sort((a, b) => {
                switch(sortBy) {
                    case 'time':
                        return b.dataset.time - a.dataset.time;
                    case 'type':
                        return a.dataset.type.localeCompare(b.dataset.type);
                    case 'status':
                        return a.classList.contains('read') - b.classList.contains('read');
                    default:
                        return 0;
                }
            });
            
            items.forEach(item => container.appendChild(item));
        }

        function viewNotification(id) {
            showNotification('info', `‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô ID: ${id}`);
        }

        function markAsRead(id) {
            const item = document.querySelector(`[data-id="${id}"]`);
            if (item) {
                item.classList.remove('unread');
                item.classList.add('read');
                showNotification('success', '‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß');
            }
        }

        function deleteNotification(id) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                const item = document.querySelector(`[data-id="${id}"]`);
                if (item) {
                    item.remove();
                    showNotification('success', '‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                }
            }
        }

        function markAllNotificationsAsRead() {
            document.querySelectorAll('.notification-item.unread').forEach(item => {
                item.classList.remove('unread');
                item.classList.add('read');
            });
            showNotification('success', '‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß');
        }

        function clearAllNotifications() {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                document.getElementById('notificationList').innerHTML = '<div class="text-center text-muted py-5">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>';
                showNotification('success', '‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
            }
        }

        // ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô openNotificationSettings() ‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 8611 ‡πÅ‡∏•‡πâ‡∏ß (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô)

        // ============================================
        // NOTIFICATION MANAGEMENT FUNCTIONS
        // ============================================

        // ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô:
        // - markAllAsRead() -> ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 8596
        // - viewAllNotifications() -> ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 8605  
        // - openNotificationSettings() -> ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 8611

        function showPreferences() {
            showNotification('info', '‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏≠‡∏ö');
            // TODO: Implement preferences page
        }

        function showUserGuide() {
            window.open('docs/user-guide.pdf', '_blank');
        }

        function showFAQ() {
            showNotification('info', '‡πÄ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢');
            // TODO: Implement FAQ page
        }

        function contactSupport() {
            showNotification('info', '‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ù‡πà‡∏≤‡∏¢‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô');
            // TODO: Implement support contact form
        }

        function showSystemLogs() {
            showNotification('info', '‡πÄ‡∏õ‡∏¥‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏∞‡∏ö‡∏ö');
            // TODO: Implement system logs viewer
        }

        const OPDUER_API_BASE = (() => {
            if (typeof window === 'undefined') {
                return null;
            }

            if (window.OPDUER_API_BASE && typeof window.OPDUER_API_BASE === 'string') {
                return window.OPDUER_API_BASE.trim().replace(/\/+$/, '');
            }

            const metaTag = document.querySelector('meta[name="opduer-api-base"]');
            if (metaTag && typeof metaTag.content === 'string' && metaTag.content.trim()) {
                return metaTag.content.trim().replace(/\/+$/, '');
            }
            return null;
        })();

        if (typeof window !== 'undefined') {
            window.vmsAuthState = window.vmsAuthState || { isAuthenticated: false };
        }

        // Initialize notifications on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeAuthenticatedFeatures();
        });

        async function initializeAuthenticatedFeatures() {
            const isAuthenticated = await fetchAuthenticatedUser();
            if (!isAuthenticated) {
                return;
            }

            // ‚ö†Ô∏è DISABLED: All notification-related functions disabled due to API error
            // loadNotifications();
            // initNotificationSystem();
            // loadUserMenuNotifications();
            // setInterval(loadNotifications, 60000);
            
            // ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å fetchOpduerUser() ‡∏≠‡∏µ‡∏Å ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ fetchAuthenticatedUser() ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß
        }

        // ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (‡∏ï‡πâ‡∏≠‡∏á‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
        async function fetchAuthenticatedUser() {
            try {
                const response = await fetchWithAuth('../api/auth/me.php', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.authenticated && data.user) {
                        // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å currentUser ‡∏Å‡πà‡∏≠‡∏ô
                        window.currentUser = data.user;
                        
                        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó UI ‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á
                        updateUserInfo(data.user);
                        populateUserContext(data.user);

                        if (typeof window !== 'undefined') {
                            window.vmsAuthState = window.vmsAuthState || {};
                            window.vmsAuthState.isAuthenticated = true;
                        }

                        // ‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
                        setTimeout(() => {
                            showNotification('success', '‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß');
                        }, 1000);

                        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                        // updateNotificationCount(); // ‚ö†Ô∏è DISABLED: notifications API disabled
                        setupFormHandlers();

                        return true;
                    }

                    if (typeof window !== 'undefined') {
                        window.vmsAuthState = window.vmsAuthState || {};
                        window.vmsAuthState.isAuthenticated = false;
                    }

                    console.log('User not authenticated, redirecting to login');
                    window.location.href = 'login.html';
                    return false;
                }

                if (typeof window !== 'undefined') {
                    window.vmsAuthState = window.vmsAuthState || {};
                    window.vmsAuthState.isAuthenticated = false;
                }

                console.log('Authentication check failed, redirecting to login');
                window.location.href = 'login.html';
            } catch (error) {
                console.error('Authentication check error:', error);
                if (typeof window !== 'undefined') {
                    window.vmsAuthState = window.vmsAuthState || {};
                    window.vmsAuthState.isAuthenticated = false;
                }
                window.location.href = 'login.html';
            }

            return false;
        }
        const missingAvatarCache = new Set((() => {
            try {
                const cached = sessionStorage.getItem('vmsMissingAvatars');
                return cached ? JSON.parse(cached) : [];
            } catch (err) {
                console.debug('Avatar cache init skipped:', err);
                return [];
            }
        })());

        function persistMissingAvatar(url) {
            if (!url) {
                return;
            }
            missingAvatarCache.add(url);
            try {
                sessionStorage.setItem('vmsMissingAvatars', JSON.stringify(Array.from(missingAvatarCache)));
            } catch (err) {
                console.debug('Avatar cache persist failed:', err);
            }
        }

        function isAvatarMissing(url) {
            return !!url && missingAvatarCache.has(url);
        }

        function setAvatarImage(container, imageUrl, initial, options = {}) {
            if (!container) {
                return;
            }

            const normalizedInitial = (initial && initial.trim()) ? initial.trim().charAt(0).toUpperCase() : 'U';
            container.dataset.avatarState = 'fallback';
            container.innerHTML = '';
            container.textContent = normalizedInitial;

            if (!imageUrl || imageUrl === 'null') {
                if (options.onMissing) options.onMissing();
                return;
            }

            const normalizedUrl = imageUrl.trim();
            if (!normalizedUrl || normalizedUrl.includes('404')) {
                if (options.onMissing) options.onMissing();
                return;
            }

            const targetUrl = normalizedUrl.replace(/\s/g, '%20');
            if (!targetUrl) {
                if (options.onMissing) options.onMissing();
                return;
            }

            if (container.dataset.avatarSource === targetUrl) {
                if (container.dataset.avatarState === 'loaded') {
                    if (options.onLoaded) options.onLoaded();
                    return;
                }
                if (container.dataset.avatarState === 'missing') {
                    if (options.onMissing) options.onMissing();
                    return;
                }
            }

            if (isAvatarMissing(targetUrl)) {
                container.dataset.avatarSource = targetUrl;
                container.dataset.avatarState = 'missing';
                if (options.onMissing) options.onMissing();
                return;
            }

            const applyImage = () => {
                const img = new Image();
                img.decoding = 'async';
                img.loading = 'lazy';
                img.alt = options.alt || 'Avatar';
                if (options.className) img.className = options.className;
                if (options.style) {
                    img.style.cssText = options.style;
                } else {
                    img.style.cssText = 'width: 100%; height: 100%; object-fit: cover; border-radius: 50%;';
                }

                img.onload = () => {
                    container.dataset.avatarState = 'loaded';
                    container.innerHTML = '';
                    container.appendChild(img);
                    if (options.onLoaded) options.onLoaded();
                };

                img.onerror = () => {
                    container.dataset.avatarState = 'missing';
                    container.innerHTML = '';
                    container.textContent = normalizedInitial;
                    persistMissingAvatar(targetUrl);
                    if (options.onMissing) options.onMissing();
                };

                img.src = targetUrl;
            };

            container.dataset.avatarSource = targetUrl;
            container.dataset.avatarState = 'loading';

            if (targetUrl.startsWith('data:')) {
                applyImage();
                return;
            }

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ URL ‡πÄ‡∏õ‡πá‡∏ô absolute ‡∏´‡∏£‡∏∑‡∏≠ relative
            const isAbsoluteUrl = /^https?:\/\//i.test(targetUrl);
            
            // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà absolute URL ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ HEAD request
            if (!isAbsoluteUrl) {
                // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö relative URL ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏†‡∏≤‡∏û‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡πá‡∏à‡∏∞‡πÉ‡∏ä‡πâ fallback (silent fail)
                const testImg = new Image();
                testImg.onload = function() {
                    applyImage();
                };
                testImg.onerror = function() {
                    // Silent fallback - ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á error ‡πÉ‡∏ô console
                    container.dataset.avatarState = 'missing';
                    persistMissingAvatar(targetUrl);
                    container.innerHTML = '';
                    container.textContent = normalizedInitial;
                    if (options.onMissing) options.onMissing();
                };
                // Suppress 404 errors in console
                testImg.src = targetUrl;
            } else {
                // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö absolute URL ‡πÉ‡∏ä‡πâ HEAD request
                fetch(targetUrl, { method: 'HEAD', cache: 'no-store', credentials: 'include' })
                    .then(response => {
                        if (response && response.ok) {
                            applyImage();
                        } else {
                            container.dataset.avatarState = 'missing';
                            persistMissingAvatar(targetUrl);
                            container.innerHTML = '';
                            container.textContent = normalizedInitial;
                            if (options.onMissing) options.onMissing();
                        }
                    })
                    .catch(() => {
                        container.dataset.avatarState = 'missing';
                        persistMissingAvatar(targetUrl);
                        container.innerHTML = '';
                        container.textContent = normalizedInitial;
                        if (options.onMissing) options.onMissing();
                    });
            }
        }

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô UI
        function updateUserInfo(userData) {
            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô header (user-menu-name)
            const userMenuName = document.getElementById('headerUserName') || document.querySelector('.user-menu-name');
            if (userMenuName) {
                const displayName = userData.name || userData.fullname || userData.displayName || userData.username || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';
                userMenuName.textContent = displayName;
            }

            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï user role
            const userMenuRole = document.getElementById('headerUserRole') || document.querySelector('.user-menu-role');
            if (userMenuRole) {
                const roleName = userData.groupname || userData.role || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';
                userMenuRole.textContent = roleName;
            }

            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï avatar
            const userAvatar = document.querySelector('.user-avatar');
            const dropdownAvatar = document.querySelector('.dropdown-avatar');
            if (userAvatar || dropdownAvatar) {
                const displayName = userData.name || userData.fullname || userData.displayName || userData.username || 'U';
                const initial = displayName.charAt(0).toUpperCase();
                
                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞ sanitize avatar URL
                let avatarUrl = userData.profile_picture || userData.profile_picture_url || '';
                
                // ‡∏ñ‡πâ‡∏≤ avatar URL ‡πÄ‡∏õ‡πá‡∏ô relative path ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ initials ‡πÅ‡∏ó‡∏ô
                if (avatarUrl && !avatarUrl.startsWith('data:') && !avatarUrl.startsWith('http')) {
                    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö pattern
                    const isValidPath = /\.(jpg|jpeg|png|gif|webp)$/i.test(avatarUrl);
                    if (!isValidPath) {
                        avatarUrl = ''; // ‡πÉ‡∏ä‡πâ initials ‡πÅ‡∏ó‡∏ô
                    }
                }
                
                const syncHasPicture = (value) => {
                    userData.has_profile_picture = value;
                    if (window.currentUser && (window.currentUser.username === userData.username || window.currentUser.id === userData.id)) {
                        window.currentUser.has_profile_picture = value;
                    }
                };

                const avatarOptions = {
                    alt: 'Profile',
                    onLoaded: () => syncHasPicture(true),
                    onMissing: () => syncHasPicture(false)
                };

                if (userAvatar) {
                    setAvatarImage(userAvatar, avatarUrl, initial, avatarOptions);
                }

                if (dropdownAvatar) {
                    setAvatarImage(dropdownAvatar, avatarUrl, initial, avatarOptions);
                }
            }

            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô User Dropdown
            const dropdownUserName = document.getElementById('dropdownUserName');
            if (dropdownUserName) {
                const displayName = userData.name || userData.fullname || userData.displayName || userData.username || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';
                dropdownUserName.textContent = displayName;
            }
            
            const dropdownUserRole = document.getElementById('dropdownUserRole');
            if (dropdownUserRole) {
                const roleName = userData.groupname || userData.role || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';
                const isAdmin = roleName === 'admin' || roleName === '‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö' || roleName === 'administrator';
                const roleIcon = isAdmin ? '<i class="fas fa-shield-alt"></i>' : '<i class="fas fa-user"></i>';
                // ‚úÖ Fixed XSS: Escape roleName before inserting to innerHTML
                dropdownUserRole.innerHTML = `${roleIcon} ${escapeHtml(roleName)}`;
            }

            const dropdownUserEmail = document.getElementById('dropdownUserEmail');
            if (dropdownUserEmail) {
                dropdownUserEmail.textContent = userData.email || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏µ‡πÄ‡∏°‡∏•';
            }

            const userInfo = document.getElementById('userInfo');
            if (userInfo) {
                const displayName = userData.name || userData.displayName || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';
                const groupName = userData.groupname || userData.role || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';
                userInfo.textContent = `‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö ${displayName} (${groupName})`;
            }
        }

        function applyOpduerRoleVisibility(opduerData) {
            const systemSettingsBtn = document.getElementById('systemSettingsBtn');
            if (systemSettingsBtn) {
                systemSettingsBtn.style.display = opduerData.role === 'admin' ? '' : 'none';
            }

            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Admin menu items visibility
            const adminMenuItems = document.querySelectorAll('.admin-only');
            adminMenuItems.forEach(item => {
                item.style.display = opduerData.role === 'admin' ? '' : 'none';
            });
        }

        // ‚ö†Ô∏è DEPRECATED: fetchOpduerUser() - ‡∏ñ‡∏π‡∏Å‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢ fetchAuthenticatedUser() ‡πÅ‡∏•‡πâ‡∏ß
        // ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ (backward compatibility)
        async function fetchOpduerUser() {
            // ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ fetchAuthenticatedUser() ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß
            console.log('‚ÑπÔ∏è fetchOpduerUser() is deprecated - use fetchAuthenticatedUser() instead');
            return;

            const adminKeywords = ['admin', '‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö', '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£', '‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£', 'super_admin'];
            const classifyRole = (value) => {
                if (!value) {
                    return 'user';
                }

                try {
                    const normalized = value.toString().toLowerCase();
                    return adminKeywords.some(keyword => normalized.includes(keyword)) ? 'admin' : 'user';
                } catch (err) {
                    console.debug('Role classification skipped:', err);
                    return 'user';
                }
            };

            const applyFallbackUser = () => {
                const source = window.currentUser || {};
                const fallbackData = {
                    name: source.name || source.fullname || username,
                    displayName: source.displayName || source.name || source.username || username,
                    email: source.email || '',
                    groupname: source.groupname || source.role || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
                    role: classifyRole(source.role || source.groupname),
                    department: source.department || source.departmentposition || source.entryposition || '',
                    cid: source.cid || source.no_card_id || '',
                    username: source.username || source.loginname || username
                };

                console.info('‚úÖ Using session profile for OPDUER features');
                updateUserInfo(fallbackData);
                applyOpduerRoleVisibility(fallbackData);
            };

            if (!OPDUER_API_BASE) {
                console.info('‚ÑπÔ∏è OPDUER API base URL is not configured; using session profile');
                applyFallbackUser();
                return;
            }

            try {
                const trimmedBase = OPDUER_API_BASE.trim();
                let endpoint = trimmedBase;

                if (/\.php($|\?)/i.test(trimmedBase)) {
                    const separator = trimmedBase.includes('?') ? '&' : '?';
                    endpoint = `${trimmedBase}${separator}username=${encodeURIComponent(username)}`;
                } else {
                    endpoint = `${trimmedBase.replace(/\/+$/, '')}/user/${encodeURIComponent(username)}`;
                }

                const isAbsolute = /^https?:\/\//i.test(endpoint);
                const response = await fetchWithAuth(endpoint, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json'
                    },
                    credentials: isAbsolute ? 'include' : 'same-origin'
                });

                if (!response || !response.ok) {
                    throw new Error(`OPDUER API responded with status ${response ? response.status : 'unknown'}`);
                }

                const payload = await response.json();

                if (payload && payload.success && payload.data) {
                    const opduerUser = payload.data;
                    const normalizedUser = {
                        name: opduerUser.fullname || opduerUser.name || opduerUser.username || username,
                        displayName: opduerUser.fullname || opduerUser.name || opduerUser.username || username,
                        email: opduerUser.email || '',
                        groupname: opduerUser.groupname || opduerUser.role || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
                        role: classifyRole(opduerUser.role || opduerUser.groupname),
                        department: opduerUser.department || opduerUser.departmentposition || '',
                        cid: opduerUser.cid || opduerUser.no_card_id || '',
                        username: opduerUser.username || username
                    };

                    updateUserInfo(normalizedUser);
                    applyOpduerRoleVisibility(normalizedUser);
                    return;
                }

                console.warn('‚ö†Ô∏è Unexpected OPDUER API response payload', payload);
            } catch (error) {
                console.error('‚ùå Failed to fetch OPDUER user profile:', error);
            }

            applyFallbackUser();
        }

        // Sidebar controls
        function toggleSidebar(force) {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            const isOpen = sidebar.classList.contains('open');
            const willOpen = typeof force === 'boolean' ? force : !isOpen;
            sidebar.classList.toggle('open', willOpen);
            overlay.classList.toggle('show', willOpen);
            
            // Use inert instead of aria-hidden to prevent focus issues
            if (willOpen) {
                sidebar.removeAttribute('inert');
            } else {
                sidebar.setAttribute('inert', '');
            }
            
            const toggleBtn = document.querySelector('.sidebar-toggle');
            if (toggleBtn) toggleBtn.setAttribute('aria-expanded', String(willOpen));
        }

        // Expose toggleSidebar globally
        window.toggleSidebar = toggleSidebar;

        function activateMenu(el) {
            document.querySelectorAll('#sidebar .menu a').forEach(a => a.classList.remove('active'));
            el.classList.add('active');
            if (window.innerWidth < 992) toggleSidebar(false);
        }

        function getAuthTokenStorageKeys() {
            if (typeof window !== 'undefined') {
                if (!Array.isArray(window.AUTH_TOKEN_STORAGE_KEYS)) {
                    window.AUTH_TOKEN_STORAGE_KEYS = [
                        'auth_token',
                        'AUTH_TOKEN',
                        'token',
                        'TOKEN',
                        'userToken',
                        'USER_TOKEN',
                        'vms_auth_token',
                        'VMS_AUTH_TOKEN',
                        'vmsToken',
                        'VMS_TOKEN',
                        'session_token',
                        'SESSION_TOKEN'
                    ];
                }

                return window.AUTH_TOKEN_STORAGE_KEYS;
            }

            return [
                'auth_token',
                'AUTH_TOKEN',
                'token',
                'TOKEN',
                'userToken',
                'USER_TOKEN',
                'vms_auth_token',
                'VMS_AUTH_TOKEN',
                'vmsToken',
                'VMS_TOKEN',
                'session_token',
                'SESSION_TOKEN'
            ];
        }

        function resolveAuthToken(options = {}) {
            const storageKeys = getAuthTokenStorageKeys();

            if (options.authToken) {
                return options.authToken;
            }

            try {
                if (window.vmsSessionManager && typeof window.vmsSessionManager.getSessionToken === 'function') {
                    const sessionToken = window.vmsSessionManager.getSessionToken();
                    if (sessionToken && sessionToken !== 'session') {
                        return sessionToken;
                    }
                }
            } catch (err) {
                console.debug('Session token lookup skipped:', err);
            }

            const availableStorages = [];
            if (typeof localStorage !== 'undefined') {
                availableStorages.push(localStorage);
            }
            if (typeof sessionStorage !== 'undefined') {
                availableStorages.push(sessionStorage);
            }

            for (const storage of availableStorages) {
                for (const key of storageKeys) {
                    try {
                        const value = storage.getItem(key);
                        if (value) {
                            return value;
                        }
                    } catch (storageError) {
                        console.debug('Storage access blocked for key lookup:', storageError);
                    }
                }
            }

            if (document.cookie) {
                const cookieMatch = document.cookie.split(';').map(part => part.trim()).find(part => {
                    const [name] = part.split('=');
                    return storageKeys.includes(name);
                });

                if (cookieMatch) {
                    const [, tokenValue] = cookieMatch.split('=');
                    if (tokenValue) {
                        return decodeURIComponent(tokenValue);
                    }
                }
            }

            return null;
        }

        function buildAuthorizationHeader(explicitToken) {
            const token = resolveAuthToken({ authToken: explicitToken });
            if (!token) {
                return null;
            }

            const normalizedToken = token.trim();
            if (!normalizedToken || normalizedToken === 'session') {
                return null;
            }

            return normalizedToken.startsWith('Bearer ')
                ? normalizedToken
                : `Bearer ${normalizedToken}`;
        }

        function fetchWithAuth(url, options = {}) {
            const {
                headers: customHeaders,
                authToken: explicitToken,
                credentials: userCredentials,
                ...otherOptions
            } = options || {};

            const headers = {
                ...(customHeaders || {})
            };

            if (!headers.Authorization) {
                const authorizationHeader = buildAuthorizationHeader(explicitToken);
                if (authorizationHeader) {
                    headers.Authorization = authorizationHeader;
                }
            }

            return fetch(url, {
                ...otherOptions,
                headers,
                credentials: userCredentials || 'include'
            });
        }

        // API Helper Function with Authentication Check
        async function apiCall(url, options = {}) {
            try {
                console.log('üåê [apiCall] Calling:', url);
                const {
                    headers: userHeaders,
                    credentials: userCredentials,
                    authToken: explicitToken,
                    ...otherOptions
                } = options;

                const mergedHeaders = {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    ...(userHeaders || {})
                };

                const response = await fetchWithAuth(url, {
                    ...otherOptions,
                    headers: mergedHeaders,
                    credentials: userCredentials,
                    authToken: explicitToken
                });
                
                console.log('üì° [apiCall] Response status:', response.status, response.statusText);

                // Check content type before processing
                const contentType = response.headers.get('content-type');
                console.log('üìÑ [apiCall] Content-Type:', contentType);
                
                // Handle HTML response (likely login redirect or error page)
                if (contentType && contentType.includes('text/html')) {
                    // Only redirect to login if status is 401/403 (authentication issues)
                    if (response.status === 401 || response.status === 403) {
                        console.warn('‚ö†Ô∏è [apiCall] Authentication required - redirecting to login');
                        showNotification('warning', 'Session ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà');
                        setTimeout(() => {
                            window.location.href = 'login.html';
                        }, 1500);
                        return null;
                    }
                    
                    // For other HTML responses (500 errors etc), log but don't redirect
                    console.error(`‚ùå [apiCall] API returned HTML for ${url} with status ${response.status}`);
                    return null;
                }

                // Check HTTP status for JSON responses
                if (!response.ok) {
                    console.warn(`‚ö†Ô∏è [apiCall] Response not OK: ${response.status}`);
                    // Handle 401 Unauthorized specifically
                    if (response.status === 401) {
                        console.warn('‚ö†Ô∏è [apiCall] 401 Unauthorized - returning empty data (development mode)');
                        if (typeof window !== 'undefined') {
                            window.vmsAuthState = window.vmsAuthState || {};
                            window.vmsAuthState.isAuthenticated = false;
                        }
                        // ‚úÖ DEVELOPMENT MODE: ‡πÑ‡∏°‡πà redirect ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö UI
                        return { success: false, message: 'Authentication required', data: [] };
                    }
                    
                    // Try to parse error message from JSON
                    try {
                        const errorData = await response.json();
                        console.error('‚ùå [apiCall] Error data:', errorData);
                        throw new Error(errorData.message || `HTTP ${response.status}: ${response.statusText}`);
                    } catch (jsonError) {
                        console.error('‚ùå [apiCall] JSON parse error:', jsonError);
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                }

                // Parse JSON
                const data = await response.json();
                console.log('‚úÖ [apiCall] Success! Data:', data);
                return data;

            } catch (error) {
                console.error(`API Call Error for ${url}:`, error);
                
                // Don't show notification for silent API calls (like notifications polling)
                if (!options.silent) {
                    // Don't show error if we're redirecting to login or if it's an expected error
                    if (!error.message.includes('Unexpected token') && !error.message.includes('Session')) {
                        // Only show user-friendly errors, not technical ones
                        const userMessage = error.message.includes('HTTP') 
                            ? '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ' 
                            : error.message;
                        showNotification('danger', userMessage);
                    }
                }
                
                // Return null instead of throwing to allow graceful degradation
                return null;
            }
        }

        // Remove problematic script tags
        function removeProblematicScripts() {
            const scripts = document.querySelectorAll('script[src*="popups-script.js"]');
            scripts.forEach(script => {
                // Don't remove Chrome extension scripts
                if (!script.src.includes('chrome-extension')) {
                    console.log('Removing problematic script:', script.src);
                    script.remove();
                }
            });
            
            // Also prevent any new script tags with popups-script.js (but not Chrome extensions)
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    mutation.addedNodes.forEach(function(node) {
                        if (node.tagName === 'SCRIPT' && node.src && node.src.includes('popups-script.js') && !node.src.includes('chrome-extension')) {
                            console.log('Preventing popups-script.js from loading');
                            node.remove();
                        }
                    });
                });
            });
            
            observer.observe(document.head, { childList: true });
            observer.observe(document.body, { childList: true });
        }

        function populateUserContext(userData) {
            if (!userData) {
                return;
            }

            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á (‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï userInfo ‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏•‡πâ‡∏ß)
            updateUserInfo(userData);

            // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á
            window.currentUser = userData;
        }

        // Modern Toast Notification Function
        function showToast(message, type = 'info', duration = 3000) {
            const toast = document.createElement('div');
            const icons = {
                success: '<i class="fas fa-check-circle"></i>',
                error: '<i class="fas fa-times-circle"></i>',
                warning: '<i class="fas fa-exclamation-triangle"></i>',
                info: '<i class="fas fa-info-circle"></i>'
            };
            const colors = {
                success: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                error: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',
                warning: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',
                info: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)'
            };

            toast.className = 'modern-toast';
            toast.innerHTML = `
                <div style="display: flex; align-items: center; gap: 12px; font-size: 16px;">
                    ${icons[type]}
                    <span>${message}</span>
                </div>
            `;
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${colors[type]};
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
                z-index: 10001;
                animation: toastSlideIn 0.3s ease-out;
                font-family: 'TH Sarabun New', sans-serif;
                font-weight: 600;
                min-width: 300px;
            `;

            document.body.appendChild(toast);

            // Add animation styles if not exists
            if (!document.getElementById('toast-animation-styles')) {
                const animStyles = document.createElement('style');
                animStyles.id = 'toast-animation-styles';
                animStyles.textContent = `
                    @keyframes toastSlideIn {
                        from {
                            transform: translateX(400px);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                    @keyframes toastSlideOut {
                        from {
                            transform: translateX(0);
                            opacity: 1;
                        }
                        to {
                            transform: translateX(400px);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(animStyles);
            }

            setTimeout(() => {
                toast.style.animation = 'toastSlideOut 0.3s ease-in';
                setTimeout(() => toast.remove(), 300);
            }, duration);
        }

        // User Menu Functions - Removed duplicate functions to prevent conflicts

        // ============================================
        // REAL-TIME NOTIFICATION SYSTEM
        // ============================================
        
        let notificationInterval = null;
        let lastNotificationCheck = 0;
        let notificationCount = 0;

        // ‚ö†Ô∏è DISABLED: notifications API is disabled due to database error
        function initNotificationSystem() {
            // DISABLED: No notification system to prevent 503 errors
            console.log('‚ö†Ô∏è Notification system disabled due to API error');
        }

        // ‚ö†Ô∏è DISABLED: notifications API is disabled due to database error
        async function checkNotifications() {
            // DISABLED: No API call to prevent 503 errors
        }

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Badge ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
        function updateNotificationBadge(count) {
            const badge = document.getElementById('userMenuNotificationCount');
            if (badge) {
                if (count > 0) {
                    badge.textContent = count;
                    badge.hidden = false;
                    badge.classList.add('pulse');
                } else {
                    badge.hidden = true;
                    badge.classList.remove('pulse');
                }
            }
        }

        // ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà
        function showNewNotificationAlert(count) {
            if (count === 1) {
                showNotification('info', 'üîî ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£');
            } else {
                showNotification('info', `üîî ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà ${count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
            }
        }

        // ‚ö†Ô∏è DISABLED: notifications API is disabled due to database error
        async function loadUserMenuNotifications() {
            try {
                // DISABLED: No API call to prevent 503 errors
                const notificationList = document.getElementById('userMenuNotifications');
                if (notificationList) {
                    notificationList.innerHTML = '<div class="dropdown-notification-empty"><i class="fas fa-bell-slash"></i><p>‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</p></div>';
                }
                return;
                
                if (response.ok) {
                    const data = await response.json();
                    displayUserMenuNotifications(data.data?.notifications || []);
                }
            } catch (error) {
                console.error('Load notifications failed:', error);
            }
        }

        // ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô User Dropdown
        function displayUserMenuNotifications(notifications) {
            const container = document.getElementById('userMenuNotifications');
            if (!container) return;

            if (notifications.length === 0) {
                container.innerHTML = '<div class="text-center text-muted py-3">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>';
                return;
            }

            const html = notifications.map(notification => `
                <div class="notification-item ${notification.is_read ? 'read' : 'unread'} p-2 border-bottom">
                    <div class="d-flex align-items-start">
                        <div class="notification-icon me-2">
                            <i class="fas fa-${getNotificationIcon(notification.type)} text-${getNotificationColor(notification.type)}"></i>
                        </div>
                        <div class="notification-content flex-grow-1">
                            <h6 class="mb-1 ${!notification.is_read ? 'fw-bold' : ''}">${notification.title}</h6>
                            <p class="mb-1 small text-muted">${notification.message}</p>
                            <small class="text-muted">${formatNotificationTime(notification.created_at)}</small>
                        </div>
                        ${!notification.is_read ? '<div class="notification-dot"></div>' : ''}
                    </div>
                </div>
            `).join('');

            container.innerHTML = html;
        }

        // User menu action functions removed - use user-dropdown.js

        // Add missing functions as stubs
        function activateMenu(el) {
            console.log('activateMenu - deprecated, use sidebar controls');
        }

        function hideNotification(id) {
            console.log('hideNotification - deprecated');
        }

        function showNotificationSettings() {
            console.log('Notification settings - disabled');
        }

        function showSecuritySettings() {
            console.log('Security settings - disabled');
        }

        function showHelpSupport() {
            console.log('Help support - disabled');
        }

        /**
         * üè• ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö (System Settings)
         * - ‡πÅ‡∏™‡∏î‡∏á Modal ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin
         */
        async function showSystemSettings() {
            console.log('üîß Opening System Settings Modal...');
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á Modal HTML
            const modalHTML = `
                <div class="modal fade" id="systemSettingsModal" tabindex="-1" aria-labelledby="systemSettingsModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-xl modal-dialog-scrollable">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="systemSettingsModalLabel">
                                    <i class="fas fa-cog me-2"></i>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body" style="max-height: 75vh; overflow-y: auto; padding: 1.5rem;">
                                <div class="row g-3">
                                    <div class="col-lg-3 col-md-4">
                                        <div class="nav flex-column nav-pills" id="settingsTabs" role="tablist" style="position: sticky; top: 0; background-color: #f8f9fa; border-radius: 8px; padding: 0.5rem;">
                                            <button class="nav-link active" id="general-tab" data-bs-toggle="pill" data-bs-target="#general" type="button" role="tab" aria-controls="general" aria-selected="true">
                                                <i class="fas fa-cog me-2"></i>‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
                                            </button>
                                            <button class="nav-link" id="users-tab" data-bs-toggle="pill" data-bs-target="#users" type="button" role="tab" aria-controls="users" aria-selected="false">
                                                <i class="fas fa-users me-2"></i>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
                                            </button>
                                            <button class="nav-link" id="notifications-tab" data-bs-toggle="pill" data-bs-target="#notifications" type="button" role="tab" aria-controls="notifications" aria-selected="false">
                                                <i class="fas fa-bell me-2"></i>‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
                                            </button>
                                            <button class="nav-link" id="security-tab" data-bs-toggle="pill" data-bs-target="#security" type="button" role="tab" aria-controls="security" aria-selected="false">
                                                <i class="fas fa-shield-alt me-2"></i>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
                                            </button>
                                            <button class="nav-link" id="backup-tab" data-bs-toggle="pill" data-bs-target="#backup" type="button" role="tab" aria-controls="backup" aria-selected="false">
                                                <i class="fas fa-database me-2"></i>‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                            </button>
                                            <button class="nav-link" id="logs-tab" data-bs-toggle="pill" data-bs-target="#logs" type="button" role="tab" aria-controls="logs" aria-selected="false">
                                                <i class="fas fa-file-alt me-2"></i>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-lg-9 col-md-8">
                                        <div class="tab-content" id="settingsTabContent" style="padding-left: 1rem;">
                                            <!-- General Settings -->
                                            <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
                                                <h6 class="mb-4">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h6>
                                                <form id="generalSettingsForm">
                                                    <div class="row g-3 mb-4">
                                                        <div class="col-md-6">
                                                            <label for="siteName" class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏ö</label>
                                                            <input type="text" class="form-control" id="siteName" value="‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏ö">
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label for="siteVersion" class="form-label">‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô</label>
                                                            <input type="text" class="form-control" id="siteVersion" value="2.1.0" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="row g-3 mb-4">
                                                        <div class="col-md-6">
                                                            <label class="form-label d-block">‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</label>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="maintenanceMode" role="switch">
                                                                <label class="form-check-label" for="maintenanceMode">
                                                                    ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="form-label d-block">‡πÇ‡∏´‡∏°‡∏î Debug</label>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="debugMode" role="switch">
                                                                <label class="form-check-label" for="debugMode">
                                                                    ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏´‡∏°‡∏î Debug
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="maintenanceMessage" class="form-label">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</label>
                                                        <textarea class="form-control" id="maintenanceMessage" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤">‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á</textarea>
                                                    </div>
                                                </form>
                                            </div>

                                            <!-- User Management -->
                                            <div class="tab-pane fade" id="users" role="tabpanel" aria-labelledby="users-tab">
                                                <div class="d-flex justify-content-between align-items-center mb-4">
                                                    <h6 class="mb-0">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</h6>
                                                    <button class="btn btn-primary btn-sm" onclick="addNewUser()">
                                                        <i class="fas fa-plus me-1"></i>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
                                                    </button>
                                                </div>
                                                <div class="table-responsive">
                                                    <table class="table table-striped table-hover align-middle">
                                                        <thead>
                                                            <tr>
                                                                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
                                                                <th>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</th>
                                                                <th>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</th>
                                                                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                                                <th style="width: 120px;">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="usersTableBody">
                                                            <tr>
                                                                <td colspan="5" class="text-center py-4">
                                                                    <div class="spinner-border text-primary" role="status">
                                                                        <span class="visually-hidden">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>

                                            <!-- Notification Settings -->
                                            <div class="tab-pane fade" id="notifications" role="tabpanel" aria-labelledby="notifications-tab">
                                                <h6 class="mb-4">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h6>
                                                <form id="notificationSettingsForm">
                                                    <div class="row g-3 mb-4">
                                                        <div class="col-md-6">
                                                            <label class="form-label d-block">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="emailNotifications" role="switch" checked>
                                                                <label class="form-check-label" for="emailNotifications">
                                                                    ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="form-label d-block">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö Push</label>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="pushNotifications" role="switch" checked>
                                                                <label class="form-check-label" for="pushNotifications">
                                                                    ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="mb-4">
                                                        <label class="form-label d-block mb-3">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</label>
                                                        <div class="row g-3">
                                                            <div class="col-md-4">
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="checkbox" id="bookingNotifications" checked>
                                                                    <label class="form-check-label" for="bookingNotifications">
                                                                        ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏£‡∏ñ
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="checkbox" id="maintenanceNotifications" checked>
                                                                    <label class="form-check-label" for="maintenanceNotifications">
                                                                        ‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="checkbox" id="systemNotifications" checked>
                                                                    <label class="form-check-label" for="systemNotifications">
                                                                        ‡∏£‡∏∞‡∏ö‡∏ö
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>

                                            <!-- Security Settings -->
                                            <div class="tab-pane fade" id="security" role="tabpanel" aria-labelledby="security-tab">
                                                <h6 class="mb-4">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</h6>
                                                <form id="securitySettingsForm">
                                                    <div class="row g-3 mb-4">
                                                        <div class="col-md-6">
                                                            <label for="sessionTimeout" class="form-label">‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ Session (‡∏ô‡∏≤‡∏ó‡∏µ)</label>
                                                            <input type="number" class="form-control" id="sessionTimeout" value="30" min="5" max="480" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏≤‡∏ó‡∏µ">
                                                            <small class="form-text text-muted">‡∏ä‡πà‡∏ß‡∏á 5-480 ‡∏ô‡∏≤‡∏ó‡∏µ</small>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label for="maxLoginAttempts" class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</label>
                                                            <input type="number" class="form-control" id="maxLoginAttempts" value="5" min="3" max="10" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á">
                                                            <small class="form-text text-muted">‡∏ä‡πà‡∏ß‡∏á 3-10 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</small>
                                                        </div>
                                                    </div>
                                                    <div class="row g-3 mb-4">
                                                        <div class="col-md-6">
                                                            <label for="passwordMinLength" class="form-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥</label>
                                                            <input type="number" class="form-control" id="passwordMinLength" value="8" min="6" max="20" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£">
                                                            <small class="form-text text-muted">‡∏ä‡πà‡∏ß‡∏á 6-20 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</small>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="form-label d-block">‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏©</label>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="requireSpecialChars" role="switch">
                                                                <label class="form-check-label" for="requireSpecialChars">
                                                                    ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                                                                </label>
                                                            </div>
                                                            <small class="form-text text-muted">‡πÄ‡∏ä‡πà‡∏ô !@#$%^&*</small>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>

                                            <!-- Backup Settings -->
                                            <div class="tab-pane fade" id="backup" role="tabpanel" aria-labelledby="backup-tab">
                                                <h6 class="mb-4">‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h6>
                                                <div class="row g-4">
                                                    <div class="col-md-6">
                                                        <div class="card h-100">
                                                            <div class="card-body d-flex flex-column">
                                                                <h6 class="card-title">‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</h6>
                                                                <p class="card-text flex-grow-1">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
                                                                <button class="btn btn-primary w-100" onclick="createBackup()">
                                                                    <i class="fas fa-download me-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="card h-100">
                                                            <div class="card-body d-flex flex-column">
                                                                <h6 class="card-title">‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</h6>
                                                                <div class="flex-grow-1">
                                                                    <div class="form-check form-switch mb-3">
                                                                        <input class="form-check-input" type="checkbox" id="autoBackup" role="switch">
                                                                        <label class="form-check-label" for="autoBackup">
                                                                            ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                                                                        </label>
                                                                    </div>
                                                                    <label for="backupFrequency" class="form-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏≠‡∏á</label>
                                                                    <select class="form-select" id="backupFrequency">
                                                                        <option value="daily">‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô</option>
                                                                        <option value="weekly" selected>‡∏ó‡∏∏‡∏Å‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</option>
                                                                        <option value="monthly">‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- System Logs -->
                                            <div class="tab-pane fade" id="logs" role="tabpanel" aria-labelledby="logs-tab">
                                                <div class="d-flex justify-content-between align-items-center mb-4">
                                                    <h6 class="mb-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</h6>
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <button class="btn btn-outline-danger" onclick="clearLogs()" title="‡∏•‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å">
                                                            <i class="fas fa-trash me-1"></i>‡∏•‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                                                        </button>
                                                        <button class="btn btn-outline-primary" onclick="exportLogs()" title="‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å">
                                                            <i class="fas fa-download me-1"></i>‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="table-responsive">
                                                    <table class="table table-striped table-hover align-middle">
                                                        <thead>
                                                            <tr>
                                                                <th style="width: 180px;">‡πÄ‡∏ß‡∏•‡∏≤</th>
                                                                <th style="width: 150px;">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
                                                                <th style="width: 180px;">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                                                                <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="logsTableBody">
                                                            <tr>
                                                                <td colspan="4" class="text-center py-4">
                                                                    <div class="spinner-border text-primary" role="status">
                                                                        <span class="visually-hidden">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer bg-light">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                    <i class="fas fa-times me-2"></i>‡∏õ‡∏¥‡∏î
                                </button>
                                <button type="button" class="btn btn-primary" onclick="saveSystemSettings()">
                                    <i class="fas fa-save me-2"></i>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // ‡∏•‡∏ö Modal ‡πÄ‡∏Å‡πà‡∏≤‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
            const existingModal = document.getElementById('systemSettingsModal');
            if (existingModal) {
                existingModal.remove();
            }

            // ‡πÄ‡∏û‡∏¥‡πà‡∏° Modal ‡πÉ‡∏´‡∏°‡πà
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // ‡πÅ‡∏™‡∏î‡∏á Modal
            const modal = new bootstrap.Modal(document.getElementById('systemSettingsModal'));
            modal.show();

            // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            loadSystemSettingsData();
        }

        function loadSystemSettingsData() {
            // ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö
            loadGeneralSettings();
            // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
            loadUsersData();
            // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
            loadLogsData();
        }

        async function loadGeneralSettings() {
            try {
                const response = await fetch('../api_system_settings.php', {
                    method: 'GET',
                    credentials: 'include'
                });
                
                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Content-Type
                const contentType = response.headers.get('content-type');
                const responseText = await response.text();
                
                if (!contentType || !contentType.includes('application/json')) {
                    console.warn('‚ö†Ô∏è API ‡∏™‡πà‡∏á HTML ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ (api_system_settings.php):');
                    console.warn(responseText.substring(0, 1000));
                    // ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á error ‡πÅ‡∏Ñ‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
                    return;
                }
                
                const result = JSON.parse(responseText);
                
                if (result.success && result.data) {
                    // ‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°
                    const settings = result.data;
                    
                    if (settings.site_name) {
                        const siteNameInput = document.getElementById('siteName');
                        if (siteNameInput) siteNameInput.value = settings.site_name.value || '';
                    }
                    
                    if (settings.site_version) {
                        const versionInput = document.getElementById('siteVersion');
                        if (versionInput) versionInput.value = settings.site_version.value || '2.1.0';
                    }
                    
                    if (settings.maintenance_mode) {
                        const maintenanceInput = document.getElementById('maintenanceMode');
                        if (maintenanceInput) maintenanceInput.checked = settings.maintenance_mode.value || false;
                    }
                    
                    if (settings.debug_mode) {
                        const debugInput = document.getElementById('debugMode');
                        if (debugInput) debugInput.checked = settings.debug_mode.value || false;
                    }
                    
                    if (settings.maintenance_message) {
                        const messageInput = document.getElementById('maintenanceMessage');
                        if (messageInput) messageInput.value = settings.maintenance_message.value || '';
                    }
                    
                    // ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
                    if (settings.email_notifications) {
                        const emailNotif = document.getElementById('emailNotifications');
                        if (emailNotif) emailNotif.checked = settings.email_notifications.value || false;
                    }
                    
                    if (settings.push_notifications) {
                        const pushNotif = document.getElementById('pushNotifications');
                        if (pushNotif) pushNotif.checked = settings.push_notifications.value || false;
                    }
                    
                    if (settings.booking_notifications) {
                        const bookingNotif = document.getElementById('bookingNotifications');
                        if (bookingNotif) bookingNotif.checked = settings.booking_notifications.value || false;
                    }
                    
                    if (settings.maintenance_notifications) {
                        const maintenanceNotif = document.getElementById('maintenanceNotifications');
                        if (maintenanceNotif) maintenanceNotif.checked = settings.maintenance_notifications.value || false;
                    }
                    
                    if (settings.system_notifications) {
                        const systemNotif = document.getElementById('systemNotifications');
                        if (systemNotif) systemNotif.checked = settings.system_notifications.value || false;
                    }
                    
                    // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
                    if (settings.session_timeout) {
                        const sessionInput = document.getElementById('sessionTimeout');
                        if (sessionInput) sessionInput.value = settings.session_timeout.value || 30;
                    }
                    
                    if (settings.max_login_attempts) {
                        const attemptsInput = document.getElementById('maxLoginAttempts');
                        if (attemptsInput) attemptsInput.value = settings.max_login_attempts.value || 5;
                    }
                    
                    if (settings.password_min_length) {
                        const passwordInput = document.getElementById('passwordMinLength');
                        if (passwordInput) passwordInput.value = settings.password_min_length.value || 8;
                    }
                    
                    if (settings.require_special_chars) {
                        const specialCharsInput = document.getElementById('requireSpecialChars');
                        if (specialCharsInput) specialCharsInput.checked = settings.require_special_chars.value || false;
                    }
                    
                    // ‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                    if (settings.auto_backup) {
                        const autoBackupInput = document.getElementById('autoBackup');
                        if (autoBackupInput) autoBackupInput.checked = settings.auto_backup.value || false;
                    }
                    
                    if (settings.backup_frequency) {
                        const frequencyInput = document.getElementById('backupFrequency');
                        if (frequencyInput) frequencyInput.value = settings.backup_frequency.value || 'weekly';
                    }
                }
            } catch (error) {
                console.warn('‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ:', error.message);
                // ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á notification ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏≤‡∏à‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
            }
        }

        async function loadUsersData() {
            try {
                const response = await fetch('../api_users.php', {
                    method: 'GET',
                    credentials: 'include'
                });
                
                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Content-Type
                const contentType = response.headers.get('content-type');
                const responseText = await response.text();
                
                if (!contentType || !contentType.includes('application/json')) {
                    console.error('‚ùå API ‡∏™‡πà‡∏á HTML ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ (api_users.php):');
                    console.error(responseText.substring(0, 1000));
                    showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Console');
                    return;
                }
                
                const result = JSON.parse(responseText);
                
                if (result.success && result.data) {
                    displayUsersData(result.data.users || []);
                } else {
                    showNotification('error', result.message || '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ');
                }
            } catch (error) {
                console.error('‚ùå Load users error:', error.message);
                showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ');
            }
        }

        function displayUsersData(users) {
            const tbody = document.getElementById('usersTableBody');
            if (!tbody) return;

            if (!users || users.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" class="text-center text-muted py-4"><i class="fas fa-users me-2"></i>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</td></tr>';
                return;
            }

            const html = users.map(user => `
                <tr>
                    <td>
                        <div class="d-flex align-items-center">
                            <div class="avatar-circle me-2" style="width: 32px; height: 32px; background: linear-gradient(135deg, #00858A, #006B70); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.75rem; font-weight: 600;">
                                ${(user.full_name || user.username || '?').charAt(0).toUpperCase()}
                            </div>
                            <div>
                                <div style="font-weight: 600;">${user.full_name || '-'}</div>
                                <small class="text-muted">@${user.username || '-'}</small>
                            </div>
                        </div>
                    </td>
                    <td>${user.email || '-'}</td>
                    <td>
                        <span class="badge bg-${getRoleBadgeColor(user.role)}" style="padding: 0.35rem 0.75rem;">
                            <i class="fas ${getRoleIcon(user.role)} me-1"></i>${getRoleText(user.role)}
                        </span>
                    </td>
                    <td>
                        <span class="badge bg-${user.status === 'active' ? 'success' : 'secondary'}" style="padding: 0.35rem 0.75rem;">
                            <i class="fas fa-circle me-1" style="font-size: 0.5rem;"></i>${user.status === 'active' ? '‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô' : '‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô'}
                        </span>
                    </td>
                    <td>
                        <div class="btn-group btn-group-sm">
                            <button class="btn btn-outline-primary" onclick="editUser(${user.id})" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" style="border-radius: 6px 0 0 6px;">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-outline-danger" onclick="deleteUser(${user.id}, '${user.username}')" title="‡∏•‡∏ö" style="border-radius: 0 6px 6px 0;">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');

            tbody.innerHTML = html;
        }

        function getRoleIcon(role) {
            switch(role) {
                case 'admin': return 'fa-shield-alt';
                case 'staff': return 'fa-user-tie';
                case 'driver': return 'fa-id-card';
                default: return 'fa-user';
            }
        }

        function getRoleText(role) {
            switch(role) {
                case 'admin': return '‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö';
                case 'staff': return '‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà';
                case 'driver': return '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ';
                default: return role || '-';
            }
        }

        function getRoleBadgeColor(role) {
            switch(role) {
                case 'admin': return 'danger';
                case 'staff': return 'warning';
                case 'driver': return 'info';
                default: return 'secondary';
            }
        }

        async function loadLogsData() {
            try {
                const response = await fetch('../api_system_logs.php?limit=50', {
                    method: 'GET',
                    credentials: 'include'
                });
                
                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Content-Type
                const contentType = response.headers.get('content-type');
                const responseText = await response.text();
                
                if (!contentType || !contentType.includes('application/json')) {
                    console.error('‚ùå API ‡∏™‡πà‡∏á HTML ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ (api_system_logs.php):');
                    console.error(responseText.substring(0, 1000));
                    showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏∞‡∏ö‡∏ö - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Console');
                    return;
                }
                
                const result = JSON.parse(responseText);
                
                if (result.success && result.data) {
                    displayLogsData(result.data.logs || []);
                } else {
                    showNotification('error', result.message || '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ');
                }
            } catch (error) {
                console.error('‚ùå Load logs error:', error.message);
                showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏∞‡∏ö‡∏ö');
            }
        }

        function displayLogsData(logs) {
            const tbody = document.getElementById('logsTableBody');
            if (!tbody) return;

            if (!logs || logs.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" class="text-center text-muted py-4"><i class="fas fa-file-alt me-2"></i>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</td></tr>';
                return;
            }

            const html = logs.map(log => {
                const actionColor = getActionColor(log.action);
                const actionIcon = getActionIcon(log.action);
                
                return `
                <tr style="transition: background-color 0.2s;">
                    <td style="white-space: nowrap;">
                        <small class="text-muted">
                            <i class="far fa-clock me-1"></i>${formatDateTime(log.created_at)}
                        </small>
                    </td>
                    <td>
                        <span class="badge bg-light text-dark border">
                            <i class="fas fa-user me-1"></i>${log.username || '-'}
                        </span>
                    </td>
                    <td>
                        <span class="badge bg-${actionColor}" style="padding: 0.35rem 0.75rem;">
                            <i class="fas ${actionIcon} me-1"></i>${formatAction(log.action)}
                        </span>
                    </td>
                    <td style="max-width: 300px;">
                        <small>${log.description || '-'}</small>
                    </td>
                </tr>
            `;
            }).join('');

            tbody.innerHTML = html;
        }

        function formatDateTime(datetime) {
            if (!datetime) return '-';
            const date = new Date(datetime);
            return date.toLocaleDateString('th-TH', {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        function getActionColor(action) {
            if (!action) return 'secondary';
            if (action.includes('login')) return 'success';
            if (action.includes('logout')) return 'info';
            if (action.includes('delete') || action.includes('remove')) return 'danger';
            if (action.includes('create') || action.includes('add')) return 'primary';
            if (action.includes('update') || action.includes('edit')) return 'warning';
            if (action.includes('backup')) return 'purple';
            return 'secondary';
        }

        function getActionIcon(action) {
            if (!action) return 'fa-circle';
            if (action.includes('login')) return 'fa-sign-in-alt';
            if (action.includes('logout')) return 'fa-sign-out-alt';
            if (action.includes('delete')) return 'fa-trash';
            if (action.includes('create') || action.includes('add')) return 'fa-plus';
            if (action.includes('update') || action.includes('edit')) return 'fa-edit';
            if (action.includes('backup')) return 'fa-database';
            if (action.includes('cleared')) return 'fa-broom';
            return 'fa-circle';
        }

        function formatAction(action) {
            if (!action) return '-';
            // ‡πÅ‡∏õ‡∏•‡∏á‡∏à‡∏≤‡∏Å snake_case ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
            return action.split('_').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1)
            ).join(' ');
        }

        function addNewUser() {
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
            const modalHTML = `
                <div class="modal fade" id="addUserModal" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header" style="background: linear-gradient(135deg, #00858A, #006B70); color: white;">
                                <h5 class="modal-title">
                                    <i class="fas fa-user-plus me-2"></i>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà
                                </h5>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <form id="addUserForm">
                                    <div class="mb-3">
                                        <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="newUsername" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="newFullName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏• <span class="text-danger">*</span></label>
                                        <input type="email" class="form-control" id="newEmail" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô <span class="text-danger">*</span></label>
                                        <input type="password" class="form-control" id="newPassword" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó <span class="text-danger">*</span></label>
                                        <select class="form-select" id="newRole" required>
                                            <option value="staff">‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</option>
                                            <option value="driver">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ</option>
                                            <option value="admin">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</option>
                                        </select>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                    <i class="fas fa-times me-1"></i>‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                                </button>
                                <button type="button" class="btn btn-primary" onclick="submitNewUser()">
                                    <i class="fas fa-save me-1"></i>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // ‡πÄ‡∏û‡∏¥‡πà‡∏° Modal
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            const modal = new bootstrap.Modal(document.getElementById('addUserModal'));
            modal.show();
            
            // ‡∏•‡∏ö Modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î
            document.getElementById('addUserModal').addEventListener('hidden.bs.modal', function() {
                this.remove();
            });
        }

        async function submitNewUser() {
            const username = document.getElementById('newUsername').value.trim();
            const fullName = document.getElementById('newFullName').value.trim();
            const email = document.getElementById('newEmail').value.trim();
            const password = document.getElementById('newPassword').value;
            const role = document.getElementById('newRole').value;

            if (!username || !fullName || !email || !password) {
                showNotification('warning', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
                return;
            }

            try {
                const response = await fetch('../api_users.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'include',
                    body: JSON.stringify({
                        username,
                        full_name: fullName,
                        email,
                        password,
                        role
                    })
                });

                const result = await response.json();

                if (result.success) {
                    showNotification('success', '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                    bootstrap.Modal.getInstance(document.getElementById('addUserModal')).hide();
                    loadUsersData(); // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
                } else {
                    showNotification('error', result.message || '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
                }
            } catch (error) {
                console.error('Add user error:', error);
                showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ');
            }
        }

        async function editUser(userId) {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ...');
            // TODO: Implement edit user modal
        }

        async function deleteUser(userId, username) {
            if (!confirm(`‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ "${username}" ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`)) {
                return;
            }

            try {
                const response = await fetch('../api_users.php', {
                    method: 'DELETE',
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'include',
                    body: JSON.stringify({ user_id: userId })
                });

                const result = await response.json();

                if (result.success) {
                    showNotification('success', '‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                    loadUsersData(); // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
                } else {
                    showNotification('error', result.message || '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
                }
            } catch (error) {
                console.error('Delete user error:', error);
                showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ');
            }
        }

        async function createBackup() {
            // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
            const btn = event.target;
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏≠‡∏á...';
            btn.disabled = true;

            try {
                const response = await fetch('../api_backup.php', {
                    method: 'POST',
                    credentials: 'include'
                });

                const result = await response.json();

                if (result.success) {
                    showNotification('success', `‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ${result.data.filename} (${result.data.size_mb} MB)`);
                    
                    // ‡πÅ‡∏™‡∏î‡∏á Modal ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
                    if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                        window.location.href = `../backups/${result.data.filename}`;
                    }
                } else {
                    showNotification('error', result.message || '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏≠‡∏á');
                }
            } catch (error) {
                console.error('Backup error:', error);
                showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏≠‡∏á');
            } finally {
                btn.innerHTML = originalHTML;
                btn.disabled = false;
            }
        }

        async function clearLogs() {
            const daysToKeep = prompt('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:', '90');
            
            if (!daysToKeep || isNaN(daysToKeep)) {
                return;
            }

            if (!confirm(`‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ ${daysToKeep} ‡∏ß‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`)) {
                return;
            }

            try {
                const response = await fetch('../api_system_logs.php', {
                    method: 'DELETE',
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'include',
                    body: JSON.stringify({ days_to_keep: parseInt(daysToKeep) })
                });

                const result = await response.json();

                if (result.success) {
                    showNotification('success', `‡∏•‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ${result.data.deleted_count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
                    loadLogsData(); // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
                } else {
                    showNotification('error', result.message || '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
                }
            } catch (error) {
                console.error('Clear logs error:', error);
                showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å');
            }
        }

        async function exportLogs() {
            try {
                const response = await fetch('../api_system_logs.php?export=csv', {
                    method: 'GET',
                    credentials: 'include'
                });

                const result = await response.json();

                if (result.success && result.data.csv_data) {
                    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå CSV ‡πÅ‡∏•‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î
                    const blob = new Blob([result.data.csv_data], { type: 'text/csv;charset=utf-8;' });
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(blob);
                    link.download = `system_logs_${new Date().toISOString().slice(0, 10)}.csv`;
                    link.click();
                    
                    showNotification('success', `‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ${result.data.total_records} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
                } else {
                    showNotification('error', result.message || '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
                }
            } catch (error) {
                console.error('Export logs error:', error);
                showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å');
            }
        }

        async function saveSystemSettings() {
            // ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
            const settings = {
                site_name: document.getElementById('siteName')?.value,
                maintenance_mode: document.getElementById('maintenanceMode')?.checked,
                debug_mode: document.getElementById('debugMode')?.checked,
                maintenance_message: document.getElementById('maintenanceMessage')?.value,
                email_notifications: document.getElementById('emailNotifications')?.checked,
                push_notifications: document.getElementById('pushNotifications')?.checked,
                booking_notifications: document.getElementById('bookingNotifications')?.checked,
                maintenance_notifications: document.getElementById('maintenanceNotifications')?.checked,
                system_notifications: document.getElementById('systemNotifications')?.checked,
                session_timeout: document.getElementById('sessionTimeout')?.value,
                max_login_attempts: document.getElementById('maxLoginAttempts')?.value,
                password_min_length: document.getElementById('passwordMinLength')?.value,
                require_special_chars: document.getElementById('requireSpecialChars')?.checked,
                auto_backup: document.getElementById('autoBackup')?.checked,
                backup_frequency: document.getElementById('backupFrequency')?.value
            };

            try {
                const response = await fetch('../api_system_settings.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'include',
                    body: JSON.stringify({ settings })
                });

                const result = await response.json();

                if (result.success) {
                    showNotification('success', '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                } else {
                    showNotification('error', result.message || '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
                }
            } catch (error) {
                console.error('Save settings error:', error);
                showNotification('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤');
            }
        }

        /**
         * üö™ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö (Logout)
         * - ‡πÅ‡∏™‡∏î‡∏á Modal ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
         * - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API logout
         * - ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• localStorage, sessionStorage
         * - Redirect ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ login
         */
        async function logout() {
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á Modal ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°
            const modalHtml = `
                <div id="logoutModal" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0, 0, 0, 0.5);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 9999;
                    animation: fadeIn 0.3s ease;
                ">
                    <div style="
                        background: white;
                        border-radius: 16px;
                        padding: 2rem;
                        max-width: 400px;
                        width: 90%;
                        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                        animation: slideInUp 0.3s ease;
                    ">
                        <div style="text-align: center; margin-bottom: 1.5rem;">
                            <div style="
                                width: 80px;
                                height: 80px;
                                background: linear-gradient(135deg, #dc3545, #c82333);
                                border-radius: 50%;
                                display: inline-flex;
                                align-items: center;
                                justify-content: center;
                                margin-bottom: 1rem;
                            ">
                                <i class="fas fa-sign-out-alt" style="font-size: 2.5rem; color: white;"></i>
                            </div>
                            <h3 style="color: #2c3e50; margin: 0 0 0.5rem 0; font-size: 1.5rem;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</h3>
                            <p style="color: #6c757d; margin: 0; font-size: 1rem;">‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>
                        </div>
                        <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                            <button onclick="cancelLogout()" style="
                                flex: 1;
                                padding: 0.75rem 1.5rem;
                                border: 2px solid #e9ecef;
                                background: white;
                                color: #495057;
                                border-radius: 8px;
                                font-size: 1rem;
                                font-weight: 600;
                                cursor: pointer;
                                transition: all 0.2s;
                            " onmouseover="this.style.background='#f8f9fa'" onmouseout="this.style.background='white'">
                                <i class="fas fa-times"></i> ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                            </button>
                            <button onclick="confirmLogout()" style="
                                flex: 1;
                                padding: 0.75rem 1.5rem;
                                border: none;
                                background: linear-gradient(135deg, #dc3545, #c82333);
                                color: white;
                                border-radius: 8px;
                                font-size: 1rem;
                                font-weight: 600;
                                cursor: pointer;
                                transition: all 0.2s;
                            " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(220,53,69,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                                <i class="fas fa-sign-out-alt"></i> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            // ‡πÄ‡∏û‡∏¥‡πà‡∏° Modal ‡∏•‡∏á‡πÉ‡∏ô body
            const modalContainer = document.createElement('div');
            modalContainer.innerHTML = modalHtml;
            document.body.appendChild(modalContainer);
            
            // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ scroll
            document.body.style.overflow = 'hidden';
        }
        
        /**
         * ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
         */
        function cancelLogout() {
            const modal = document.getElementById('logoutModal');
            if (modal) {
                modal.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => {
                    modal.remove();
                    document.body.style.overflow = '';
                }, 300);
            }
        }
        
        /**
         * ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
         */
        async function confirmLogout() {
            const modal = document.getElementById('logoutModal');
            
            try {
                // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î
                if (modal) {
                    const modalContent = modal.querySelector('div > div');
                    modalContent.innerHTML = `
                        <div style="text-align: center; padding: 2rem;">
                            <div class="spinner-border text-danger" role="status" style="width: 3rem; height: 3rem; margin-bottom: 1rem;">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <p style="color: #6c757d; margin: 0; font-size: 1.1rem;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö...</p>
                        </div>
                    `;
                }
                
                // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API logout
                const response = await fetch('../api/auth/logout.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    credentials: 'include'
                });
                
                const data = await response.json();
                
                // ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå localStorage ‡πÅ‡∏•‡∏∞ sessionStorage
                localStorage.clear();
                sessionStorage.clear();
                
                // ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
                showNotification('success', '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                
                // Redirect ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ login ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 1000);
                
            } catch (error) {
                console.error('Logout error:', error);
                
                // ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î error ‡∏Å‡πá‡∏¢‡∏±‡∏á‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞ redirect
                localStorage.clear();
                sessionStorage.clear();
                
                showNotification('warning', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö...');
                
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 1000);
            }
        }
        
        /**
         * Alias ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö user menu - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ logout modal
         */
        function handleLogout(event) {
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ auto-logout system ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
            if (window.AutoLogoutSystem && typeof window.AutoLogoutSystem.logout === 'function') {
                console.log('üîÑ Using AutoLogoutSystem.logout');
                window.AutoLogoutSystem.logout();
            } else {
                console.log('üîÑ Using manual logout');
                logout();
            }
        }

        // Expose logout and handleLogout globally
        window.logout = logout;
        window.handleLogout = handleLogout;
        window.cancelLogout = cancelLogout;
        window.confirmLogout = confirmLogout;
        window.fetchOpduerUser = fetchOpduerUser;
        window.applyOpduerRoleVisibility = applyOpduerRoleVisibility;
        window.updateUserInfo = updateUserInfo; // Expose for user-dropdown.js

        // Vehicle Logs Functions
        async function saveVehicleLog(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const logData = Object.fromEntries(formData);

            // Calculate distance automatically
            const mileageOut = parseFloat(logData.logMileageOut) || 0;
            const mileageIn = parseFloat(logData.logMileageIn) || 0;
            if (mileageIn > 0 && mileageOut > 0) {
                const distance = mileageIn - mileageOut;
                document.getElementById('logDistance').value = distance;
                logData.logDistance = distance;
            }

            // Validate data
            if (!logData.logVehicleId || !logData.logDriverId || !logData.logDate) {
                showNotification('danger', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
                return;
            }

            // Real API call
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...');
            try {
                const response = await fetchWithAuth('../api/vehicle_logs.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        vehicle_id: logData.logVehicleId,
                        driver_id: logData.logDriverId,
                        booking_id: logData.logBookingId || null,
                        date: logData.logDate,
                        time_out: logData.logTimeOut,
                        time_in: logData.logTimeIn || null,
                        destination: logData.logDestination,
                        purpose: logData.logPurpose,
                        mileage_out: logData.logMileageOut,
                        mileage_in: logData.logMileageIn || null,
                        distance: logData.logDistance || null,
                        passengers: logData.logPassengers || 0,
                        notes: logData.logNotes || '',
                        status: logData.logStatus || '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô'
                    })
                });

                const result = await response.json();
                
                if (result.success) {
                    showNotification('success', result.message || '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                    closeModal('vehicleLogModal');
                    loadVehicleLogs(); // Refresh table
                    event.target.reset(); // Reset form
                } else {
                    showNotification('danger', result.message || '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å');
                }
            } catch (error) {
                console.error('Error saving vehicle log:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API');
            }
        }

        async function viewVehicleLog(logId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ${logId}...`);
            try {
                const response = await fetchWithAuth(`../api/vehicle_logs.php?id=${logId}`, {
                    method: 'GET'
                });
                const result = await response.json();
                
                if (result.success && result.data) {
                    // Show details in a modal or alert
                    const log = result.data;
                    const details = `
‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å: ${log.id}
‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå: ${log.vehicle_license_plate || log.vehicle_id}
‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ: ${log.driver_name || log.driver_id}
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${log.date}
‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å: ${log.time_out} | ‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏±‡∏ö: ${log.time_in || '-'}
‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢: ${log.destination}
‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå: ${log.purpose}
‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á: ${log.distance || '-'} ‡∏Å‡∏°.
‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ${log.status}
                    `;
                    alert(details);
                    showNotification('success', '‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                } else {
                    showNotification('warning', result.message || '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                }
            } catch (error) {
                console.error('Error loading vehicle log:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
            }
        }

        async function editVehicleLog(logId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ${logId}...`);
            try {
                const response = await fetchWithAuth(`../api/vehicle_logs.php?id=${logId}`, {
                    method: 'GET'
                });
                const result = await response.json();
                
                if (result.success && result.data) {
                    const log = result.data;
                    // Populate form with existing data
                    document.getElementById('logVehicleId').value = log.vehicle_id;
                    document.getElementById('logDriverId').value = log.driver_id;
                    document.getElementById('logBookingId').value = log.booking_id || '';
                    document.getElementById('logDate').value = log.date;
                    document.getElementById('logTimeOut').value = log.time_out;
                    document.getElementById('logTimeIn').value = log.time_in || '';
                    document.getElementById('logDestination').value = log.destination;
                    document.getElementById('logPurpose').value = log.purpose;
                    document.getElementById('logMileageOut').value = log.mileage_out;
                    document.getElementById('logMileageIn').value = log.mileage_in || '';
                    document.getElementById('logDistance').value = log.distance || '';
                    document.getElementById('logPassengers').value = log.passengers;
                    document.getElementById('logNotes').value = log.notes || '';
                    document.getElementById('logStatus').value = log.status;
                    
                    // Store log ID for update
                    document.getElementById('vehicleLogForm').dataset.logId = logId;
                    
                    openModal('vehicleLogModal');
                    showNotification('success', '‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                } else {
                    showNotification('warning', result.message || '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                }
            } catch (error) {
                console.error('Error loading vehicle log:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
            }
        }

        async function completeVehicleLog(logId) {
            showNotification('info', `‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏±‡∏ö‡∏ñ‡∏∂‡∏á...`);
            try {
                const response = await fetchWithAuth(`../api/vehicle_logs.php?id=${logId}`, {
                    method: 'GET'
                });
                const result = await response.json();
                
                if (result.success && result.data) {
                    const log = result.data;
                    // Populate form for completion
                    document.getElementById('logVehicleId').value = log.vehicle_id;
                    document.getElementById('logDriverId').value = log.driver_id;
                    document.getElementById('logDate').value = log.date;
                    document.getElementById('logTimeOut').value = log.time_out;
                    document.getElementById('logDestination').value = log.destination;
                    document.getElementById('logPurpose').value = log.purpose;
                    document.getElementById('logMileageOut').value = log.mileage_out;
                    
                    // Set current time and date for return
                    const now = new Date();
                    document.getElementById('logTimeIn').value = now.toTimeString().slice(0, 5);
                    document.getElementById('logStatus').value = '‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå';
                    
                    // Store log ID for update
                    document.getElementById('vehicleLogForm').dataset.logId = logId;
                    
                    openModal('vehicleLogModal');
                    showNotification('success', '‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏±‡∏ö');
                } else {
                    showNotification('warning', result.message || '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                }
            } catch (error) {
                console.error('Error loading vehicle log:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
            }
        }

        function printVehicleLog(logId) {
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ${logId}...`);
            window.open(`../api/vehicle_logs.php?id=${logId}&action=print`, '_blank');
            showNotification('success', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå...`);
        }

        async function exportVehicleLogs() {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô Excel...');
            try {
                // Fetch data from API
                const response = await fetchWithAuth('../api/vehicle_logs.php', {
                    method: 'GET'
                });
                const result = await response.json();
                
                if (result.success && result.data) {
                    // Prepare data for Excel
                    const data = result.data.map((log, index) => ({
                        '‡∏•‡∏≥‡∏î‡∏±‡∏ö': index + 1,
                        '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà': log.date,
                        '‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ': log.vehicle_license_plate || log.vehicle_id,
                        '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ': log.driver_name || log.driver_id,
                        '‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢': log.destination,
                        '‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå': log.purpose,
                        '‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å': log.time_out,
                        '‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏±‡∏ö': log.time_in || '-',
                        '‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (‡∏Å‡∏°.)': log.distance || '-',
                        '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£': log.passengers || 0,
                        '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞': log.status
                    }));
                    
                    // Create worksheet
                    const ws = XLSX.utils.json_to_sheet(data);
                    const wb = XLSX.utils.book_new();
                    XLSX.utils.book_append_sheet(wb, ws, '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå');
                    
                    // Generate file
                    const filename = `vehicle_logs_${new Date().toISOString().slice(0, 10)}.xlsx`;
                    XLSX.writeFile(wb, filename);
                    
                    showNotification('success', '‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                } else {
                    showNotification('warning', '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å');
                }
            } catch (error) {
                console.error('Error exporting vehicle logs:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
            }
        }

        // Load Vehicle Logs Table
        async function loadVehicleLogs() {
            try {
                const response = await fetchWithAuth('../api/vehicle_logs.php', {
                    method: 'GET'
                });
                const result = await response.json();
                
                if (result.success && result.data) {
                    const tbody = document.querySelector('#vehicleLogsTable tbody');
                    if (tbody) {
                        tbody.innerHTML = '';
                        result.data.forEach((log, index) => {
                            const row = `
                                <tr>
                                    <td>${index + 1}</td>
                                    <td>${log.date}</td>
                                    <td>${log.vehicle_license_plate || log.vehicle_id}</td>
                                    <td>${log.driver_name || log.driver_id}</td>
                                    <td>${log.destination}</td>
                                    <td>${log.purpose}</td>
                                    <td>${log.time_out}</td>
                                    <td>${log.time_in || '-'}</td>
                                    <td>${log.distance || '-'} ‡∏Å‡∏°.</td>
                                    <td><span class="badge bg-${log.status === '‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå' ? 'success' : 'warning'}">${log.status}</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-info" onclick="viewVehicleLog(${log.id})" title="‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-warning" onclick="editVehicleLog(${log.id})" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        ${log.status === '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô' ? `
                                        <button class="btn btn-sm btn-success" onclick="completeVehicleLog(${log.id})" title="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏±‡∏ö">
                                            <i class="fas fa-check"></i>
                                        </button>` : ''}
                                        <button class="btn btn-sm btn-secondary" onclick="printVehicleLog(${log.id})" title="‡∏û‡∏¥‡∏°‡∏û‡πå">
                                            <i class="fas fa-print"></i>
                                        </button>
                                    </td>
                                </tr>
                            `;
                            tbody.innerHTML += row;
                        });
                    }
                }
            } catch (error) {
                console.error('Error loading vehicle logs:', error);
            }
        }

        // Vehicle History Functions
        async function filterHistoryByVehicle(vehicleId) {
            if (vehicleId) {
                showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ ${vehicleId}...`);
            } else {
                showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏±‡∏ô...');
            }
            
            try {
                const params = vehicleId ? `?vehicle_id=${vehicleId}` : '';
                const response = await fetchWithAuth(`../api/vehicle_logs.php${params}`, {
                    method: 'GET'
                });
                const result = await response.json();
                
                if (result.success && result.data) {
                    // Update history display
                    updateHistoryDisplay(result.data);
                    showNotification('success', '‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                } else {
                    showNotification('warning', '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                }
            } catch (error) {
                console.error('Error filtering history by vehicle:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
            }
        }

        async function filterHistoryByPeriod(period) {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤...');
            
            try {
                let startDate = new Date();
                switch (period) {
                    case '7days':
                        startDate.setDate(startDate.getDate() - 7);
                        break;
                    case '30days':
                        startDate.setDate(startDate.getDate() - 30);
                        break;
                    case '3months':
                        startDate.setMonth(startDate.getMonth() - 3);
                        break;
                    case '1year':
                        startDate.setFullYear(startDate.getFullYear() - 1);
                        break;
                    default:
                        startDate = null;
                }
                
                const params = startDate ? `?start_date=${startDate.toISOString().slice(0, 10)}` : '';
                const response = await fetchWithAuth(`../api/vehicle_logs.php${params}`, {
                    method: 'GET'
                });
                const result = await response.json();
                
                if (result.success && result.data) {
                    updateHistoryDisplay(result.data);
                    showNotification('success', '‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                } else {
                    showNotification('warning', '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                }
            } catch (error) {
                console.error('Error filtering history by period:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
            }
        }

        function updateHistoryDisplay(data) {
            // Update KPI cards
            const totalTrips = data.length;
            const totalDistance = data.reduce((sum, log) => sum + (parseFloat(log.distance) || 0), 0);
            const totalHours = data.reduce((sum, log) => {
                if (log.time_out && log.time_in) {
                    const timeOut = new Date(`2000-01-01 ${log.time_out}`);
                    const timeIn = new Date(`2000-01-01 ${log.time_in}`);
                    const hours = (timeIn - timeOut) / (1000 * 60 * 60);
                    return sum + (hours > 0 ? hours : 0);
                }
                return sum;
            }, 0);
            
            // Update timeline
            const timeline = document.querySelector('#vehicleHistoryTimeline');
            if (timeline) {
                timeline.innerHTML = '';
                data.slice(0, 30).forEach(log => {
                    const item = `
                        <div class="timeline-item">
                            <div class="timeline-marker"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">${log.date} ${log.time_out}</div>
                                <div class="timeline-title">${log.destination}</div>
                                <div class="timeline-description">
                                    ${log.vehicle_license_plate || log.vehicle_id} - ${log.driver_name || log.driver_id}
                                    <br>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå: ${log.purpose}
                                    <br>‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á: ${log.distance || '-'} ‡∏Å‡∏°.
                                </div>
                            </div>
                        </div>
                    `;
                    timeline.innerHTML += item;
                });
            }
        }

        async function exportHistory() {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô PDF...');
            try {
                // Fetch data from API
                const response = await fetchWithAuth('../api/vehicle_logs.php', {
                    method: 'GET'
                });
                const result = await response.json();
                
                if (result.success && result.data) {
                    // Initialize jsPDF
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF();
                    
                    // Add Thai font (Note: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Thai font ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á)
                    // For now, using default font
                    
                    // Add header
                    doc.setFontSize(16);
                    doc.text('‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå', 105, 15, { align: 'center' });
                    doc.setFontSize(12);
                    doc.text('‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏£‡∏∞‡πÉ‡∏Ñ‡∏£', 105, 22, { align: 'center' });
                    doc.setFontSize(10);
                    doc.text(`‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏¥‡∏°‡∏û‡πå: ${new Date().toLocaleDateString('th-TH')}`, 105, 28, { align: 'center' });
                    
                    // Prepare table data
                    const tableData = result.data.map((log, index) => [
                        index + 1,
                        log.date,
                        log.vehicle_license_plate || log.vehicle_id,
                        log.driver_name || log.driver_id,
                        log.destination,
                        log.distance || '-',
                        log.status
                    ]);
                    
                    // Add table
                    doc.autoTable({
                        head: [['#', '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà', '‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô', '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô', '‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢', '‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á', '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞']],
                        body: tableData,
                        startY: 35,
                        theme: 'grid',
                        headStyles: { fillColor: [0, 133, 138] }, // MOPH Green
                        styles: { font: 'helvetica', fontSize: 8 }
                    });
                    
                    // Save PDF
                    const filename = `vehicle_history_${new Date().toISOString().slice(0, 10)}.pdf`;
                    doc.save(filename);
                    
                    showNotification('success', '‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                } else {
                    showNotification('warning', '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å');
                }
            } catch (error) {
                console.error('Error exporting history:', error);
                showNotification('danger', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô');
            }
        }

        // Auto-calculate distance when mileage changes
        document.addEventListener('DOMContentLoaded', function() {
            const mileageOutInput = document.getElementById('logMileageOut');
            const mileageInInput = document.getElementById('logMileageIn');
            const distanceInput = document.getElementById('logDistance');

            if (mileageOutInput && mileageInInput && distanceInput) {
                const calculateDistance = () => {
                    const mileageOut = parseFloat(mileageOutInput.value) || 0;
                    const mileageIn = parseFloat(mileageInInput.value) || 0;
                    if (mileageIn > 0 && mileageOut > 0 && mileageIn > mileageOut) {
                        distanceInput.value = mileageIn - mileageOut;
                    } else {
                        distanceInput.value = '';
                    }
                };

                mileageOutInput.addEventListener('input', calculateDistance);
                mileageInInput.addEventListener('input', calculateDistance);
            }
        });

        // Dashboard Functions
        function refreshDashboard() {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...');
            
            // Simulate data refresh with animation
            const kpiCards = document.querySelectorAll('.kpi-card, .status-card, .performance-card');
            kpiCards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '0.5';
                    setTimeout(() => {
                        card.style.opacity = '1';
                    }, 200);
                }, index * 50);
            });

            // Update timestamp
            setTimeout(() => {
                showNotification('success', '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß');
            }, 1500);
        }

        // Initialize dashboard on load
        document.addEventListener('DOMContentLoaded', function() {
            // Add smooth animations to KPI cards
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            document.querySelectorAll('.kpi-card, .status-card, .performance-card, .alert-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });

            // Time filter change handler
            const timeFilter = document.getElementById('timeFilter');
            if (timeFilter) {
                timeFilter.addEventListener('change', function() {
                    showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•${this.options[this.selectedIndex].text}...`);
                    setTimeout(() => {
                        refreshDashboard();
                    }, 500);
                });
            }

            // Initialize charts
            initializeCharts();
            initializeHeatmap();
            initializeSearch();
        });

        // Chart initialization functions
        function initializeCharts() {
            // Usage Trend Chart (Line Chart)
            const usageTrendCtx = document.getElementById('usageTrendChart');
            if (usageTrendCtx) {
                new Chart(usageTrendCtx, {
                    type: 'line',
                    data: {
                        labels: ['‡∏°.‡∏Ñ.', '‡∏Å.‡∏û.', '‡∏°‡∏µ.‡∏Ñ.', '‡πÄ‡∏°.‡∏¢.', '‡∏û.‡∏Ñ.', '‡∏°‡∏¥.‡∏¢.'],
                        datasets: [{
                            label: '‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
                            data: [120, 135, 110, 145, 160, 155],
                            borderColor: '#00858A',
                            backgroundColor: 'rgba(0, 133, 138, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // Department Usage Chart (Bar Chart)
            const departmentUsageCtx = document.getElementById('departmentUsageChart');
            if (departmentUsageCtx) {
                new Chart(departmentUsageCtx, {
                    type: 'bar',
                    data: {
                        labels: ['‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå', '‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•', '‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô', '‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£', '‡πÄ‡∏†‡∏™‡∏±‡∏ä', '‡∏£‡∏±‡∏á‡∏™‡∏µ'],
                        datasets: [{
                            label: '‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
                            data: [45, 38, 52, 28, 22, 35],
                            backgroundColor: [
                                '#00858A',
                                '#28a745',
                                '#ffc107',
                                '#17a2b8',
                                '#6f42c1',
                                '#fd7e14'
                            ],
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // Vehicle Status Chart (Pie Chart)
            const vehicleStatusCtx = document.getElementById('vehicleStatusChart');
            if (vehicleStatusCtx) {
                new Chart(vehicleStatusCtx, {
                    type: 'pie',
                    data: {
                        labels: ['‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô', '‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á'],
                        datasets: [{
                            data: [60, 20, 20],
                            backgroundColor: [
                                '#28a745',
                                '#ffc107',
                                '#dc3545'
                            ],
                            borderWidth: 2,
                            borderColor: '#fff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    usePointStyle: true
                                }
                            }
                        }
                    }
                });
            }

            // Fuel Type Chart (Doughnut Chart)
            const fuelTypeCtx = document.getElementById('fuelTypeChart');
            if (fuelTypeCtx) {
                new Chart(fuelTypeCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 91', '‡πÄ‡∏ö‡∏ô‡∏ã‡∏¥‡∏ô 95', '‡∏î‡∏µ‡πÄ‡∏ã‡∏•', '‡πÅ‡∏Å‡πä‡∏™ NGV'],
                        datasets: [{
                            data: [40, 20, 30, 10],
                            backgroundColor: [
                                '#00858A',
                                '#17a2b8',
                                '#ffc107',
                                '#6f42c1'
                            ],
                            borderWidth: 2,
                            borderColor: '#fff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    usePointStyle: true
                                }
                            }
                        }
                    }
                });
            }

            // Maintenance Cost Chart (Area Chart)
            const maintenanceCostCtx = document.getElementById('maintenanceCostChart');
            if (maintenanceCostCtx) {
                new Chart(maintenanceCostCtx, {
                    type: 'line',
                    data: {
                        labels: ['‡∏°.‡∏Ñ.', '‡∏Å.‡∏û.', '‡∏°‡∏µ.‡∏Ñ.', '‡πÄ‡∏°.‡∏¢.', '‡∏û.‡∏Ñ.', '‡∏°‡∏¥.‡∏¢.'],
                        datasets: [{
                            label: '‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡∏ö‡∏≤‡∏ó)',
                            data: [15000, 22000, 18000, 25000, 20000, 28000],
                            borderColor: '#dc3545',
                            backgroundColor: 'rgba(220, 53, 69, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return value.toLocaleString() + ' ‡∏ø';
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
        }

        // Heatmap initialization
        function initializeHeatmap() {
            const heatmapCells = document.querySelector('.heatmap-cells');
            if (heatmapCells) {
                // Generate random heatmap data
                const intensities = [
                    '#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196127'
                ];
                
                for (let day = 0; day < 7; day++) {
                    for (let hour = 0; hour < 7; hour++) {
                        const cell = document.createElement('div');
                        cell.className = 'heatmap-cell';
                        const intensity = Math.floor(Math.random() * 5);
                        cell.style.backgroundColor = intensities[intensity];
                        cell.title = `${['‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', '‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', '‡∏û‡∏∏‡∏ò', '‡∏û‡∏§‡∏´‡∏±‡∏™', '‡∏®‡∏∏‡∏Å‡∏£', '‡πÄ‡∏™‡∏≤‡∏£‡πå', '‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå'][day]} ${6 + hour * 2}:00 - ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô: ${intensity + 1}/5`;
                        heatmapCells.appendChild(cell);
                    }
                }

                // Heatmap button handlers
                document.querySelectorAll('.heatmap-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        document.querySelectorAll('.heatmap-btn').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•${this.textContent}...`);
                        // Regenerate heatmap data
                        setTimeout(() => {
                            heatmapCells.innerHTML = '';
                            for (let day = 0; day < 7; day++) {
                                for (let hour = 0; hour < 7; hour++) {
                                    const cell = document.createElement('div');
                                    cell.className = 'heatmap-cell';
                                    const intensity = Math.floor(Math.random() * 5);
                                    cell.style.backgroundColor = intensities[intensity];
                                    cell.title = `${['‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', '‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', '‡∏û‡∏∏‡∏ò', '‡∏û‡∏§‡∏´‡∏±‡∏™', '‡∏®‡∏∏‡∏Å‡∏£', '‡πÄ‡∏™‡∏≤‡∏£‡πå', '‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå'][day]} ${6 + hour * 2}:00 - ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô: ${intensity + 1}/5`;
                                    heatmapCells.appendChild(cell);
                                }
                            }
                        }, 500);
                    });
                });
            }
        }

        // Advanced Filters Functions
        function toggleAdvancedFilters() {
            const panel = document.getElementById('advancedFilters');
            panel.classList.toggle('active');
        }

        function applyAdvancedFilters() {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á...');
            
            // Collect filter values
            const departments = Array.from(document.querySelectorAll('input[value="medical"], input[value="nursing"], input[value="emergency"], input[value="admin"]'))
                .filter(cb => cb.checked)
                .map(cb => cb.value);
            
            const vehicleTypes = Array.from(document.querySelectorAll('input[value="sedan"], input[value="suv"], input[value="pickup"], input[value="van"]'))
                .filter(cb => cb.checked)
                .map(cb => cb.value);
            
            const statuses = Array.from(document.querySelectorAll('input[value="available"], input[value="in-use"], input[value="maintenance"]'))
                .filter(cb => cb.checked)
                .map(cb => cb.value);
            
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            
            // Simulate filtering
            setTimeout(() => {
                showNotification('success', `‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß - ‡πÅ‡∏ú‡∏ô‡∏Å: ${departments.length}, ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏ñ: ${vehicleTypes.length}, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ${statuses.length}`);
                refreshDashboard();
                toggleAdvancedFilters();
            }, 1000);
        }

        function resetAdvancedFilters() {
            // Reset all checkboxes to checked
            document.querySelectorAll('.advanced-filters-panel input[type="checkbox"]').forEach(cb => {
                if (cb.value !== 'maintenance') {
                    cb.checked = true;
                } else {
                    cb.checked = false;
                }
            });
            
            // Reset date inputs
            document.getElementById('startDate').value = '';
            document.getElementById('endDate').value = '';
            
            showNotification('info', '‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß');
        }

        function exportDashboard() {
            showNotification('info', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å...');
            
            // Simulate export process
            setTimeout(() => {
                showNotification('success', '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô Excel ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                
                // Create a simple CSV export simulation
                const csvContent = "data:text/csv;charset=utf-8," + 
                    "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•,‡∏à‡∏≥‡∏ô‡∏ß‡∏ô,‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå\n" +
                    "‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î,25,100%\n" +
                    "‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô,15,60%\n" +
                    "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô,5,20%\n" +
                    "‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á,5,20%\n";
                
                const encodedUri = encodeURI(csvContent);
                const link = document.createElement("a");
                link.setAttribute("href", encodedUri);
                link.setAttribute("download", "dashboard_report.csv");
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }, 1500);
        }

        // Search Functions
        function initializeSearch() {
            const searchInput = document.getElementById('globalSearch');
            const searchSuggestions = document.getElementById('searchSuggestions');
            
            // Check if elements exist
            if (!searchInput || !searchSuggestions) {
                console.warn('‚ö†Ô∏è Search elements not found in this page');
                return;
            }
            
            // Sample search data
            const searchData = [
                { type: 'vehicle', text: '‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô ‡∏Å‡∏Ç-1234', category: '‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå' },
                { type: 'vehicle', text: '‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô ‡∏à‡∏â-7890', category: '‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå' },
                { type: 'driver', text: '‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ', category: '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ' },
                { type: 'driver', text: '‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏°‡∏≤‡∏•‡∏µ ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°', category: '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ' },
                { type: 'department', text: '‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå', category: '‡πÅ‡∏ú‡∏ô‡∏Å' },
                { type: 'department', text: '‡πÅ‡∏ú‡∏ô‡∏Å‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•', category: '‡πÅ‡∏ú‡∏ô‡∏Å' },
                { type: 'department', text: '‡πÅ‡∏ú‡∏ô‡∏Å‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô', category: '‡πÅ‡∏ú‡∏ô‡∏Å' }
            ];
            
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                
                if (query.length < 2) {
                    searchSuggestions.classList.remove('active');
                    return;
                }
                
                const filteredData = searchData.filter(item => 
                    item.text.toLowerCase().includes(query)
                );
                
                if (filteredData.length > 0) {
                    searchSuggestions.innerHTML = filteredData.map(item => 
                        `<div class="suggestion-item" onclick="selectSuggestion('${item.text}', '${item.type}')">
                            <strong>${item.text}</strong>
                            <small style="color: #6c757d; margin-left: 0.5rem;">${item.category}</small>
                        </div>`
                    ).join('');
                    searchSuggestions.classList.add('active');
                } else {
                    searchSuggestions.classList.remove('active');
                }
            });
            
            // Hide suggestions when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchSuggestions.contains(e.target)) {
                    searchSuggestions.classList.remove('active');
                }
            });
        }

        function selectSuggestion(text, type) {
            document.getElementById('globalSearch').value = text;
            document.getElementById('searchSuggestions').classList.remove('active');
            
            showNotification('info', `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: ${text}`);
            
            // Simulate search action
            setTimeout(() => {
                showNotification('success', `‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö: ${text}`);
            }, 1000);
        }

        function clearSearch() {
            document.getElementById('globalSearch').value = '';
            document.getElementById('searchSuggestions').classList.remove('active');
            showNotification('info', '‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡πâ‡∏ß');
        }

        // Quick Action Functions
        function quickAddVehicle() {
            showNotification('info', '‡πÄ‡∏õ‡∏¥‡∏î‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå...');
            // Switch to vehicles section
            showSection('vehicles');
            // Open add vehicle modal
            setTimeout(() => {
                openVehicleModal();
            }, 500);
        }

        function quickCreateRequest() {
            showNotification('info', '‡πÄ‡∏õ‡∏¥‡∏î‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡∏ñ...');
            // Switch to requests section
            showSection('requests');
            // Open add request modal
            setTimeout(() => {
                openModal('requestModal');
            }, 500);
        }

        function quickViewReports() {
            showNotification('info', '‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô...');
            // Simulate opening reports
            setTimeout(() => {
                showNotification('success', '‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
            }, 1000);
        }

        // ============================================
        // Dashboard Toggle Functions
        // ============================================
        function toggleDashboardSection(sectionId, toggleElement) {
            const section = document.getElementById(sectionId);
            const isVisible = section.classList.contains('visible');
            
            if (isVisible) {
                section.classList.remove('visible');
                toggleElement.classList.remove('active');
                toggleElement.querySelector('.toggle-switch').classList.remove('active');
            } else {
                section.classList.add('visible');
                toggleElement.classList.add('active');
                toggleElement.querySelector('.toggle-switch').classList.add('active');
            }
        }

        function toggleAllDashboardSections(show) {
            const sections = document.querySelectorAll('.dashboard-section');
            const toggles = document.querySelectorAll('.section-toggle');
            
            sections.forEach(section => {
                if (show) {
                    section.classList.add('visible');
                } else {
                    section.classList.remove('visible');
                }
            });
            
            toggles.forEach(toggle => {
                const toggleSwitch = toggle.querySelector('.toggle-switch');
                if (show) {
                    toggle.classList.add('active');
                    if (toggleSwitch) toggleSwitch.classList.add('active');
                } else {
                    toggle.classList.remove('active');
                    if (toggleSwitch) toggleSwitch.classList.remove('active');
                }
            });
        }

        // ============================================
        // Dashboard Charts Functions
        // ============================================
        let dashboardCharts = {};
        let dashboardDataLoaded = false; // Flag to prevent duplicate loading

        function loadDashboardCharts() {
            // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏ã‡πâ‡∏≥
            if (dashboardDataLoaded) {
                console.log('‚ö†Ô∏è Dashboard data already loaded, skipping...');
                return;
            }
            
            console.log('üìä Loading dashboard data...');
            dashboardDataLoaded = true; // Set flag
            
            // Load vehicle data from real API
            fetch('../api/api_get_dashboard.php')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('‚úÖ Dashboard data loaded:', data);
                    
                    if (data.status === 'success') {
                        const dashData = data.data;
                        
                        // Update stat values with real data with animation
                        animateValue('totalVehicles', 0, dashData.total_vehicles || 0, 1000);
                        animateValue('totalDrivers', 0, dashData.total_drivers || 0, 1000);
                        animateValue('availableVehicles', 0, dashData.available_vehicles || 0, 1000);
                        animateValue('maintenanceVehicles', 0, dashData.maintenance_vehicles || 0, 1000);
                        
                        // Create Vehicle Status Chart (Doughnut)
                        createOrReplaceChart('vehicleStatusChart', 'doughnut', {
                            labels: dashData.status_labels || ['‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô', '‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á'],
                            datasets: [{
                                data: dashData.status_chart || [0, 0, 0],
                                backgroundColor: dashData.status_colors || ['#10b981', '#3b82f6', '#f59e0b'],
                                borderWidth: 0,
                                hoverOffset: 10
                            }]
                        }, {
                            responsive: true,
                            maintainAspectRatio: true,
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                    labels: {
                                        padding: 15,
                                        font: {
                                            family: 'Sarabun',
                                            size: 13
                                        }
                                    }
                                }
                            }
                        });
                        
                        // Create Department Chart (Bar)
                        createOrReplaceChart('departmentChart', 'bar', {
                            labels: dashData.department_labels || [],
                            datasets: [{
                                label: '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
                                data: dashData.department_data || [],
                                backgroundColor: 'rgba(102, 126, 234, 0.8)',
                                borderRadius: 8,
                                hoverBackgroundColor: 'rgba(118, 75, 162, 0.9)'
                            }]
                        }, {
                            responsive: true,
                            maintainAspectRatio: true,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        font: {
                                            family: 'Sarabun'
                                        }
                                    }
                                },
                                x: {
                                    ticks: {
                                        font: {
                                            family: 'Sarabun'
                                        }
                                    }
                                }
                            }
                        });
                        
                        // Create Usage Chart (Line)
                        createOrReplaceChart('usageChart', 'line', {
                            labels: dashData.usage_labels || [],
                            datasets: [{
                                label: '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á',
                                data: dashData.usage_data || [],
                                borderColor: 'rgb(79, 172, 254)',
                                backgroundColor: 'rgba(79, 172, 254, 0.1)',
                                borderWidth: 3,
                                tension: 0.4,
                                fill: true,
                                pointRadius: 5,
                                pointHoverRadius: 7,
                                pointBackgroundColor: 'rgb(79, 172, 254)',
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2
                            }]
                        }, {
                            responsive: true,
                            maintainAspectRatio: true,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        font: {
                                            family: 'Sarabun'
                                        }
                                    }
                                },
                                x: {
                                    ticks: {
                                        font: {
                                            family: 'Sarabun'
                                        }
                                    }
                                }
                            }
                        });
                        
                        console.log('‚úÖ Charts created successfully');
                    } else {
                        throw new Error(data.message || 'Unknown error');
                    }
                })
                .catch(error => {
                    console.error('‚ùå Error loading dashboard data:', error);
                    dashboardDataLoaded = false; // Reset flag on error to allow retry
                    
                    // Set default values on error
                    document.getElementById('totalVehicles').textContent = '0';
                    document.getElementById('totalDrivers').textContent = '0';
                    document.getElementById('availableVehicles').textContent = '0';
                    document.getElementById('maintenanceVehicles').textContent = '0';
                });
        }
        
        // Animate number counting
        function animateValue(id, start, end, duration) {
            const element = document.getElementById(id);
            if (!element) return;
            
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                    current = end;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current);
            }, 16);
        }

        function updateActivitiesList(activities) {
            const activityList = document.querySelector('.activity-list');
            if (!activityList) return;
            
            activityList.innerHTML = '';
            
            activities.slice(0, 4).forEach(activity => {
                const iconClass = activity.type === 'booking' ? 'fa-calendar-check' : 
                                 activity.type === 'maintenance' ? 'fa-tools' : 
                                 activity.type === 'add' ? 'fa-plus-circle' : 'fa-edit';
                
                const iconBg = activity.type === 'booking' ? 'add' : 
                              activity.type === 'maintenance' ? 'maintenance' : 
                              activity.type === 'add' ? 'add' : 'edit';
                
                const html = `
                    <div class="activity-item">
                        <div class="activity-icon ${iconBg}">
                            <i class="fas ${iconClass}"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">${activity.title}</div>
                            <div class="activity-description">${activity.description || ''}</div>
                            <div class="activity-time">${activity.time_ago || ''}</div>
                        </div>
                    </div>
                `;
                activityList.insertAdjacentHTML('beforeend', html);
            });
        }

        function createOrReplaceChart(canvasId, type, data, options = {}) {
            const ctx = document.getElementById(canvasId);
            if (!ctx) {
                console.warn(`‚ö†Ô∏è Canvas element '${canvasId}' not found`);
                return;
            }
            
            // Get Chart instance from canvas (Chart.js stores it)
            const existingChart = Chart.getChart(canvasId);
            if (existingChart) {
                console.log(`üîÑ Destroying existing chart '${canvasId}'`);
                existingChart.destroy();
            }
            
            // Also destroy from our cache if exists
            if (dashboardCharts[canvasId]) {
                try {
                    dashboardCharts[canvasId].destroy();
                } catch (e) {
                    // Already destroyed
                }
                delete dashboardCharts[canvasId];
            }
            
            // Merge default options with custom options
            const defaultOptions = {
                responsive: true,
                maintainAspectRatio: false,
                animation: {
                    duration: 1000,
                    easing: 'easeInOutQuart'
                },
                plugins: {
                    legend: {
                        display: type === 'doughnut',
                        position: 'bottom',
                        labels: {
                            font: {
                                family: 'Sarabun',
                                size: 13
                            },
                            padding: 15,
                            usePointStyle: true
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleFont: {
                            family: 'Sarabun',
                            size: 14
                        },
                        bodyFont: {
                            family: 'Sarabun',
                            size: 13
                        },
                        padding: 12,
                        borderRadius: 8
                    }
                },
                scales: type !== 'doughnut' && type !== 'pie' ? {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)',
                            borderDash: [5, 5]
                        },
                        ticks: {
                            font: {
                                family: 'Sarabun',
                                size: 12
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                family: 'Sarabun',
                                size: 12
                            }
                        }
                    }
                } : {}
            };
            
            const mergedOptions = { ...defaultOptions, ...options };
            
            // Create new chart
            try {
                dashboardCharts[canvasId] = new Chart(ctx, {
                    type: type,
                    data: data,
                    options: mergedOptions
                });
                console.log(`‚úÖ Chart '${canvasId}' created successfully`);
            } catch (error) {
                console.error(`‚ùå Error creating chart '${canvasId}':`, error);
            }
        }

        // Ensure Chart.js is loaded then load dashboard
        function ensureLibs() {
            if (typeof Chart !== 'undefined') {
                loadDashboardCharts();
            } else {
                // Wait for Chart.js to load
                setTimeout(ensureLibs, 100);
            }
        }

        // Load charts when dashboard is shown
        document.addEventListener('DOMContentLoaded', function() {
            if (currentSection === 'dashboard') {
                ensureLibs();
            }
        });

        // Reload charts when switching to dashboard
        const originalShowSection = window.showSection;
        window.showSection = function(sectionId) {
            originalShowSection(sectionId);
            if (sectionId === 'dashboard') {
                setTimeout(ensureLibs, 100);
            }
        };
    </script>
    <script>
        // ============================================
        // Global Functions - Expose to inline handlers
        // ============================================
        
        // Expose activateMenu globally
        window.activateMenu = function(el) {
            document.querySelectorAll('#sidebar .menu a').forEach(a => a.classList.remove('active'));
            if (el) el.classList.add('active');
            if (window.innerWidth < 992) {
                if (typeof toggleSidebar === 'function') {
                    toggleSidebar(false);
                }
            }
        };
        
        // Expose hideNotification globally  
        window.hideNotification = function() {
            const notificationBar = document.getElementById('notificationBar');
            if (notificationBar) {
                notificationBar.classList.remove('show');
            }
        };
        
        // ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô toggleUserMenu ‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡∏¢ user-dropdown.js ‡πÅ‡∏•‡πâ‡∏ß
        // ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á wrapper function ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô
        
        // Expose showSection globally
        window.showSection = function(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Update navigation
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });

            // Find and activate current nav link
            const currentNavLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (currentNavLink) {
                currentNavLink.classList.add('active');
            }
            
            // Also handle sidebar menu activation
            const sidebarLinks = document.querySelectorAll('#sidebar .menu a');
            sidebarLinks.forEach(link => {
                link.classList.remove('active');
            });
            const sidebarNavLink = document.querySelector(`#sidebar .menu a[onclick*="showSection('${sectionId}')"]`);
            if (sidebarNavLink) {
                sidebarNavLink.classList.add('active');
            }

            // Store current section
            if (typeof currentSection !== 'undefined') {
                currentSection = sectionId;
            }
        };
        
        // Progressive enhancements for production readiness
        (function() {
            // 1) Force lazy-loading for all images if not already set
            document.querySelectorAll('img:not([loading])').forEach(function(img) {
                img.setAttribute('loading', 'lazy');
                img.setAttribute('decoding', 'async');
            });

            // 2) Secure external links: open in new tab safely
            document.querySelectorAll('a[target="_blank"]').forEach(function(a) {
                const rel = (a.getAttribute('rel') || '').split(/\s+/);
                if (!rel.includes('noopener')) rel.push('noopener');
                if (!rel.includes('noreferrer')) rel.push('noreferrer');
                a.setAttribute('rel', rel.join(' ').trim());
            });

            // 3) Add passive listeners for scroll/touch for smoother scrolling
            try {
                window.addEventListener('touchstart', function(){}, { passive: true });
                window.addEventListener('wheel', function(){}, { passive: true });
            } catch (e) {}
        })();

        // ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô updateUserMenuDisplay() ‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß
        // ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô updateUserInfo() (‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î ~8696)
        // ‡πÉ‡∏ä‡πâ updateUserInfo() ‡πÅ‡∏•‡∏∞ applyOpduerRoleVisibility() ‡πÅ‡∏ó‡∏ô

        // ============================================
        // üåô Dark Mode Toggle Function
        // ============================================
        function toggleDarkMode() {
            const body = document.body;
            const isDarkMode = body.classList.toggle('dark-mode');
            
            // ‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ô localStorage
            localStorage.setItem('darkMode', isDarkMode ? 'enabled' : 'disabled');
            
            // ‡πÅ‡∏™‡∏î‡∏á Toast notification
            showToast(
                isDarkMode ? 'üåô ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡∏°‡∏∑‡∏î‡πÅ‡∏•‡πâ‡∏ß' : '‚òÄÔ∏è ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß', 
                'info', 
                2000
            );
            
            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏° Dark Mode (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
            const darkModeBtn = document.getElementById('darkModeToggle');
            if (darkModeBtn) {
                const icon = darkModeBtn.querySelector('i');
                if (icon) {
                    icon.className = isDarkMode ? 'fas fa-sun' : 'fas fa-moon';
                }
            }
        }

        // ‡πÇ‡∏´‡∏•‡∏î Dark Mode preference ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        function initDarkMode() {
            const darkModePreference = localStorage.getItem('darkMode');
            if (darkModePreference === 'enabled') {
                document.body.classList.add('dark-mode');
                
                // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô
                const darkModeBtn = document.getElementById('darkModeToggle');
                if (darkModeBtn) {
                    const icon = darkModeBtn.querySelector('i');
                    if (icon) icon.className = 'fas fa-sun';
                }
            }
        }

        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Initializing application...');
            initDarkMode();
            // initUserMenu removed - use user-dropdown.js
            console.log('‚úÖ Application initialized');
        });

        // ============================================
        // ‡πÇ‡∏´‡∏•‡∏î Notifications ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Notification Count
        // ============================================
        // ‚ö†Ô∏è DISABLED: notifications API is disabled due to database error
        async function loadUserNotifications() {
            try {
                // DISABLED: No API call to prevent 503 errors
                updateNotificationDisplay([]);
                updateNotificationCount(0);
            } catch (error) {
                console.warn('User notifications disabled:', error);
            }
        }

        function updateNotificationDisplay(notifications) {
            const notificationList = document.getElementById('userMenuNotifications');
            if (!notificationList) return;
            
            // DISABLED: Show disabled message
            notificationList.innerHTML = `
                <div class="dropdown-notification-empty">
                    <i class="fas fa-bell-slash"></i>
                    <p>‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</p>
                </div>
            `;
            return;
            
            // ‡πÅ‡∏™‡∏î‡∏á Notifications
            notificationList.innerHTML = notifications.map(notif => `
                <div class="dropdown-notification-item ${notif.is_read ? '' : 'unread'}" onclick="handleNotificationClick('${notif.id}')">
                    <div class="notification-header">
                        <div class="notification-title">${notif.title || '‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô'}</div>
                        <div class="notification-time">${formatNotificationTime(notif.created_at)}</div>
                    </div>
                    <div class="notification-message">${notif.message || notif.body || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î'}</div>
                </div>
            `).join('');
        }

        function updateNotificationCount(count) {
            const notificationCount = document.getElementById('notificationCount');
            if (notificationCount) {
                if (count > 0) {
                    notificationCount.textContent = count > 99 ? '99+' : count;
                    notificationCount.style.display = 'flex';
                } else {
                    notificationCount.style.display = 'none';
                }
            }
        }

        // ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô formatNotificationTime() ‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 8785 ‡πÅ‡∏•‡πâ‡∏ß (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô)

        function handleNotificationClick(notificationId) {
            // Mark as read ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î Notification detail
            markNotificationAsRead(notificationId);
            viewNotificationDetail(notificationId);
        }

        async function markNotificationAsRead(notificationId) {
            try {
                await fetchWithAuth('../api/notifications.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        action: 'mark_read',
                        notification_id: notificationId
                    })
                });
                
                // Reload notifications after marking as read
                loadUserNotifications();
            } catch (error) {
                console.error('Mark notification as read failed:', error);
            }
        }

        function viewNotificationDetail(notificationId) {
            // ‡πÅ‡∏™‡∏î‡∏á detail ‡∏Ç‡∏≠‡∏á notification (‡∏ï‡πà‡∏≠‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)
            console.log('View notification detail:', notificationId);
            showNotification('info', '‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ');
        }

        function markAllNotificationsAsRead() {
            fetchWithAuth('../api/notifications.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    action: 'mark_all_read'
                })
            }).then(() => {
                loadUserNotifications();
                showNotification('success', '‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß');
            }).catch(error => {
                console.error('Mark all as read failed:', error);
                showNotification('error', '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ');
            });
        }

        // ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô viewAllNotifications() ‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 8605 ‡πÅ‡∏•‡πâ‡∏ß (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô)

        function contactSupport() {
            // Close dropdown using user-dropdown.js
            if (window.UserDropdown && window.UserDropdown.closeUserMenuDropdown) {
                window.UserDropdown.closeUserMenuDropdown();
            }
            showNotification('info', '‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ä‡∏ó‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡∏°‡∏ã‡∏±‡∏û‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ');
        }

        // ============================================
        // üí¨ HELP CENTER / SUPPORT FUNCTIONS
        // ============================================
        
        /**
         * Navigate to Help Center page
         */
        function helpCenter(event) {
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }
            
            // Close dropdown using user-dropdown.js
            if (window.UserDropdown && window.UserDropdown.closeUserMenuDropdown) {
                window.UserDropdown.closeUserMenuDropdown();
            }
            
            // Navigate to help center page
            window.location.href = 'help-center.html';
        }

        /**
         * Mark all notifications as read
         */
        function markAllNotificationsAsRead(event) {
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }
            
            // Call API to mark all as read
            fetchWithAuth('../api/notifications.php?action=read_all', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    showNotification('success', '‚úÖ ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß');
                    loadUserNotifications();
                    loadUnreadNotificationCount();
                } else {
                    showNotification('error', '‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ');
                }
            })
            .catch(error => {
                console.error('Error marking all as read:', error);
                showNotification('error', '‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
            });
        }

        /**
         * View all notifications - ‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 8605 ‡πÅ‡∏•‡πâ‡∏ß (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô)
         */

        function toggleNotificationDropdown() {
            // Toggle notification center (‡∏ï‡πà‡∏≠‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)
            showNotification('info', '‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ');
        }

        // ============================================
        // ============================================
        // üöÄ Initialize when page loads
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize user menu removed - handled by user-dropdown.js
            
            // Refresh notification count every 60 seconds
            setInterval(function() {
                updateNotificationCount();
            }, 60000);
        });

        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./sw.js').catch(function(){});
            });
        }

        // ============================================
        // üåê GLOBAL SCOPE ATTACHMENTS
        // ============================================
        // Required for inline onclick handlers to access functions defined in local scope
        // Fix for: "Uncaught ReferenceError: function is not defined"
        (function() {
            'use strict';
            
            // List of all functions that need to be accessible from onclick handlers
            const functionNames = [
                // Core Modal Functions
                'openModal', 'closeModal', 'openVehicleModal', 'closeVehicleModal',
                
                // User Management
                'editUser', 'deleteUser', 'resetPassword', 'suspendUser',
                
                // Fuel Management
                'editFuelRecord', 'deleteFuelRecord', 'printFuelReceipt',
                
                // Vehicle Logs
                'editVehicleLog', 'viewVehicleLog', 'printVehicleLog', 'completeVehicleLog',
                'exportVehicleLogs', 'exportHistory',
                
                // GPS & Route
                'showGPSMap', 'exportGPSReport', 'viewRoute', 'generateTripReport',
                
                // Request Management
                'editRequest', 'approveRequest', 'rejectRequest', 'printApprovalForm',
                
                // Maintenance
                'editMaintenanceRecord', 'printMaintenanceReport', 'updateMaintenanceStatus',
                
                // Inspection
                'editInspection', 'deleteInspection', 'printInspectionReport',
                
                // Quick Actions
                'quickAddVehicle', 'quickCreateRequest', 'quickViewReports',
                
                // Reports & Charts
                'showChartModal', 'downloadReport', 'previewReport', 'deleteReport',
                'refreshReport', 'cancelReport'
            ];
            
            let attachedCount = 0;
            
            // Attach each function to window if it exists in current scope
            functionNames.forEach(function(fnName) {
                try {
                    // Check if function exists in current scope but not in window
                    if (typeof window[fnName] === 'undefined') {
                        // Try to evaluate and attach
                        const fn = eval('typeof ' + fnName + ' !== "undefined" ? ' + fnName + ' : null');
                        if (fn && typeof fn === 'function') {
                            window[fnName] = fn;
                            attachedCount++;
                        }
                    }
                } catch (e) {
                    // Function doesn't exist in scope - skip silently
                }
            });
            
            console.log('‚úÖ Global scope: ' + attachedCount + ' functions attached to window');
            
            // Verify critical functions after a short delay to allow first script to complete
            setTimeout(function() {
                const critical = ['openModal', 'openVehicleModal', 'showNotification', 'hideNotification'];
                const missing = [];
                critical.forEach(function(fnName) {
                    if (typeof window[fnName] !== 'function') {
                        missing.push(fnName);
                    }
                });
                
                if (missing.length === 0) {
                    console.log('‚úÖ All critical functions are available');
                } else {
                    console.warn('‚ö†Ô∏è Missing critical functions:', missing);
                }
            }, 100);
        })();
    </script>
    <!-- Bootstrap 5 Bundle JS (‡∏£‡∏ß‡∏° Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="js/script.js" defer></script>
    <script src="js/vehicle-functions.js" defer></script>
    <script src="js/vehicle-inspections.js" defer></script>
    <!-- Vehicle Data Loader - ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
    <script src="js/vehicle-data-loader.js" defer></script>
    <!-- User Dropdown Menu System -->
    <script src="js/user-dropdown.js" defer></script>
    <!-- Auto Logout System - ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏ô‡∏≤‡∏ó‡∏µ -->
    <script src="js/auto-logout.js" defer></script>
</body>
</html>